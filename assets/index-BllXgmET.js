import{i as n0,a as Tm,u as Qt}from"./vendor-i18n-Lpt3KMfJ.js";import{L as ye,M as pi,T as gi,P as Xc,C as Gc,a as Hl,b as Ll,u as vi,R as hi,r as K,c as Em}from"./vendor-leaflet-BTMjbQwr.js";import{r as wm,a as Dm,b as Om,c as Um}from"./vendor-react-kLSZ_uSw.js";import{g as cl}from"./gov-data-DQ5ds7D6.js";import{a as Vn}from"./vendor-axios-B9ygI19o.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const y of d)if(y.type==="childList")for(const p of y.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function h(d){const y={};return d.integrity&&(y.integrity=d.integrity),d.referrerPolicy&&(y.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?y.credentials="include":d.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function o(d){if(d.ep)return;d.ep=!0;const y=h(d);fetch(d.href,y)}})();var Oc={exports:{}},Gn={};var Xd;function Rm(){if(Xd)return Gn;Xd=1;var f=Symbol.for("react.transitional.element"),m=Symbol.for("react.fragment");function h(o,d,y){var p=null;if(y!==void 0&&(p=""+y),d.key!==void 0&&(p=""+d.key),"key"in d){y={};for(var g in d)g!=="key"&&(y[g]=d[g])}else y=d;return d=y.ref,{$$typeof:f,type:o,key:p,ref:d!==void 0?d:null,props:y}}return Gn.Fragment=m,Gn.jsx=h,Gn.jsxs=h,Gn}var Gd;function Bm(){return Gd||(Gd=1,Oc.exports=Rm()),Oc.exports}var s=Bm();const Cm="澳門巴士",Lm="實時巴士追蹤及交通",Hm="搜尋路線...",qm="附近車站",Ym="清單",Xm="地圖",Gm="切換方向",Qm="載入中...",Zm="沒有資料",Vm="即將到站",Km="站",Jm="刷新",km="所有路線",Fm="搜尋路線 (如: 33, 26A)...",$m="往",Wm="切換方向",Im="更新時間",Pm="輛巴士運行中",t1="已到站",e1="行駛中",l1="前往",a1="暫無服務",n1="無巴士接近中",u1="站",i1="分鐘",s1="搜尋",c1="返回",o1="展開",f1="位置存取被拒絕",r1="請開啟位置權限以查看附近車站",d1="附近沒有車站",h1="搜尋路線",m1="搜尋車站",p1="輸入車站名稱...",g1="途經路線",v1="現時位於",x1="頭班車",y1="尾班車",b1={live_status:"實時狀態",route_planner:"路線規劃"},S1={title:"路線規劃",subtitle:"尋找最佳巴士路線",load_error:"無法載入巴士資料",geo_not_supported:"不支援地理位置",no_nearby_stop:"附近找不到車站",geo_error:"無法獲取位置",missing_points:"請輸入起點和終點",no_route:"找不到往返這兩個車站的路線",search_error:"搜尋時發生錯誤",from:"從",search_placeholder:"搜尋車站、地點或編號",enter_stop_id:"輸入車站編號 (如: M123)",use_location:"使用我的位置",my_location:"我的位置",swap:"交換",to:"往",searching:"搜尋中...",find_route:"搜尋路線",walk_to_stop:"步行至車站",walk_to_destination:"步行至目的地",results:"找到路線",tap_search:"點擊「搜尋路線」開始",loading_data:"巴士資料下載中...",places_header:"地點",place_type:"地點",map_preview:"地圖預覽",set_start:"設為起點",set_end:"設為終點",tap_to_set:"點擊地圖以設定{{type}}",start_location:"起點",end_location:"終點",show_map:"顯示地圖",hide_map:"隱藏地圖"},_1={start:"起點",stops:"站",board_at:"上車",alight_at:"下車",hide_stops:"隱藏車站",show_stops:"顯示車站",stop_list_placeholder:"車站列表將顯示於此...",transfer:"轉乘",no_route:"找不到路線",transfers:"次轉乘",destination:"終點"},N1={app_title:Cm,subtitle:Lm,search_placeholder:Hm,nearby_stops:qm,list_view:Ym,map_view:Xm,direction_toggle:Gm,loading:Qm,no_data:Zm,arriving:Vm,stops_away:Km,refresh:Jm,all_routes:km,search_route_placeholder:Fm,to_destination:$m,switch_dir:Wm,updated:Im,buses_live:Pm,at_station:t1,en_route:e1,going_to:l1,no_active_service:a1,no_approaching:n1,stops:u1,min:i1,go:s1,back:c1,open:o1,location_denied:f1,enable_location:r1,no_stops_nearby:d1,search_route:h1,search_stop:m1,search_stop_placeholder:p1,routes_at_stop:g1,current_location:v1,first_bus:x1,last_bus:y1,nav:b1,route_planner:S1,route_result:_1},j1="Macau Bus",A1="Real-time bus tracking & traffic",z1="Search route...",M1="Nearby Stops",T1="List",E1="Map",w1="Toggle Direction",D1="Loading...",O1="No data",U1="Arriving",R1="stops",B1="Refresh",C1="All Routes",L1="Search Route (e.g. 33, 26A)...",H1="To Destination",q1="Switch Dir",Y1="Updated",X1="buses live on route",G1="At Station",Q1="En Route",Z1="going to",V1="No active service",K1="No approaching buses",J1="stops",k1="min",F1="GO",$1="Back",W1="Open",I1="Location access denied",P1="Enable location to see nearby stops",tp="No stops found nearby",ep="Search Route",lp="Search Stop",ap="Enter stop name...",np="Routes",up="Currently At",ip="First Bus",sp="Last Bus",cp={live_status:"Live Status",route_planner:"Route Planner"},op={title:"Trip Planner",subtitle:"Find the best bus route",load_error:"Failed to load bus data",geo_not_supported:"Geolocation is not supported",no_nearby_stop:"No nearby stop found",geo_error:"Failed to get location",missing_points:"Please enter both start and end points",no_route:"No route found between these stops",search_error:"An error occurred while searching",from:"From",search_placeholder:"Search stop, place or ID",enter_stop_id:"Enter stop ID (e.g. M123)",use_location:"Use my location",my_location:"My Location",swap:"Swap",to:"To",searching:"Searching...",find_route:"Find Route",walk_to_stop:"Walk to bus stop",walk_to_destination:"Walk to destination",results:"Route Found",tap_search:'Tap "Find Route" to search',loading_data:"Loading bus data...",places_header:"Places",place_type:"Place",map_preview:"Location Preview",set_start:"Set Start",set_end:"Set End",tap_to_set:"Tap map to set {{type}}",start_location:"Start",end_location:"Destination",show_map:"Show Map",hide_map:"Hide Map"},fp={start:"Start",stops:"stops",board_at:"Board at",alight_at:"Alight at",hide_stops:"Hide stops",show_stops:"Show stops",stop_list_placeholder:"Stop list will be shown here...",transfer:"Transfer",no_route:"No route found",transfers:"transfer(s)",destination:"Destination"},rp={app_title:j1,subtitle:A1,search_placeholder:z1,nearby_stops:M1,list_view:T1,map_view:E1,direction_toggle:w1,loading:D1,no_data:O1,arriving:U1,stops_away:R1,refresh:B1,all_routes:C1,search_route_placeholder:L1,to_destination:H1,switch_dir:q1,updated:Y1,buses_live:X1,at_station:G1,en_route:Q1,going_to:Z1,no_active_service:V1,no_approaching:K1,stops:J1,min:k1,go:F1,back:$1,open:W1,location_denied:I1,enable_location:P1,no_stops_nearby:tp,search_route:ep,search_stop:lp,search_stop_placeholder:ap,routes_at_stop:np,current_location:up,first_bus:ip,last_bus:sp,nav:cp,route_planner:op,route_result:fp},dp="Autocarro de Macau",hp="Rastreamento de autocarros em tempo real",mp="Pesquisar rota...",pp="Paragens Próximas",gp="Lista",vp="Mapa",xp="Alternar Direcção",yp="A carregar...",bp="Sem dados",Sp="A chegar",_p="paragens",Np="Atualizar",jp="Todas as Rotas",Ap="Pesquisar Rota (ex: 33, 26A)...",zp="Para Destino",Mp="Mudar Dir",Tp="Atualizado",Ep="autocarros em rota",wp="Na paragem",Dp="A caminho",Op="indo para",Up="Sem serviço activo",Rp="Sem autocarros a aproximar",Bp="paragens",Cp="min",Lp="IR",Hp="Voltar",qp="Abrir",Yp="Acesso à localização negado",Xp="Active a localização para ver paragens próximas",Gp="Não há paragens nas proximidades",Qp="Pesquisar Rota",Zp="Pesquisar Paragem",Vp="Digite o nome da paragem...",Kp="Rotas",Jp="Atualmente em",kp="Primeiro",Fp="Último",$p={live_status:"Estado ao Vivo",route_planner:"Planejador de Rotas"},Wp={title:"Planejador de Viagem",subtitle:"Encontre a melhor rota",load_error:"Falha ao carregar dados",geo_not_supported:"Geolocalização não suportada",no_nearby_stop:"Nenhuma paragem próxima",geo_error:"Falha ao obter localização",missing_points:"Insira início e fim",no_route:"Nenhuma rota encontrada",search_error:"Erro na pesquisa",from:"De",search_placeholder:"Paragem, local ou ID",enter_stop_id:"ID da paragem (ex: M123)",use_location:"Usar localização",my_location:"Minha Localização",swap:"Trocar",to:"Para",searching:"A pesquisar...",find_route:"Procurar",walk_to_stop:"Caminhar até à paragem",walk_to_destination:"Caminhar até ao destino",results:"Rota Encontrada",tap_search:'Toque em "Encontrar Rota"',loading_data:"A carregar dados...",places_header:"Locais",place_type:"Local",map_preview:"Pré-visualização do Mapa",set_start:"Definir Início",set_end:"Definir Fim",tap_to_set:"Toque no mapa para definir {{type}}",start_location:"Início",end_location:"Destino",show_map:"Mostrar Mapa",hide_map:"Ocultar Mapa"},Ip={start:"Início",stops:"paragens",board_at:"Embarcar em",alight_at:"Desembarcar em",hide_stops:"Ocultar paragens",show_stops:"Mostrar paragens",stop_list_placeholder:"Lista de paragens aqui...",transfer:"Transferência",no_route:"Nenhuma rota encontrada",transfers:"transferência(s)",destination:"Destino"},Pp={app_title:dp,subtitle:hp,search_placeholder:mp,nearby_stops:pp,list_view:gp,map_view:vp,direction_toggle:xp,loading:yp,no_data:bp,arriving:Sp,stops_away:_p,refresh:Np,all_routes:jp,search_route_placeholder:Ap,to_destination:zp,switch_dir:Mp,updated:Tp,buses_live:Ep,at_station:wp,en_route:Dp,going_to:Op,no_active_service:Up,no_approaching:Rp,stops:Bp,min:Cp,go:Lp,back:Hp,open:qp,location_denied:Yp,enable_location:Xp,no_stops_nearby:Gp,search_route:Qp,search_stop:Zp,search_stop_placeholder:Vp,routes_at_stop:Kp,current_location:Jp,first_bus:kp,last_bus:Fp,nav:$p,route_planner:Wp,route_result:Ip};n0.use(Tm).init({resources:{"zh-TW":{translation:N1},en:{translation:rp},pt:{translation:Pp}},lng:"zh-TW",fallbackLng:"zh-TW",interpolation:{escapeValue:!1}});var Uc={exports:{}},Qn={},Rc={exports:{}},Bc={};var Qd;function tg(){return Qd||(Qd=1,(function(f){function m(j,M){var U=j.length;j.push(M);t:for(;0<U;){var Y=U-1>>>1,X=j[Y];if(0<d(X,M))j[Y]=M,j[U]=X,U=Y;else break t}}function h(j){return j.length===0?null:j[0]}function o(j){if(j.length===0)return null;var M=j[0],U=j.pop();if(U!==M){j[0]=U;t:for(var Y=0,X=j.length,ot=X>>>1;Y<ot;){var st=2*(Y+1)-1,ct=j[st],_t=st+1,Pt=j[_t];if(0>d(ct,U))_t<X&&0>d(Pt,ct)?(j[Y]=Pt,j[_t]=U,Y=_t):(j[Y]=ct,j[st]=U,Y=st);else if(_t<X&&0>d(Pt,U))j[Y]=Pt,j[_t]=U,Y=_t;else break t}}return M}function d(j,M){var U=j.sortIndex-M.sortIndex;return U!==0?U:j.id-M.id}if(f.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var y=performance;f.unstable_now=function(){return y.now()}}else{var p=Date,g=p.now();f.unstable_now=function(){return p.now()-g}}var A=[],N=[],O=1,w=null,q=3,G=!1,B=!1,Z=!1,Q=!1,tt=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function k(j){for(var M=h(N);M!==null;){if(M.callback===null)o(N);else if(M.startTime<=j)o(N),M.sortIndex=M.expirationTime,m(A,M);else break;M=h(N)}}function ut(j){if(Z=!1,k(j),!B)if(h(A)!==null)B=!0,V||(V=!0,r());else{var M=h(N);M!==null&&v(ut,M.startTime-j)}}var V=!1,it=-1,lt=5,$=-1;function rt(){return Q?!0:!(f.unstable_now()-$<lt)}function at(){if(Q=!1,V){var j=f.unstable_now();$=j;var M=!0;try{t:{B=!1,Z&&(Z=!1,F(it),it=-1),G=!0;var U=q;try{e:{for(k(j),w=h(A);w!==null&&!(w.expirationTime>j&&rt());){var Y=w.callback;if(typeof Y=="function"){w.callback=null,q=w.priorityLevel;var X=Y(w.expirationTime<=j);if(j=f.unstable_now(),typeof X=="function"){w.callback=X,k(j),M=!0;break e}w===h(A)&&o(A),k(j)}else o(A);w=h(A)}if(w!==null)M=!0;else{var ot=h(N);ot!==null&&v(ut,ot.startTime-j),M=!1}}break t}finally{w=null,q=U,G=!1}M=void 0}}finally{M?r():V=!1}}}var r;if(typeof J=="function")r=function(){J(at)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,b=S.port2;S.port1.onmessage=at,r=function(){b.postMessage(null)}}else r=function(){tt(at,0)};function v(j,M){it=tt(function(){j(f.unstable_now())},M)}f.unstable_IdlePriority=5,f.unstable_ImmediatePriority=1,f.unstable_LowPriority=4,f.unstable_NormalPriority=3,f.unstable_Profiling=null,f.unstable_UserBlockingPriority=2,f.unstable_cancelCallback=function(j){j.callback=null},f.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):lt=0<j?Math.floor(1e3/j):5},f.unstable_getCurrentPriorityLevel=function(){return q},f.unstable_next=function(j){switch(q){case 1:case 2:case 3:var M=3;break;default:M=q}var U=q;q=M;try{return j()}finally{q=U}},f.unstable_requestPaint=function(){Q=!0},f.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=q;q=j;try{return M()}finally{q=U}},f.unstable_scheduleCallback=function(j,M,U){var Y=f.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=U+X,j={id:O++,callback:M,priorityLevel:j,startTime:U,expirationTime:X,sortIndex:-1},U>Y?(j.sortIndex=U,m(N,j),h(A)===null&&j===h(N)&&(Z?(F(it),it=-1):Z=!0,v(ut,U-Y))):(j.sortIndex=X,m(A,j),B||G||(B=!0,V||(V=!0,r()))),j},f.unstable_shouldYield=rt,f.unstable_wrapCallback=function(j){var M=q;return function(){var U=q;q=M;try{return j.apply(this,arguments)}finally{q=U}}}})(Bc)),Bc}var Zd;function eg(){return Zd||(Zd=1,Rc.exports=tg()),Rc.exports}var Vd;function lg(){if(Vd)return Qn;Vd=1;var f=eg(),m=wm(),h=Dm();function o(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)e+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function y(t){var e=t,l=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(l=e.return),t=e.return;while(t)}return e.tag===3?l:null}function p(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A(t){if(y(t)!==t)throw Error(o(188))}function N(t){var e=t.alternate;if(!e){if(e=y(t),e===null)throw Error(o(188));return e!==t?null:t}for(var l=t,a=e;;){var n=l.return;if(n===null)break;var u=n.alternate;if(u===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===u.child){for(u=n.child;u;){if(u===l)return A(n),t;if(u===a)return A(n),e;u=u.sibling}throw Error(o(188))}if(l.return!==a.return)l=n,a=u;else{for(var i=!1,c=n.child;c;){if(c===l){i=!0,l=n,a=u;break}if(c===a){i=!0,a=n,l=u;break}c=c.sibling}if(!i){for(c=u.child;c;){if(c===l){i=!0,l=u,a=n;break}if(c===a){i=!0,a=u,l=n;break}c=c.sibling}if(!i)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?t:e}function O(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=O(t),e!==null)return e;t=t.sibling}return null}var w=Object.assign,q=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),tt=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),J=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),rt=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function r(t){return t===null||typeof t!="object"?null:(t=at&&t[at]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case tt:return"Profiler";case Q:return"StrictMode";case ut:return"Suspense";case V:return"SuspenseList";case $:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case J:return t.displayName||"Context";case F:return(t._context.displayName||"Context")+".Consumer";case k:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case it:return e=t.displayName||null,e!==null?e:b(t.type)||"Memo";case lt:e=t._payload,t=t._init;try{return b(t(e))}catch{}}return null}var v=Array.isArray,j=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},Y=[],X=-1;function ot(t){return{current:t}}function st(t){0>X||(t.current=Y[X],Y[X]=null,X--)}function ct(t,e){X++,Y[X]=t.current,t.current=e}var _t=ot(null),Pt=ot(null),le=ot(null),ol=ot(null);function Jt(t,e){switch(ct(le,e),ct(Pt,t),ct(_t,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?fd(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=fd(e),t=rd(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(_t),ct(_t,t)}function ae(){st(_t),st(Pt),st(le)}function be(t){t.memoizedState!==null&&ct(ol,t);var e=_t.current,l=rd(e,t.type);e!==l&&(ct(Pt,t),ct(_t,l))}function Re(t){Pt.current===t&&(st(_t),st(Pt)),ol.current===t&&(st(ol),Hn._currentValue=U)}var Xe,na;function Ge(t){if(Xe===void 0)try{throw Error()}catch(l){var e=l.stack.trim().match(/\n( *(at )?)/);Xe=e&&e[1]||"",na=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+t+na}var Va=!1;function Ka(t,e){if(!t||Va)return"";Va=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(e){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(R){var D=R}Reflect.construct(t,[],H)}else{try{H.call()}catch(R){D=R}t.call(H.prototype)}}else{try{throw Error()}catch(R){D=R}(H=t())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(R){if(R&&D&&typeof R.stack=="string")return[R.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=a.DetermineComponentFrameRoot(),i=u[0],c=u[1];if(i&&c){var x=i.split(`
`),E=c.split(`
`);for(n=a=0;a<x.length&&!x[a].includes("DetermineComponentFrameRoot");)a++;for(;n<E.length&&!E[n].includes("DetermineComponentFrameRoot");)n++;if(a===x.length||n===E.length)for(a=x.length-1,n=E.length-1;1<=a&&0<=n&&x[a]!==E[n];)n--;for(;1<=a&&0<=n;a--,n--)if(x[a]!==E[n]){if(a!==1||n!==1)do if(a--,n--,0>n||x[a]!==E[n]){var C=`
`+x[a].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=a&&0<=n);break}}}finally{Va=!1,Error.prepareStackTrace=l}return(l=t?t.displayName||t.name:"")?Ge(l):""}function yi(t,e){switch(t.tag){case 26:case 27:case 5:return Ge(t.type);case 16:return Ge("Lazy");case 13:return t.child!==e&&e!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Ka(t.type,!1);case 11:return Ka(t.type.render,!1);case 1:return Ka(t.type,!0);case 31:return Ge("Activity");default:return""}}function kn(t){try{var e="",l=null;do e+=yi(t,l),l=t,t=t.return;while(t);return e}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var I=Object.prototype.hasOwnProperty,ht=f.unstable_scheduleCallback,Lt=f.unstable_cancelCallback,Be=f.unstable_shouldYield,Ce=f.unstable_requestPaint,Ht=f.unstable_now,Ja=f.unstable_getCurrentPriorityLevel,fl=f.unstable_ImmediatePriority,ua=f.unstable_UserBlockingPriority,rl=f.unstable_NormalPriority,Fn=f.unstable_LowPriority,Rt=f.unstable_IdlePriority,ka=f.log,Fa=f.unstable_setDisableYieldValue,Qe=null,te=null;function dl(t){if(typeof ka=="function"&&Fa(t),te&&typeof te.setStrictMode=="function")try{te.setStrictMode(Qe,t)}catch{}}var re=Math.clz32?Math.clz32:m0,d0=Math.log,h0=Math.LN2;function m0(t){return t>>>=0,t===0?32:31-(d0(t)/h0|0)|0}var $n=256,Wn=262144,In=4194304;function ql(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pn(t,e,l){var a=t.pendingLanes;if(a===0)return 0;var n=0,u=t.suspendedLanes,i=t.pingedLanes;t=t.warmLanes;var c=a&134217727;return c!==0?(a=c&~u,a!==0?n=ql(a):(i&=c,i!==0?n=ql(i):l||(l=c&~t,l!==0&&(n=ql(l))))):(c=a&~u,c!==0?n=ql(c):i!==0?n=ql(i):l||(l=a&~t,l!==0&&(n=ql(l)))),n===0?0:e!==0&&e!==n&&(e&u)===0&&(u=n&-n,l=e&-e,u>=l||u===32&&(l&4194048)!==0)?e:n}function $a(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function p0(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qc(){var t=In;return In<<=1,(In&62914560)===0&&(In=4194304),t}function bi(t){for(var e=[],l=0;31>l;l++)e.push(t);return e}function Wa(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function g0(t,e,l,a,n,u){var i=t.pendingLanes;t.pendingLanes=l,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=l,t.entangledLanes&=l,t.errorRecoveryDisabledLanes&=l,t.shellSuspendCounter=0;var c=t.entanglements,x=t.expirationTimes,E=t.hiddenUpdates;for(l=i&~l;0<l;){var C=31-re(l),H=1<<C;c[C]=0,x[C]=-1;var D=E[C];if(D!==null)for(E[C]=null,C=0;C<D.length;C++){var R=D[C];R!==null&&(R.lane&=-536870913)}l&=~H}a!==0&&Zc(t,a,0),u!==0&&n===0&&t.tag!==0&&(t.suspendedLanes|=u&~(i&~e))}function Zc(t,e,l){t.pendingLanes|=e,t.suspendedLanes&=~e;var a=31-re(e);t.entangledLanes|=e,t.entanglements[a]=t.entanglements[a]|1073741824|l&261930}function Vc(t,e){var l=t.entangledLanes|=e;for(t=t.entanglements;l;){var a=31-re(l),n=1<<a;n&e|t[a]&e&&(t[a]|=e),l&=~n}}function Kc(t,e){var l=e&-e;return l=(l&42)!==0?1:Si(l),(l&(t.suspendedLanes|e))!==0?0:l}function Si(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Jc(){var t=M.p;return t!==0?t:(t=window.event,t===void 0?32:Rd(t.type))}function kc(t,e){var l=M.p;try{return M.p=t,e()}finally{M.p=l}}var hl=Math.random().toString(36).slice(2),kt="__reactFiber$"+hl,ne="__reactProps$"+hl,ia="__reactContainer$"+hl,Ni="__reactEvents$"+hl,v0="__reactListeners$"+hl,x0="__reactHandles$"+hl,Fc="__reactResources$"+hl,Ia="__reactMarker$"+hl;function ji(t){delete t[kt],delete t[ne],delete t[Ni],delete t[v0],delete t[x0]}function sa(t){var e=t[kt];if(e)return e;for(var l=t.parentNode;l;){if(e=l[ia]||l[kt]){if(l=e.alternate,e.child!==null||l!==null&&l.child!==null)for(t=xd(t);t!==null;){if(l=t[kt])return l;t=xd(t)}return e}t=l,l=t.parentNode}return null}function ca(t){if(t=t[kt]||t[ia]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Pa(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(o(33))}function oa(t){var e=t[Fc];return e||(e=t[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Vt(t){t[Ia]=!0}var $c=new Set,Wc={};function Yl(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(Wc[t]=e,t=0;t<e.length;t++)$c.add(e[t])}var y0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ic={},Pc={};function b0(t){return I.call(Pc,t)?!0:I.call(Ic,t)?!1:y0.test(t)?Pc[t]=!0:(Ic[t]=!0,!1)}function tu(t,e,l){if(b0(e))if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var a=e.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+l)}}function eu(t,e,l){if(l===null)t.removeAttribute(e);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+l)}}function Ze(t,e,l,a){if(a===null)t.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttributeNS(e,l,""+a)}}function Se(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function to(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S0(t,e,l){var a=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,u=a.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(i){l=""+i,u.call(this,i)}}),Object.defineProperty(t,e,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ai(t){if(!t._valueTracker){var e=to(t)?"checked":"value";t._valueTracker=S0(t,e,""+t[e])}}function eo(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var l=e.getValue(),a="";return t&&(a=to(t)?t.checked?"true":"false":t.value),t=a,t!==l?(e.setValue(t),!0):!1}function lu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _0=/[\n"\\]/g;function _e(t){return t.replace(_0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function zi(t,e,l,a,n,u,i,c){t.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?t.type=i:t.removeAttribute("type"),e!=null?i==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Se(e)):t.value!==""+Se(e)&&(t.value=""+Se(e)):i!=="submit"&&i!=="reset"||t.removeAttribute("value"),e!=null?Mi(t,i,Se(e)):l!=null?Mi(t,i,Se(l)):a!=null&&t.removeAttribute("value"),n==null&&u!=null&&(t.defaultChecked=!!u),n!=null&&(t.checked=n&&typeof n!="function"&&typeof n!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.name=""+Se(c):t.removeAttribute("name")}function lo(t,e,l,a,n,u,i,c){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.type=u),e!=null||l!=null){if(!(u!=="submit"&&u!=="reset"||e!=null)){Ai(t);return}l=l!=null?""+Se(l):"",e=e!=null?""+Se(e):l,c||e===t.value||(t.value=e),t.defaultValue=e}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,t.checked=c?t.checked:!!a,t.defaultChecked=!!a,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.name=i),Ai(t)}function Mi(t,e,l){e==="number"&&lu(t.ownerDocument)===t||t.defaultValue===""+l||(t.defaultValue=""+l)}function ra(t,e,l,a){if(t=t.options,e){e={};for(var n=0;n<l.length;n++)e["$"+l[n]]=!0;for(l=0;l<t.length;l++)n=e.hasOwnProperty("$"+t[l].value),t[l].selected!==n&&(t[l].selected=n),n&&a&&(t[l].defaultSelected=!0)}else{for(l=""+Se(l),e=null,n=0;n<t.length;n++){if(t[n].value===l){t[n].selected=!0,a&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function ao(t,e,l){if(e!=null&&(e=""+Se(e),e!==t.value&&(t.value=e),l==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=l!=null?""+Se(l):""}function no(t,e,l,a){if(e==null){if(a!=null){if(l!=null)throw Error(o(92));if(v(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),e=l}l=Se(e),t.defaultValue=l,a=t.textContent,a===l&&a!==""&&a!==null&&(t.value=a),Ai(t)}function da(t,e){if(e){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=e;return}}t.textContent=e}var N0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uo(t,e,l){var a=e.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":a?t.setProperty(e,l):typeof l!="number"||l===0||N0.has(e)?e==="float"?t.cssFloat=l:t[e]=(""+l).trim():t[e]=l+"px"}function io(t,e,l){if(e!=null&&typeof e!="object")throw Error(o(62));if(t=t.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||e!=null&&e.hasOwnProperty(a)||(a.indexOf("--")===0?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="");for(var n in e)a=e[n],e.hasOwnProperty(n)&&l[n]!==a&&uo(t,n,a)}else for(var u in e)e.hasOwnProperty(u)&&uo(t,u,e[u])}function Ti(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function au(t){return A0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Ve(){}var Ei=null;function wi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,ma=null;function so(t){var e=ca(t);if(e&&(t=e.stateNode)){var l=t[ne]||null;t:switch(t=e.stateNode,e.type){case"input":if(zi(t,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),e=l.name,l.type==="radio"&&e!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_e(""+e)+'"][type="radio"]'),e=0;e<l.length;e++){var a=l[e];if(a!==t&&a.form===t.form){var n=a[ne]||null;if(!n)throw Error(o(90));zi(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(e=0;e<l.length;e++)a=l[e],a.form===t.form&&eo(a)}break t;case"textarea":ao(t,l.value,l.defaultValue);break t;case"select":e=l.value,e!=null&&ra(t,!!l.multiple,e,!1)}}}var Di=!1;function co(t,e,l){if(Di)return t(e,l);Di=!0;try{var a=t(e);return a}finally{if(Di=!1,(ha!==null||ma!==null)&&(Zu(),ha&&(e=ha,t=ma,ma=ha=null,so(e),t)))for(e=0;e<t.length;e++)so(t[e])}}function tn(t,e){var l=t.stateNode;if(l===null)return null;var a=l[ne]||null;if(a===null)return null;l=a[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break t;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(o(231,e,typeof l));return l}var Ke=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oi=!1;if(Ke)try{var en={};Object.defineProperty(en,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",en,en),window.removeEventListener("test",en,en)}catch{Oi=!1}var ml=null,Ui=null,nu=null;function oo(){if(nu)return nu;var t,e=Ui,l=e.length,a,n="value"in ml?ml.value:ml.textContent,u=n.length;for(t=0;t<l&&e[t]===n[t];t++);var i=l-t;for(a=1;a<=i&&e[l-a]===n[u-a];a++);return nu=n.slice(t,1<a?1-a:void 0)}function uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function iu(){return!0}function fo(){return!1}function ue(t){function e(l,a,n,u,i){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=u,this.target=i,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(l=t[c],this[c]=l?l(u):u[c]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?iu:fo,this.isPropagationStopped=fo,this}return w(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),e}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=ue(Xl),ln=w({},Xl,{view:0,detail:0}),z0=ue(ln),Ri,Bi,an,cu=w({},ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Li,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==an&&(an&&t.type==="mousemove"?(Ri=t.screenX-an.screenX,Bi=t.screenY-an.screenY):Bi=Ri=0,an=t),Ri)},movementY:function(t){return"movementY"in t?t.movementY:Bi}}),ro=ue(cu),M0=w({},cu,{dataTransfer:0}),T0=ue(M0),E0=w({},ln,{relatedTarget:0}),Ci=ue(E0),w0=w({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=ue(w0),O0=w({},Xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),U0=ue(O0),R0=w({},Xl,{data:0}),ho=ue(R0),B0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=L0[t])?!!e[t]:!1}function Li(){return H0}var q0=w({},ln,{key:function(t){if(t.key){var e=B0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Li,charCode:function(t){return t.type==="keypress"?uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y0=ue(q0),X0=w({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mo=ue(X0),G0=w({},ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Li}),Q0=ue(G0),Z0=w({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),V0=ue(Z0),K0=w({},cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),J0=ue(K0),k0=w({},Xl,{newState:0,oldState:0}),F0=ue(k0),$0=[9,13,27,32],Hi=Ke&&"CompositionEvent"in window,nn=null;Ke&&"documentMode"in document&&(nn=document.documentMode);var W0=Ke&&"TextEvent"in window&&!nn,po=Ke&&(!Hi||nn&&8<nn&&11>=nn),go=" ",vo=!1;function xo(t,e){switch(t){case"keyup":return $0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pa=!1;function I0(t,e){switch(t){case"compositionend":return yo(e);case"keypress":return e.which!==32?null:(vo=!0,go);case"textInput":return t=e.data,t===go&&vo?null:t;default:return null}}function P0(t,e){if(pa)return t==="compositionend"||!Hi&&xo(t,e)?(t=oo(),nu=Ui=ml=null,pa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return po&&e.locale!=="ko"?null:e.data;default:return null}}var th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bo(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!th[t.type]:e==="textarea"}function So(t,e,l,a){ha?ma?ma.push(a):ma=[a]:ha=a,e=Wu(e,"onChange"),0<e.length&&(l=new su("onChange","change",null,l,a),t.push({event:l,listeners:e}))}var un=null,sn=null;function eh(t){nd(t,0)}function ou(t){var e=Pa(t);if(eo(e))return t}function _o(t,e){if(t==="change")return e}var No=!1;if(Ke){var qi;if(Ke){var Yi="oninput"in document;if(!Yi){var jo=document.createElement("div");jo.setAttribute("oninput","return;"),Yi=typeof jo.oninput=="function"}qi=Yi}else qi=!1;No=qi&&(!document.documentMode||9<document.documentMode)}function Ao(){un&&(un.detachEvent("onpropertychange",zo),sn=un=null)}function zo(t){if(t.propertyName==="value"&&ou(sn)){var e=[];So(e,sn,t,wi(t)),co(eh,e)}}function lh(t,e,l){t==="focusin"?(Ao(),un=e,sn=l,un.attachEvent("onpropertychange",zo)):t==="focusout"&&Ao()}function ah(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(sn)}function nh(t,e){if(t==="click")return ou(e)}function uh(t,e){if(t==="input"||t==="change")return ou(e)}function ih(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var de=typeof Object.is=="function"?Object.is:ih;function cn(t,e){if(de(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var l=Object.keys(t),a=Object.keys(e);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!I.call(e,n)||!de(t[n],e[n]))return!1}return!0}function Mo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function To(t,e){var l=Mo(t);t=0;for(var a;l;){if(l.nodeType===3){if(a=t+l.textContent.length,t<=e&&a>=e)return{node:l,offset:e-t};t=a}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Mo(l)}}function Eo(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Eo(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wo(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=lu(t.document);e instanceof t.HTMLIFrameElement;){try{var l=typeof e.contentWindow.location.href=="string"}catch{l=!1}if(l)t=e.contentWindow;else break;e=lu(t.document)}return e}function Xi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var sh=Ke&&"documentMode"in document&&11>=document.documentMode,ga=null,Gi=null,on=null,Qi=!1;function Do(t,e,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Qi||ga==null||ga!==lu(a)||(a=ga,"selectionStart"in a&&Xi(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),on&&cn(on,a)||(on=a,a=Wu(Gi,"onSelect"),0<a.length&&(e=new su("onSelect","select",null,e,l),t.push({event:e,listeners:a}),e.target=ga)))}function Gl(t,e){var l={};return l[t.toLowerCase()]=e.toLowerCase(),l["Webkit"+t]="webkit"+e,l["Moz"+t]="moz"+e,l}var va={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionrun:Gl("Transition","TransitionRun"),transitionstart:Gl("Transition","TransitionStart"),transitioncancel:Gl("Transition","TransitionCancel"),transitionend:Gl("Transition","TransitionEnd")},Zi={},Oo={};Ke&&(Oo=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Ql(t){if(Zi[t])return Zi[t];if(!va[t])return t;var e=va[t],l;for(l in e)if(e.hasOwnProperty(l)&&l in Oo)return Zi[t]=e[l];return t}var Uo=Ql("animationend"),Ro=Ql("animationiteration"),Bo=Ql("animationstart"),ch=Ql("transitionrun"),oh=Ql("transitionstart"),fh=Ql("transitioncancel"),Co=Ql("transitionend"),Lo=new Map,Vi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vi.push("scrollEnd");function De(t,e){Lo.set(t,e),Yl(e,[t])}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ne=[],xa=0,Ki=0;function ru(){for(var t=xa,e=Ki=xa=0;e<t;){var l=Ne[e];Ne[e++]=null;var a=Ne[e];Ne[e++]=null;var n=Ne[e];Ne[e++]=null;var u=Ne[e];if(Ne[e++]=null,a!==null&&n!==null){var i=a.pending;i===null?n.next=n:(n.next=i.next,i.next=n),a.pending=n}u!==0&&Ho(l,n,u)}}function du(t,e,l,a){Ne[xa++]=t,Ne[xa++]=e,Ne[xa++]=l,Ne[xa++]=a,Ki|=a,t.lanes|=a,t=t.alternate,t!==null&&(t.lanes|=a)}function Ji(t,e,l,a){return du(t,e,l,a),hu(t)}function Zl(t,e){return du(t,null,null,e),hu(t)}function Ho(t,e,l){t.lanes|=l;var a=t.alternate;a!==null&&(a.lanes|=l);for(var n=!1,u=t.return;u!==null;)u.childLanes|=l,a=u.alternate,a!==null&&(a.childLanes|=l),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(n=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,n&&e!==null&&(n=31-re(l),t=u.hiddenUpdates,a=t[n],a===null?t[n]=[e]:a.push(e),e.lane=l|536870912),u):null}function hu(t){if(50<Dn)throw Dn=0,lc=null,Error(o(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ya={};function rh(t,e,l,a){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function he(t,e,l,a){return new rh(t,e,l,a)}function ki(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Je(t,e){var l=t.alternate;return l===null?(l=he(t.tag,e,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=e,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&65011712,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,e=t.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l.refCleanup=t.refCleanup,l}function qo(t,e){t.flags&=65011714;var l=t.alternate;return l===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=l.childLanes,t.lanes=l.lanes,t.child=l.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=l.memoizedProps,t.memoizedState=l.memoizedState,t.updateQueue=l.updateQueue,t.type=l.type,e=l.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function mu(t,e,l,a,n,u){var i=0;if(a=t,typeof t=="function")ki(t)&&(i=1);else if(typeof t=="string")i=gm(t,l,_t.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case $:return t=he(31,l,e,n),t.elementType=$,t.lanes=u,t;case Z:return Vl(l.children,n,u,e);case Q:i=8,n|=24;break;case tt:return t=he(12,l,e,n|2),t.elementType=tt,t.lanes=u,t;case ut:return t=he(13,l,e,n),t.elementType=ut,t.lanes=u,t;case V:return t=he(19,l,e,n),t.elementType=V,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:i=10;break t;case F:i=9;break t;case k:i=11;break t;case it:i=14;break t;case lt:i=16,a=null;break t}i=29,l=Error(o(130,t===null?"null":typeof t,"")),a=null}return e=he(i,l,e,n),e.elementType=t,e.type=a,e.lanes=u,e}function Vl(t,e,l,a){return t=he(7,t,a,e),t.lanes=l,t}function Fi(t,e,l){return t=he(6,t,null,e),t.lanes=l,t}function Yo(t){var e=he(18,null,null,0);return e.stateNode=t,e}function $i(t,e,l){return e=he(4,t.children!==null?t.children:[],t.key,e),e.lanes=l,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var Xo=new WeakMap;function je(t,e){if(typeof t=="object"&&t!==null){var l=Xo.get(t);return l!==void 0?l:(e={value:t,source:e,stack:kn(e)},Xo.set(t,e),e)}return{value:t,source:e,stack:kn(e)}}var ba=[],Sa=0,pu=null,fn=0,Ae=[],ze=0,pl=null,Le=1,He="";function ke(t,e){ba[Sa++]=fn,ba[Sa++]=pu,pu=t,fn=e}function Go(t,e,l){Ae[ze++]=Le,Ae[ze++]=He,Ae[ze++]=pl,pl=t;var a=Le;t=He;var n=32-re(a)-1;a&=~(1<<n),l+=1;var u=32-re(e)+n;if(30<u){var i=n-n%5;u=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Le=1<<32-re(e)+n|l<<n|a,He=u+t}else Le=1<<u|l<<n|a,He=t}function Wi(t){t.return!==null&&(ke(t,1),Go(t,1,0))}function Ii(t){for(;t===pu;)pu=ba[--Sa],ba[Sa]=null,fn=ba[--Sa],ba[Sa]=null;for(;t===pl;)pl=Ae[--ze],Ae[ze]=null,He=Ae[--ze],Ae[ze]=null,Le=Ae[--ze],Ae[ze]=null}function Qo(t,e){Ae[ze++]=Le,Ae[ze++]=He,Ae[ze++]=pl,Le=e.id,He=e.overflow,pl=t}var Ft=null,Et=null,xt=!1,gl=null,Me=!1,Pi=Error(o(519));function vl(t){var e=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rn(je(e,t)),Pi}function Zo(t){var e=t.stateNode,l=t.type,a=t.memoizedProps;switch(e[kt]=t,e[ne]=a,l){case"dialog":pt("cancel",e),pt("close",e);break;case"iframe":case"object":case"embed":pt("load",e);break;case"video":case"audio":for(l=0;l<Un.length;l++)pt(Un[l],e);break;case"source":pt("error",e);break;case"img":case"image":case"link":pt("error",e),pt("load",e);break;case"details":pt("toggle",e);break;case"input":pt("invalid",e),lo(e,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":pt("invalid",e);break;case"textarea":pt("invalid",e),no(e,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||e.textContent===""+l||a.suppressHydrationWarning===!0||cd(e.textContent,l)?(a.popover!=null&&(pt("beforetoggle",e),pt("toggle",e)),a.onScroll!=null&&pt("scroll",e),a.onScrollEnd!=null&&pt("scrollend",e),a.onClick!=null&&(e.onclick=Ve),e=!0):e=!1,e||vl(t,!0)}function Vo(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:Me=!1;return;case 27:case 3:Me=!0;return;default:Ft=Ft.return}}function _a(t){if(t!==Ft)return!1;if(!xt)return Vo(t),xt=!0,!1;var e=t.tag,l;if((l=e!==3&&e!==27)&&((l=e===5)&&(l=t.type,l=!(l!=="form"&&l!=="button")||vc(t.type,t.memoizedProps)),l=!l),l&&Et&&vl(t),Vo(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Et=vd(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Et=vd(t)}else e===27?(e=Et,Dl(t.type)?(t=_c,_c=null,Et=t):Et=e):Et=Ft?Ee(t.stateNode.nextSibling):null;return!0}function Kl(){Et=Ft=null,xt=!1}function ts(){var t=gl;return t!==null&&(oe===null?oe=t:oe.push.apply(oe,t),gl=null),t}function rn(t){gl===null?gl=[t]:gl.push(t)}var es=ot(null),Jl=null,Fe=null;function xl(t,e,l){ct(es,e._currentValue),e._currentValue=l}function $e(t){t._currentValue=es.current,st(es)}function ls(t,e,l){for(;t!==null;){var a=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,a!==null&&(a.childLanes|=e)):a!==null&&(a.childLanes&e)!==e&&(a.childLanes|=e),t===l)break;t=t.return}}function as(t,e,l,a){var n=t.child;for(n!==null&&(n.return=t);n!==null;){var u=n.dependencies;if(u!==null){var i=n.child;u=u.firstContext;t:for(;u!==null;){var c=u;u=n;for(var x=0;x<e.length;x++)if(c.context===e[x]){u.lanes|=l,c=u.alternate,c!==null&&(c.lanes|=l),ls(u.return,l,t),a||(i=null);break t}u=c.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(o(341));i.lanes|=l,u=i.alternate,u!==null&&(u.lanes|=l),ls(i,l,t),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===t){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function Na(t,e,l,a){t=null;for(var n=e,u=!1;n!==null;){if(!u){if((n.flags&524288)!==0)u=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(o(387));if(i=i.memoizedProps,i!==null){var c=n.type;de(n.pendingProps.value,i.value)||(t!==null?t.push(c):t=[c])}}else if(n===ol.current){if(i=n.alternate,i===null)throw Error(o(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(t!==null?t.push(Hn):t=[Hn])}n=n.return}t!==null&&as(e,t,l,a),e.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!de(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function kl(t){Jl=t,Fe=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Ko(Jl,t)}function vu(t,e){return Jl===null&&kl(t),Ko(t,e)}function Ko(t,e){var l=e._currentValue;if(e={context:e,memoizedValue:l,next:null},Fe===null){if(t===null)throw Error(o(308));Fe=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Fe=Fe.next=e;return l}var dh=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(l,a){t.push(a)}};this.abort=function(){e.aborted=!0,t.forEach(function(l){return l()})}},hh=f.unstable_scheduleCallback,mh=f.unstable_NormalPriority,qt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ns(){return{controller:new dh,data:new Map,refCount:0}}function dn(t){t.refCount--,t.refCount===0&&hh(mh,function(){t.controller.abort()})}var hn=null,us=0,ja=0,Aa=null;function ph(t,e){if(hn===null){var l=hn=[];us=0,ja=cc(),Aa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return us++,e.then(Jo,Jo),e}function Jo(){if(--us===0&&hn!==null){Aa!==null&&(Aa.status="fulfilled");var t=hn;hn=null,ja=0,Aa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function gh(t,e){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return t.then(function(){a.status="fulfilled",a.value=e;for(var n=0;n<l.length;n++)(0,l[n])(e)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var ko=j.S;j.S=function(t,e){Or=Ht(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&ph(t,e),ko!==null&&ko(t,e)};var Fl=ot(null);function is(){var t=Fl.current;return t!==null?t:Tt.pooledCache}function xu(t,e){e===null?ct(Fl,Fl.current):ct(Fl,e.pool)}function Fo(){var t=is();return t===null?null:{parent:qt._currentValue,pool:t}}var za=Error(o(460)),ss=Error(o(474)),yu=Error(o(542)),bu={then:function(){}};function $o(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wo(t,e,l){switch(l=t[l],l===void 0?t.push(e):l!==e&&(e.then(Ve,Ve),e=l),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Po(t),t;default:if(typeof e.status=="string")e.then(Ve,Ve);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=e,t.status="pending",t.then(function(a){if(e.status==="pending"){var n=e;n.status="fulfilled",n.value=a}},function(a){if(e.status==="pending"){var n=e;n.status="rejected",n.reason=a}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Po(t),t}throw Wl=e,za}}function $l(t){try{var e=t._init;return e(t._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Wl=l,za):l}}var Wl=null;function Io(){if(Wl===null)throw Error(o(459));var t=Wl;return Wl=null,t}function Po(t){if(t===za||t===yu)throw Error(o(483))}var Ma=null,mn=0;function Su(t){var e=mn;return mn+=1,Ma===null&&(Ma=[]),Wo(Ma,t,e)}function pn(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function _u(t,e){throw e.$$typeof===q?Error(o(525)):(t=Object.prototype.toString.call(e),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function tf(t){function e(z,_){if(t){var T=z.deletions;T===null?(z.deletions=[_],z.flags|=16):T.push(_)}}function l(z,_){if(!t)return null;for(;_!==null;)e(z,_),_=_.sibling;return null}function a(z){for(var _=new Map;z!==null;)z.key!==null?_.set(z.key,z):_.set(z.index,z),z=z.sibling;return _}function n(z,_){return z=Je(z,_),z.index=0,z.sibling=null,z}function u(z,_,T){return z.index=T,t?(T=z.alternate,T!==null?(T=T.index,T<_?(z.flags|=67108866,_):T):(z.flags|=67108866,_)):(z.flags|=1048576,_)}function i(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function c(z,_,T,L){return _===null||_.tag!==6?(_=Fi(T,z.mode,L),_.return=z,_):(_=n(_,T),_.return=z,_)}function x(z,_,T,L){var et=T.type;return et===Z?C(z,_,T.props.children,L,T.key):_!==null&&(_.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===lt&&$l(et)===_.type)?(_=n(_,T.props),pn(_,T),_.return=z,_):(_=mu(T.type,T.key,T.props,null,z.mode,L),pn(_,T),_.return=z,_)}function E(z,_,T,L){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=$i(T,z.mode,L),_.return=z,_):(_=n(_,T.children||[]),_.return=z,_)}function C(z,_,T,L,et){return _===null||_.tag!==7?(_=Vl(T,z.mode,L,et),_.return=z,_):(_=n(_,T),_.return=z,_)}function H(z,_,T){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Fi(""+_,z.mode,T),_.return=z,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case G:return T=mu(_.type,_.key,_.props,null,z.mode,T),pn(T,_),T.return=z,T;case B:return _=$i(_,z.mode,T),_.return=z,_;case lt:return _=$l(_),H(z,_,T)}if(v(_)||r(_))return _=Vl(_,z.mode,T,null),_.return=z,_;if(typeof _.then=="function")return H(z,Su(_),T);if(_.$$typeof===J)return H(z,vu(z,_),T);_u(z,_)}return null}function D(z,_,T,L){var et=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return et!==null?null:c(z,_,""+T,L);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case G:return T.key===et?x(z,_,T,L):null;case B:return T.key===et?E(z,_,T,L):null;case lt:return T=$l(T),D(z,_,T,L)}if(v(T)||r(T))return et!==null?null:C(z,_,T,L,null);if(typeof T.then=="function")return D(z,_,Su(T),L);if(T.$$typeof===J)return D(z,_,vu(z,T),L);_u(z,T)}return null}function R(z,_,T,L,et){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return z=z.get(T)||null,c(_,z,""+L,et);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return z=z.get(L.key===null?T:L.key)||null,x(_,z,L,et);case B:return z=z.get(L.key===null?T:L.key)||null,E(_,z,L,et);case lt:return L=$l(L),R(z,_,T,L,et)}if(v(L)||r(L))return z=z.get(T)||null,C(_,z,L,et,null);if(typeof L.then=="function")return R(z,_,T,Su(L),et);if(L.$$typeof===J)return R(z,_,T,vu(_,L),et);_u(_,L)}return null}function W(z,_,T,L){for(var et=null,yt=null,P=_,dt=_=0,vt=null;P!==null&&dt<T.length;dt++){P.index>dt?(vt=P,P=null):vt=P.sibling;var bt=D(z,P,T[dt],L);if(bt===null){P===null&&(P=vt);break}t&&P&&bt.alternate===null&&e(z,P),_=u(bt,_,dt),yt===null?et=bt:yt.sibling=bt,yt=bt,P=vt}if(dt===T.length)return l(z,P),xt&&ke(z,dt),et;if(P===null){for(;dt<T.length;dt++)P=H(z,T[dt],L),P!==null&&(_=u(P,_,dt),yt===null?et=P:yt.sibling=P,yt=P);return xt&&ke(z,dt),et}for(P=a(P);dt<T.length;dt++)vt=R(P,z,dt,T[dt],L),vt!==null&&(t&&vt.alternate!==null&&P.delete(vt.key===null?dt:vt.key),_=u(vt,_,dt),yt===null?et=vt:yt.sibling=vt,yt=vt);return t&&P.forEach(function(Cl){return e(z,Cl)}),xt&&ke(z,dt),et}function nt(z,_,T,L){if(T==null)throw Error(o(151));for(var et=null,yt=null,P=_,dt=_=0,vt=null,bt=T.next();P!==null&&!bt.done;dt++,bt=T.next()){P.index>dt?(vt=P,P=null):vt=P.sibling;var Cl=D(z,P,bt.value,L);if(Cl===null){P===null&&(P=vt);break}t&&P&&Cl.alternate===null&&e(z,P),_=u(Cl,_,dt),yt===null?et=Cl:yt.sibling=Cl,yt=Cl,P=vt}if(bt.done)return l(z,P),xt&&ke(z,dt),et;if(P===null){for(;!bt.done;dt++,bt=T.next())bt=H(z,bt.value,L),bt!==null&&(_=u(bt,_,dt),yt===null?et=bt:yt.sibling=bt,yt=bt);return xt&&ke(z,dt),et}for(P=a(P);!bt.done;dt++,bt=T.next())bt=R(P,z,dt,bt.value,L),bt!==null&&(t&&bt.alternate!==null&&P.delete(bt.key===null?dt:bt.key),_=u(bt,_,dt),yt===null?et=bt:yt.sibling=bt,yt=bt);return t&&P.forEach(function(Mm){return e(z,Mm)}),xt&&ke(z,dt),et}function Mt(z,_,T,L){if(typeof T=="object"&&T!==null&&T.type===Z&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case G:t:{for(var et=T.key;_!==null;){if(_.key===et){if(et=T.type,et===Z){if(_.tag===7){l(z,_.sibling),L=n(_,T.props.children),L.return=z,z=L;break t}}else if(_.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===lt&&$l(et)===_.type){l(z,_.sibling),L=n(_,T.props),pn(L,T),L.return=z,z=L;break t}l(z,_);break}else e(z,_);_=_.sibling}T.type===Z?(L=Vl(T.props.children,z.mode,L,T.key),L.return=z,z=L):(L=mu(T.type,T.key,T.props,null,z.mode,L),pn(L,T),L.return=z,z=L)}return i(z);case B:t:{for(et=T.key;_!==null;){if(_.key===et)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){l(z,_.sibling),L=n(_,T.children||[]),L.return=z,z=L;break t}else{l(z,_);break}else e(z,_);_=_.sibling}L=$i(T,z.mode,L),L.return=z,z=L}return i(z);case lt:return T=$l(T),Mt(z,_,T,L)}if(v(T))return W(z,_,T,L);if(r(T)){if(et=r(T),typeof et!="function")throw Error(o(150));return T=et.call(T),nt(z,_,T,L)}if(typeof T.then=="function")return Mt(z,_,Su(T),L);if(T.$$typeof===J)return Mt(z,_,vu(z,T),L);_u(z,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,_!==null&&_.tag===6?(l(z,_.sibling),L=n(_,T),L.return=z,z=L):(l(z,_),L=Fi(T,z.mode,L),L.return=z,z=L),i(z)):l(z,_)}return function(z,_,T,L){try{mn=0;var et=Mt(z,_,T,L);return Ma=null,et}catch(P){if(P===za||P===yu)throw P;var yt=he(29,P,null,z.mode);return yt.lanes=L,yt.return=z,yt}finally{}}}var Il=tf(!0),ef=tf(!1),yl=!1;function cs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function os(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Sl(t,e,l){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,(St&2)!==0){var n=a.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),a.pending=e,e=hu(t),Ho(t,null,l),e}return du(t,a,e,l),hu(t)}function gn(t,e,l){if(e=e.updateQueue,e!==null&&(e=e.shared,(l&4194048)!==0)){var a=e.lanes;a&=t.pendingLanes,l|=a,e.lanes=l,Vc(t,l)}}function fs(t,e){var l=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,u=null;if(l=l.firstBaseUpdate,l!==null){do{var i={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};u===null?n=u=i:u=u.next=i,l=l.next}while(l!==null);u===null?n=u=e:u=u.next=e}else n=u=e;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:u,shared:a.shared,callbacks:a.callbacks},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=e:t.next=e,l.lastBaseUpdate=e}var rs=!1;function vn(){if(rs){var t=Aa;if(t!==null)throw t}}function xn(t,e,l,a){rs=!1;var n=t.updateQueue;yl=!1;var u=n.firstBaseUpdate,i=n.lastBaseUpdate,c=n.shared.pending;if(c!==null){n.shared.pending=null;var x=c,E=x.next;x.next=null,i===null?u=E:i.next=E,i=x;var C=t.alternate;C!==null&&(C=C.updateQueue,c=C.lastBaseUpdate,c!==i&&(c===null?C.firstBaseUpdate=E:c.next=E,C.lastBaseUpdate=x))}if(u!==null){var H=n.baseState;i=0,C=E=x=null,c=u;do{var D=c.lane&-536870913,R=D!==c.lane;if(R?(gt&D)===D:(a&D)===D){D!==0&&D===ja&&(rs=!0),C!==null&&(C=C.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});t:{var W=t,nt=c;D=e;var Mt=l;switch(nt.tag){case 1:if(W=nt.payload,typeof W=="function"){H=W.call(Mt,H,D);break t}H=W;break t;case 3:W.flags=W.flags&-65537|128;case 0:if(W=nt.payload,D=typeof W=="function"?W.call(Mt,H,D):W,D==null)break t;H=w({},H,D);break t;case 2:yl=!0}}D=c.callback,D!==null&&(t.flags|=64,R&&(t.flags|=8192),R=n.callbacks,R===null?n.callbacks=[D]:R.push(D))}else R={lane:D,tag:c.tag,payload:c.payload,callback:c.callback,next:null},C===null?(E=C=R,x=H):C=C.next=R,i|=D;if(c=c.next,c===null){if(c=n.shared.pending,c===null)break;R=c,c=R.next,R.next=null,n.lastBaseUpdate=R,n.shared.pending=null}}while(!0);C===null&&(x=H),n.baseState=x,n.firstBaseUpdate=E,n.lastBaseUpdate=C,u===null&&(n.shared.lanes=0),zl|=i,t.lanes=i,t.memoizedState=H}}function lf(t,e){if(typeof t!="function")throw Error(o(191,t));t.call(e)}function af(t,e){var l=t.callbacks;if(l!==null)for(t.callbacks=null,t=0;t<l.length;t++)lf(l[t],e)}var Ta=ot(null),Nu=ot(0);function nf(t,e){t=ul,ct(Nu,t),ct(Ta,e),ul=t|e.baseLanes}function ds(){ct(Nu,ul),ct(Ta,Ta.current)}function hs(){ul=Nu.current,st(Ta),st(Nu)}var me=ot(null),Te=null;function _l(t){var e=t.alternate;ct(Bt,Bt.current&1),ct(me,t),Te===null&&(e===null||Ta.current!==null||e.memoizedState!==null)&&(Te=t)}function ms(t){ct(Bt,Bt.current),ct(me,t),Te===null&&(Te=t)}function uf(t){t.tag===22?(ct(Bt,Bt.current),ct(me,t),Te===null&&(Te=t)):Nl()}function Nl(){ct(Bt,Bt.current),ct(me,me.current)}function pe(t){st(me),Te===t&&(Te=null),st(Bt)}var Bt=ot(0);function ju(t){for(var e=t;e!==null;){if(e.tag===13){var l=e.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||bc(l)||Sc(l)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var We=0,ft=null,At=null,Yt=null,Au=!1,Ea=!1,Pl=!1,zu=0,yn=0,wa=null,vh=0;function Ot(){throw Error(o(321))}function ps(t,e){if(e===null)return!1;for(var l=0;l<e.length&&l<t.length;l++)if(!de(t[l],e[l]))return!1;return!0}function gs(t,e,l,a,n,u){return We=u,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,j.H=t===null||t.memoizedState===null?Qf:Ds,Pl=!1,u=l(a,n),Pl=!1,Ea&&(u=cf(e,l,a,n)),sf(t),u}function sf(t){j.H=_n;var e=At!==null&&At.next!==null;if(We=0,Yt=At=ft=null,Au=!1,yn=0,wa=null,e)throw Error(o(300));t===null||Xt||(t=t.dependencies,t!==null&&gu(t)&&(Xt=!0))}function cf(t,e,l,a){ft=t;var n=0;do{if(Ea&&(wa=null),yn=0,Ea=!1,25<=n)throw Error(o(301));if(n+=1,Yt=At=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}j.H=Zf,u=e(l,a)}while(Ea);return u}function xh(){var t=j.H,e=t.useState()[0];return e=typeof e.then=="function"?bn(e):e,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(ft.flags|=1024),e}function vs(){var t=zu!==0;return zu=0,t}function xs(t,e,l){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l}function ys(t){if(Au){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Au=!1}We=0,Yt=At=ft=null,Ea=!1,yn=zu=0,wa=null}function ee(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?ft.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Ct(){if(At===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Yt===null?ft.memoizedState:Yt.next;if(e!==null)Yt=e,At=t;else{if(t===null)throw ft.alternate===null?Error(o(467)):Error(o(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Yt===null?ft.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bn(t){var e=yn;return yn+=1,wa===null&&(wa=[]),t=Wo(wa,t,e),e=ft,(Yt===null?e.memoizedState:Yt.next)===null&&(e=e.alternate,j.H=e===null||e.memoizedState===null?Qf:Ds),t}function Tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bn(t);if(t.$$typeof===J)return $t(t)}throw Error(o(438,String(t)))}function bs(t){var e=null,l=ft.updateQueue;if(l!==null&&(e=l.memoCache),e==null){var a=ft.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(e={data:a.data.map(function(n){return n.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),l===null&&(l=Mu(),ft.updateQueue=l),l.memoCache=e,l=e.data[e.index],l===void 0)for(l=e.data[e.index]=Array(t),a=0;a<t;a++)l[a]=rt;return e.index++,l}function Ie(t,e){return typeof e=="function"?e(t):e}function Eu(t){var e=Ct();return Ss(e,At,t)}function Ss(t,e,l){var a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var n=t.baseQueue,u=a.pending;if(u!==null){if(n!==null){var i=n.next;n.next=u.next,u.next=i}e.baseQueue=n=u,a.pending=null}if(u=t.baseState,n===null)t.memoizedState=u;else{e=n.next;var c=i=null,x=null,E=e,C=!1;do{var H=E.lane&-536870913;if(H!==E.lane?(gt&H)===H:(We&H)===H){var D=E.revertLane;if(D===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),H===ja&&(C=!0);else if((We&D)===D){E=E.next,D===ja&&(C=!0);continue}else H={lane:0,revertLane:E.revertLane,gesture:null,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},x===null?(c=x=H,i=u):x=x.next=H,ft.lanes|=D,zl|=D;H=E.action,Pl&&l(u,H),u=E.hasEagerState?E.eagerState:l(u,H)}else D={lane:H,revertLane:E.revertLane,gesture:E.gesture,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},x===null?(c=x=D,i=u):x=x.next=D,ft.lanes|=H,zl|=H;E=E.next}while(E!==null&&E!==e);if(x===null?i=u:x.next=c,!de(u,t.memoizedState)&&(Xt=!0,C&&(l=Aa,l!==null)))throw l;t.memoizedState=u,t.baseState=i,t.baseQueue=x,a.lastRenderedState=u}return n===null&&(a.lanes=0),[t.memoizedState,a.dispatch]}function _s(t){var e=Ct(),l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=t;var a=l.dispatch,n=l.pending,u=e.memoizedState;if(n!==null){l.pending=null;var i=n=n.next;do u=t(u,i.action),i=i.next;while(i!==n);de(u,e.memoizedState)||(Xt=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),l.lastRenderedState=u}return[u,a]}function of(t,e,l){var a=ft,n=Ct(),u=xt;if(u){if(l===void 0)throw Error(o(407));l=l()}else l=e();var i=!de((At||n).memoizedState,l);if(i&&(n.memoizedState=l,Xt=!0),n=n.queue,As(df.bind(null,a,n,t),[t]),n.getSnapshot!==e||i||Yt!==null&&Yt.memoizedState.tag&1){if(a.flags|=2048,Da(9,{destroy:void 0},rf.bind(null,a,n,l,e),null),Tt===null)throw Error(o(349));u||(We&127)!==0||ff(a,e,l)}return l}function ff(t,e,l){t.flags|=16384,t={getSnapshot:e,value:l},e=ft.updateQueue,e===null?(e=Mu(),ft.updateQueue=e,e.stores=[t]):(l=e.stores,l===null?e.stores=[t]:l.push(t))}function rf(t,e,l,a){e.value=l,e.getSnapshot=a,hf(e)&&mf(t)}function df(t,e,l){return l(function(){hf(e)&&mf(t)})}function hf(t){var e=t.getSnapshot;t=t.value;try{var l=e();return!de(t,l)}catch{return!0}}function mf(t){var e=Zl(t,2);e!==null&&fe(e,t,2)}function Ns(t){var e=ee();if(typeof t=="function"){var l=t;if(t=l(),Pl){dl(!0);try{l()}finally{dl(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ie,lastRenderedState:t},e}function pf(t,e,l,a){return t.baseState=l,Ss(t,At,typeof a=="function"?a:Ie)}function yh(t,e,l,a,n){if(Ou(t))throw Error(o(485));if(t=e.action,t!==null){var u={payload:n,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){u.listeners.push(i)}};j.T!==null?l(!0):u.isTransition=!1,a(u),l=e.pending,l===null?(u.next=e.pending=u,gf(e,u)):(u.next=l.next,e.pending=l.next=u)}}function gf(t,e){var l=e.action,a=e.payload,n=t.state;if(e.isTransition){var u=j.T,i={};j.T=i;try{var c=l(n,a),x=j.S;x!==null&&x(i,c),vf(t,e,c)}catch(E){js(t,e,E)}finally{u!==null&&i.types!==null&&(u.types=i.types),j.T=u}}else try{u=l(n,a),vf(t,e,u)}catch(E){js(t,e,E)}}function vf(t,e,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){xf(t,e,a)},function(a){return js(t,e,a)}):xf(t,e,l)}function xf(t,e,l){e.status="fulfilled",e.value=l,yf(e),t.state=l,e=t.pending,e!==null&&(l=e.next,l===e?t.pending=null:(l=l.next,e.next=l,gf(t,l)))}function js(t,e,l){var a=t.pending;if(t.pending=null,a!==null){a=a.next;do e.status="rejected",e.reason=l,yf(e),e=e.next;while(e!==a)}t.action=null}function yf(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function bf(t,e){return e}function Sf(t,e){if(xt){var l=Tt.formState;if(l!==null){t:{var a=ft;if(xt){if(Et){e:{for(var n=Et,u=Me;n.nodeType!==8;){if(!u){n=null;break e}if(n=Ee(n.nextSibling),n===null){n=null;break e}}u=n.data,n=u==="F!"||u==="F"?n:null}if(n){Et=Ee(n.nextSibling),a=n.data==="F!";break t}}vl(a)}a=!1}a&&(e=l[0])}}return l=ee(),l.memoizedState=l.baseState=e,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:e},l.queue=a,l=Yf.bind(null,ft,a),a.dispatch=l,a=Ns(!1),u=ws.bind(null,ft,!1,a.queue),a=ee(),n={state:e,dispatch:null,action:t,pending:null},a.queue=n,l=yh.bind(null,ft,n,u,l),n.dispatch=l,a.memoizedState=t,[e,l,!1]}function _f(t){var e=Ct();return Nf(e,At,t)}function Nf(t,e,l){if(e=Ss(t,e,bf)[0],t=Eu(Ie)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var a=bn(e)}catch(i){throw i===za?yu:i}else a=e;e=Ct();var n=e.queue,u=n.dispatch;return l!==e.memoizedState&&(ft.flags|=2048,Da(9,{destroy:void 0},bh.bind(null,n,l),null)),[a,u,t]}function bh(t,e){t.action=e}function jf(t){var e=Ct(),l=At;if(l!==null)return Nf(e,l,t);Ct(),e=e.memoizedState,l=Ct();var a=l.queue.dispatch;return l.memoizedState=t,[e,a,!1]}function Da(t,e,l,a){return t={tag:t,create:l,deps:a,inst:e,next:null},e=ft.updateQueue,e===null&&(e=Mu(),ft.updateQueue=e),l=e.lastEffect,l===null?e.lastEffect=t.next=t:(a=l.next,l.next=t,t.next=a,e.lastEffect=t),t}function Af(){return Ct().memoizedState}function wu(t,e,l,a){var n=ee();ft.flags|=t,n.memoizedState=Da(1|e,{destroy:void 0},l,a===void 0?null:a)}function Du(t,e,l,a){var n=Ct();a=a===void 0?null:a;var u=n.memoizedState.inst;At!==null&&a!==null&&ps(a,At.memoizedState.deps)?n.memoizedState=Da(e,u,l,a):(ft.flags|=t,n.memoizedState=Da(1|e,u,l,a))}function zf(t,e){wu(8390656,8,t,e)}function As(t,e){Du(2048,8,t,e)}function Sh(t){ft.flags|=4;var e=ft.updateQueue;if(e===null)e=Mu(),ft.updateQueue=e,e.events=[t];else{var l=e.events;l===null?e.events=[t]:l.push(t)}}function Mf(t){var e=Ct().memoizedState;return Sh({ref:e,nextImpl:t}),function(){if((St&2)!==0)throw Error(o(440));return e.impl.apply(void 0,arguments)}}function Tf(t,e){return Du(4,2,t,e)}function Ef(t,e){return Du(4,4,t,e)}function wf(t,e){if(typeof e=="function"){t=t();var l=e(t);return function(){typeof l=="function"?l():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Df(t,e,l){l=l!=null?l.concat([t]):null,Du(4,4,wf.bind(null,e,t),l)}function zs(){}function Of(t,e){var l=Ct();e=e===void 0?null:e;var a=l.memoizedState;return e!==null&&ps(e,a[1])?a[0]:(l.memoizedState=[t,e],t)}function Uf(t,e){var l=Ct();e=e===void 0?null:e;var a=l.memoizedState;if(e!==null&&ps(e,a[1]))return a[0];if(a=t(),Pl){dl(!0);try{t()}finally{dl(!1)}}return l.memoizedState=[a,e],a}function Ms(t,e,l){return l===void 0||(We&1073741824)!==0&&(gt&261930)===0?t.memoizedState=e:(t.memoizedState=l,t=Rr(),ft.lanes|=t,zl|=t,l)}function Rf(t,e,l,a){return de(l,e)?l:Ta.current!==null?(t=Ms(t,l,a),de(t,e)||(Xt=!0),t):(We&42)===0||(We&1073741824)!==0&&(gt&261930)===0?(Xt=!0,t.memoizedState=l):(t=Rr(),ft.lanes|=t,zl|=t,e)}function Bf(t,e,l,a,n){var u=M.p;M.p=u!==0&&8>u?u:8;var i=j.T,c={};j.T=c,ws(t,!1,e,l);try{var x=n(),E=j.S;if(E!==null&&E(c,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var C=gh(x,a);Sn(t,e,C,xe(t))}else Sn(t,e,a,xe(t))}catch(H){Sn(t,e,{then:function(){},status:"rejected",reason:H},xe())}finally{M.p=u,i!==null&&c.types!==null&&(i.types=c.types),j.T=i}}function _h(){}function Ts(t,e,l,a){if(t.tag!==5)throw Error(o(476));var n=Cf(t).queue;Bf(t,n,e,U,l===null?_h:function(){return Lf(t),l(a)})}function Cf(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ie,lastRenderedState:U},next:null};var l={};return e.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ie,lastRenderedState:l},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Lf(t){var e=Cf(t);e.next===null&&(e=t.alternate.memoizedState),Sn(t,e.next.queue,{},xe())}function Es(){return $t(Hn)}function Hf(){return Ct().memoizedState}function qf(){return Ct().memoizedState}function Nh(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var l=xe();t=bl(l);var a=Sl(e,t,l);a!==null&&(fe(a,e,l),gn(a,e,l)),e={cache:ns()},t.payload=e;return}e=e.return}}function jh(t,e,l){var a=xe();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ou(t)?Xf(e,l):(l=Ji(t,e,l,a),l!==null&&(fe(l,t,a),Gf(l,e,a)))}function Yf(t,e,l){var a=xe();Sn(t,e,l,a)}function Sn(t,e,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))Xf(e,n);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var i=e.lastRenderedState,c=u(i,l);if(n.hasEagerState=!0,n.eagerState=c,de(c,i))return du(t,e,n,0),Tt===null&&ru(),!1}catch{}finally{}if(l=Ji(t,e,n,a),l!==null)return fe(l,t,a),Gf(l,e,a),!0}return!1}function ws(t,e,l,a){if(a={lane:2,revertLane:cc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(e)throw Error(o(479))}else e=Ji(t,l,a,2),e!==null&&fe(e,t,2)}function Ou(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function Xf(t,e){Ea=Au=!0;var l=t.pending;l===null?e.next=e:(e.next=l.next,l.next=e),t.pending=e}function Gf(t,e,l){if((l&4194048)!==0){var a=e.lanes;a&=t.pendingLanes,l|=a,e.lanes=l,Vc(t,l)}}var _n={readContext:$t,use:Tu,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};_n.useEffectEvent=Ot;var Qf={readContext:$t,use:Tu,useCallback:function(t,e){return ee().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:zf,useImperativeHandle:function(t,e,l){l=l!=null?l.concat([t]):null,wu(4194308,4,wf.bind(null,e,t),l)},useLayoutEffect:function(t,e){return wu(4194308,4,t,e)},useInsertionEffect:function(t,e){wu(4,2,t,e)},useMemo:function(t,e){var l=ee();e=e===void 0?null:e;var a=t();if(Pl){dl(!0);try{t()}finally{dl(!1)}}return l.memoizedState=[a,e],a},useReducer:function(t,e,l){var a=ee();if(l!==void 0){var n=l(e);if(Pl){dl(!0);try{l(e)}finally{dl(!1)}}}else n=e;return a.memoizedState=a.baseState=n,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},a.queue=t,t=t.dispatch=jh.bind(null,ft,t),[a.memoizedState,t]},useRef:function(t){var e=ee();return t={current:t},e.memoizedState=t},useState:function(t){t=Ns(t);var e=t.queue,l=Yf.bind(null,ft,e);return e.dispatch=l,[t.memoizedState,l]},useDebugValue:zs,useDeferredValue:function(t,e){var l=ee();return Ms(l,t,e)},useTransition:function(){var t=Ns(!1);return t=Bf.bind(null,ft,t.queue,!0,!1),ee().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,l){var a=ft,n=ee();if(xt){if(l===void 0)throw Error(o(407));l=l()}else{if(l=e(),Tt===null)throw Error(o(349));(gt&127)!==0||ff(a,e,l)}n.memoizedState=l;var u={value:l,getSnapshot:e};return n.queue=u,zf(df.bind(null,a,u,t),[t]),a.flags|=2048,Da(9,{destroy:void 0},rf.bind(null,a,u,l,e),null),l},useId:function(){var t=ee(),e=Tt.identifierPrefix;if(xt){var l=He,a=Le;l=(a&~(1<<32-re(a)-1)).toString(32)+l,e="_"+e+"R_"+l,l=zu++,0<l&&(e+="H"+l.toString(32)),e+="_"}else l=vh++,e="_"+e+"r_"+l.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Es,useFormState:Sf,useActionState:Sf,useOptimistic:function(t){var e=ee();e.memoizedState=e.baseState=t;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=l,e=ws.bind(null,ft,!0,l),l.dispatch=e,[t,e]},useMemoCache:bs,useCacheRefresh:function(){return ee().memoizedState=Nh.bind(null,ft)},useEffectEvent:function(t){var e=ee(),l={impl:t};return e.memoizedState=l,function(){if((St&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Ds={readContext:$t,use:Tu,useCallback:Of,useContext:$t,useEffect:As,useImperativeHandle:Df,useInsertionEffect:Tf,useLayoutEffect:Ef,useMemo:Uf,useReducer:Eu,useRef:Af,useState:function(){return Eu(Ie)},useDebugValue:zs,useDeferredValue:function(t,e){var l=Ct();return Rf(l,At.memoizedState,t,e)},useTransition:function(){var t=Eu(Ie)[0],e=Ct().memoizedState;return[typeof t=="boolean"?t:bn(t),e]},useSyncExternalStore:of,useId:Hf,useHostTransitionStatus:Es,useFormState:_f,useActionState:_f,useOptimistic:function(t,e){var l=Ct();return pf(l,At,t,e)},useMemoCache:bs,useCacheRefresh:qf};Ds.useEffectEvent=Mf;var Zf={readContext:$t,use:Tu,useCallback:Of,useContext:$t,useEffect:As,useImperativeHandle:Df,useInsertionEffect:Tf,useLayoutEffect:Ef,useMemo:Uf,useReducer:_s,useRef:Af,useState:function(){return _s(Ie)},useDebugValue:zs,useDeferredValue:function(t,e){var l=Ct();return At===null?Ms(l,t,e):Rf(l,At.memoizedState,t,e)},useTransition:function(){var t=_s(Ie)[0],e=Ct().memoizedState;return[typeof t=="boolean"?t:bn(t),e]},useSyncExternalStore:of,useId:Hf,useHostTransitionStatus:Es,useFormState:jf,useActionState:jf,useOptimistic:function(t,e){var l=Ct();return At!==null?pf(l,At,t,e):(l.baseState=t,[t,l.queue.dispatch])},useMemoCache:bs,useCacheRefresh:qf};Zf.useEffectEvent=Mf;function Os(t,e,l,a){e=t.memoizedState,l=l(a,e),l=l==null?e:w({},e,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var Us={enqueueSetState:function(t,e,l){t=t._reactInternals;var a=xe(),n=bl(a);n.payload=e,l!=null&&(n.callback=l),e=Sl(t,n,a),e!==null&&(fe(e,t,a),gn(e,t,a))},enqueueReplaceState:function(t,e,l){t=t._reactInternals;var a=xe(),n=bl(a);n.tag=1,n.payload=e,l!=null&&(n.callback=l),e=Sl(t,n,a),e!==null&&(fe(e,t,a),gn(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var l=xe(),a=bl(l);a.tag=2,e!=null&&(a.callback=e),e=Sl(t,a,l),e!==null&&(fe(e,t,l),gn(e,t,l))}};function Vf(t,e,l,a,n,u,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,u,i):e.prototype&&e.prototype.isPureReactComponent?!cn(l,a)||!cn(n,u):!0}function Kf(t,e,l,a){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(l,a),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(l,a),e.state!==t&&Us.enqueueReplaceState(e,e.state,null)}function ta(t,e){var l=e;if("ref"in e){l={};for(var a in e)a!=="ref"&&(l[a]=e[a])}if(t=t.defaultProps){l===e&&(l=w({},l));for(var n in t)l[n]===void 0&&(l[n]=t[n])}return l}function Jf(t){fu(t)}function kf(t){console.error(t)}function Ff(t){fu(t)}function Uu(t,e){try{var l=t.onUncaughtError;l(e.value,{componentStack:e.stack})}catch(a){setTimeout(function(){throw a})}}function $f(t,e,l){try{var a=t.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Rs(t,e,l){return l=bl(l),l.tag=3,l.payload={element:null},l.callback=function(){Uu(t,e)},l}function Wf(t){return t=bl(t),t.tag=3,t}function If(t,e,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var u=a.value;t.payload=function(){return n(u)},t.callback=function(){$f(e,l,a)}}var i=l.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){$f(e,l,a),typeof n!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var c=a.stack;this.componentDidCatch(a.value,{componentStack:c!==null?c:""})})}function Ah(t,e,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(e=l.alternate,e!==null&&Na(e,l,n,!0),l=me.current,l!==null){switch(l.tag){case 31:case 13:return Te===null?Vu():l.alternate===null&&Ut===0&&(Ut=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===bu?l.flags|=16384:(e=l.updateQueue,e===null?l.updateQueue=new Set([a]):e.add(a),uc(t,a,n)),!1;case 22:return l.flags|=65536,a===bu?l.flags|=16384:(e=l.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=e):(l=e.retryQueue,l===null?e.retryQueue=new Set([a]):l.add(a)),uc(t,a,n)),!1}throw Error(o(435,l.tag))}return uc(t,a,n),Vu(),!1}if(xt)return e=me.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=n,a!==Pi&&(t=Error(o(422),{cause:a}),rn(je(t,l)))):(a!==Pi&&(e=Error(o(423),{cause:a}),rn(je(e,l))),t=t.current.alternate,t.flags|=65536,n&=-n,t.lanes|=n,a=je(a,l),n=Rs(t.stateNode,a,n),fs(t,n),Ut!==4&&(Ut=2)),!1;var u=Error(o(520),{cause:a});if(u=je(u,l),wn===null?wn=[u]:wn.push(u),Ut!==4&&(Ut=2),e===null)return!0;a=je(a,l),l=e;do{switch(l.tag){case 3:return l.flags|=65536,t=n&-n,l.lanes|=t,t=Rs(l.stateNode,a,t),fs(l,t),!1;case 1:if(e=l.type,u=l.stateNode,(l.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ml===null||!Ml.has(u))))return l.flags|=65536,n&=-n,l.lanes|=n,n=Wf(n),If(n,t,l,a),fs(l,n),!1}l=l.return}while(l!==null);return!1}var Bs=Error(o(461)),Xt=!1;function Wt(t,e,l,a){e.child=t===null?ef(e,null,l,a):Il(e,t.child,l,a)}function Pf(t,e,l,a,n){l=l.render;var u=e.ref;if("ref"in a){var i={};for(var c in a)c!=="ref"&&(i[c]=a[c])}else i=a;return kl(e),a=gs(t,e,l,i,u,n),c=vs(),t!==null&&!Xt?(xs(t,e,n),Pe(t,e,n)):(xt&&c&&Wi(e),e.flags|=1,Wt(t,e,a,n),e.child)}function tr(t,e,l,a,n){if(t===null){var u=l.type;return typeof u=="function"&&!ki(u)&&u.defaultProps===void 0&&l.compare===null?(e.tag=15,e.type=u,er(t,e,u,a,n)):(t=mu(l.type,null,a,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!Qs(t,n)){var i=u.memoizedProps;if(l=l.compare,l=l!==null?l:cn,l(i,a)&&t.ref===e.ref)return Pe(t,e,n)}return e.flags|=1,t=Je(u,a),t.ref=e.ref,t.return=e,e.child=t}function er(t,e,l,a,n){if(t!==null){var u=t.memoizedProps;if(cn(u,a)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=a=u,Qs(t,n))(t.flags&131072)!==0&&(Xt=!0);else return e.lanes=t.lanes,Pe(t,e,n)}return Cs(t,e,l,a,n)}function lr(t,e,l,a){var n=a.children,u=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((e.flags&128)!==0){if(u=u!==null?u.baseLanes|l:l,t!==null){for(a=e.child=t.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~u}else a=0,e.child=null;return ar(t,e,u,l,a)}if((l&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&xu(e,u!==null?u.cachePool:null),u!==null?nf(e,u):ds(),uf(e);else return a=e.lanes=536870912,ar(t,e,u!==null?u.baseLanes|l:l,l,a)}else u!==null?(xu(e,u.cachePool),nf(e,u),Nl(),e.memoizedState=null):(t!==null&&xu(e,null),ds(),Nl());return Wt(t,e,n,l),e.child}function Nn(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function ar(t,e,l,a,n){var u=is();return u=u===null?null:{parent:qt._currentValue,pool:u},e.memoizedState={baseLanes:l,cachePool:u},t!==null&&xu(e,null),ds(),uf(e),t!==null&&Na(t,e,a,!0),e.childLanes=n,null}function Ru(t,e){return e=Cu({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function nr(t,e,l){return Il(e,t.child,null,l),t=Ru(e,e.pendingProps),t.flags|=2,pe(e),e.memoizedState=null,t}function zh(t,e,l){var a=e.pendingProps,n=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(xt){if(a.mode==="hidden")return t=Ru(e,a),e.lanes=536870912,Nn(null,t);if(ms(e),(t=Et)?(t=gd(t,Me),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:pl!==null?{id:Le,overflow:He}:null,retryLane:536870912,hydrationErrors:null},l=Yo(t),l.return=e,e.child=l,Ft=e,Et=null)):t=null,t===null)throw vl(e);return e.lanes=536870912,null}return Ru(e,a)}var u=t.memoizedState;if(u!==null){var i=u.dehydrated;if(ms(e),n)if(e.flags&256)e.flags&=-257,e=nr(t,e,l);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(o(558));else if(Xt||Na(t,e,l,!1),n=(l&t.childLanes)!==0,Xt||n){if(a=Tt,a!==null&&(i=Kc(a,l),i!==0&&i!==u.retryLane))throw u.retryLane=i,Zl(t,i),fe(a,t,i),Bs;Vu(),e=nr(t,e,l)}else t=u.treeContext,Et=Ee(i.nextSibling),Ft=e,xt=!0,gl=null,Me=!1,t!==null&&Qo(e,t),e=Ru(e,a),e.flags|=4096;return e}return t=Je(t.child,{mode:a.mode,children:a.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Bu(t,e){var l=e.ref;if(l===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(t===null||t.ref!==l)&&(e.flags|=4194816)}}function Cs(t,e,l,a,n){return kl(e),l=gs(t,e,l,a,void 0,n),a=vs(),t!==null&&!Xt?(xs(t,e,n),Pe(t,e,n)):(xt&&a&&Wi(e),e.flags|=1,Wt(t,e,l,n),e.child)}function ur(t,e,l,a,n,u){return kl(e),e.updateQueue=null,l=cf(e,a,l,n),sf(t),a=vs(),t!==null&&!Xt?(xs(t,e,u),Pe(t,e,u)):(xt&&a&&Wi(e),e.flags|=1,Wt(t,e,l,u),e.child)}function ir(t,e,l,a,n){if(kl(e),e.stateNode===null){var u=ya,i=l.contextType;typeof i=="object"&&i!==null&&(u=$t(i)),u=new l(a,u),e.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Us,e.stateNode=u,u._reactInternals=e,u=e.stateNode,u.props=a,u.state=e.memoizedState,u.refs={},cs(e),i=l.contextType,u.context=typeof i=="object"&&i!==null?$t(i):ya,u.state=e.memoizedState,i=l.getDerivedStateFromProps,typeof i=="function"&&(Os(e,l,i,a),u.state=e.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(i=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),i!==u.state&&Us.enqueueReplaceState(u,u.state,null),xn(e,a,u,n),vn(),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308),a=!0}else if(t===null){u=e.stateNode;var c=e.memoizedProps,x=ta(l,c);u.props=x;var E=u.context,C=l.contextType;i=ya,typeof C=="object"&&C!==null&&(i=$t(C));var H=l.getDerivedStateFromProps;C=typeof H=="function"||typeof u.getSnapshotBeforeUpdate=="function",c=e.pendingProps!==c,C||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c||E!==i)&&Kf(e,u,a,i),yl=!1;var D=e.memoizedState;u.state=D,xn(e,a,u,n),vn(),E=e.memoizedState,c||D!==E||yl?(typeof H=="function"&&(Os(e,l,H,a),E=e.memoizedState),(x=yl||Vf(e,l,x,a,D,E,i))?(C||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=a,e.memoizedState=E),u.props=a,u.state=E,u.context=i,a=x):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),a=!1)}else{u=e.stateNode,os(t,e),i=e.memoizedProps,C=ta(l,i),u.props=C,H=e.pendingProps,D=u.context,E=l.contextType,x=ya,typeof E=="object"&&E!==null&&(x=$t(E)),c=l.getDerivedStateFromProps,(E=typeof c=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(i!==H||D!==x)&&Kf(e,u,a,x),yl=!1,D=e.memoizedState,u.state=D,xn(e,a,u,n),vn();var R=e.memoizedState;i!==H||D!==R||yl||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof c=="function"&&(Os(e,l,c,a),R=e.memoizedState),(C=yl||Vf(e,l,C,a,D,R,x)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(E||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(a,R,x),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(a,R,x)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||i===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),e.memoizedProps=a,e.memoizedState=R),u.props=a,u.state=R,u.context=x,a=C):(typeof u.componentDidUpdate!="function"||i===t.memoizedProps&&D===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||i===t.memoizedProps&&D===t.memoizedState||(e.flags|=1024),a=!1)}return u=a,Bu(t,e),a=(e.flags&128)!==0,u||a?(u=e.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:u.render(),e.flags|=1,t!==null&&a?(e.child=Il(e,t.child,null,n),e.child=Il(e,null,l,n)):Wt(t,e,l,n),e.memoizedState=u.state,t=e.child):t=Pe(t,e,n),t}function sr(t,e,l,a){return Kl(),e.flags|=256,Wt(t,e,l,a),e.child}var Ls={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hs(t){return{baseLanes:t,cachePool:Fo()}}function qs(t,e,l){return t=t!==null?t.childLanes&~l:0,e&&(t|=ve),t}function cr(t,e,l){var a=e.pendingProps,n=!1,u=(e.flags&128)!==0,i;if((i=u)||(i=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),i&&(n=!0,e.flags&=-129),i=(e.flags&32)!==0,e.flags&=-33,t===null){if(xt){if(n?_l(e):Nl(),(t=Et)?(t=gd(t,Me),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:pl!==null?{id:Le,overflow:He}:null,retryLane:536870912,hydrationErrors:null},l=Yo(t),l.return=e,e.child=l,Ft=e,Et=null)):t=null,t===null)throw vl(e);return Sc(t)?e.lanes=32:e.lanes=536870912,null}var c=a.children;return a=a.fallback,n?(Nl(),n=e.mode,c=Cu({mode:"hidden",children:c},n),a=Vl(a,n,l,null),c.return=e,a.return=e,c.sibling=a,e.child=c,a=e.child,a.memoizedState=Hs(l),a.childLanes=qs(t,i,l),e.memoizedState=Ls,Nn(null,a)):(_l(e),Ys(e,c))}var x=t.memoizedState;if(x!==null&&(c=x.dehydrated,c!==null)){if(u)e.flags&256?(_l(e),e.flags&=-257,e=Xs(t,e,l)):e.memoizedState!==null?(Nl(),e.child=t.child,e.flags|=128,e=null):(Nl(),c=a.fallback,n=e.mode,a=Cu({mode:"visible",children:a.children},n),c=Vl(c,n,l,null),c.flags|=2,a.return=e,c.return=e,a.sibling=c,e.child=a,Il(e,t.child,null,l),a=e.child,a.memoizedState=Hs(l),a.childLanes=qs(t,i,l),e.memoizedState=Ls,e=Nn(null,a));else if(_l(e),Sc(c)){if(i=c.nextSibling&&c.nextSibling.dataset,i)var E=i.dgst;i=E,a=Error(o(419)),a.stack="",a.digest=i,rn({value:a,source:null,stack:null}),e=Xs(t,e,l)}else if(Xt||Na(t,e,l,!1),i=(l&t.childLanes)!==0,Xt||i){if(i=Tt,i!==null&&(a=Kc(i,l),a!==0&&a!==x.retryLane))throw x.retryLane=a,Zl(t,a),fe(i,t,a),Bs;bc(c)||Vu(),e=Xs(t,e,l)}else bc(c)?(e.flags|=192,e.child=t.child,e=null):(t=x.treeContext,Et=Ee(c.nextSibling),Ft=e,xt=!0,gl=null,Me=!1,t!==null&&Qo(e,t),e=Ys(e,a.children),e.flags|=4096);return e}return n?(Nl(),c=a.fallback,n=e.mode,x=t.child,E=x.sibling,a=Je(x,{mode:"hidden",children:a.children}),a.subtreeFlags=x.subtreeFlags&65011712,E!==null?c=Je(E,c):(c=Vl(c,n,l,null),c.flags|=2),c.return=e,a.return=e,a.sibling=c,e.child=a,Nn(null,a),a=e.child,c=t.child.memoizedState,c===null?c=Hs(l):(n=c.cachePool,n!==null?(x=qt._currentValue,n=n.parent!==x?{parent:x,pool:x}:n):n=Fo(),c={baseLanes:c.baseLanes|l,cachePool:n}),a.memoizedState=c,a.childLanes=qs(t,i,l),e.memoizedState=Ls,Nn(t.child,a)):(_l(e),l=t.child,t=l.sibling,l=Je(l,{mode:"visible",children:a.children}),l.return=e,l.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=l,e.memoizedState=null,l)}function Ys(t,e){return e=Cu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Cu(t,e){return t=he(22,t,null,e),t.lanes=0,t}function Xs(t,e,l){return Il(e,t.child,null,l),t=Ys(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function or(t,e,l){t.lanes|=e;var a=t.alternate;a!==null&&(a.lanes|=e),ls(t.return,e,l)}function Gs(t,e,l,a,n,u){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:u}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=l,i.tailMode=n,i.treeForkCount=u)}function fr(t,e,l){var a=e.pendingProps,n=a.revealOrder,u=a.tail;a=a.children;var i=Bt.current,c=(i&2)!==0;if(c?(i=i&1|2,e.flags|=128):i&=1,ct(Bt,i),Wt(t,e,a,l),a=xt?fn:0,!c&&t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&or(t,l,e);else if(t.tag===19)or(t,l,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(n){case"forwards":for(l=e.child,n=null;l!==null;)t=l.alternate,t!==null&&ju(t)===null&&(n=l),l=l.sibling;l=n,l===null?(n=e.child,e.child=null):(n=l.sibling,l.sibling=null),Gs(e,!1,n,l,u,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&ju(t)===null){e.child=n;break}t=n.sibling,n.sibling=l,l=n,n=t}Gs(e,!0,l,null,u,a);break;case"together":Gs(e,!1,null,null,void 0,a);break;default:e.memoizedState=null}return e.child}function Pe(t,e,l){if(t!==null&&(e.dependencies=t.dependencies),zl|=e.lanes,(l&e.childLanes)===0)if(t!==null){if(Na(t,e,l,!1),(l&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(o(153));if(e.child!==null){for(t=e.child,l=Je(t,t.pendingProps),e.child=l,l.return=e;t.sibling!==null;)t=t.sibling,l=l.sibling=Je(t,t.pendingProps),l.return=e;l.sibling=null}return e.child}function Qs(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function Mh(t,e,l){switch(e.tag){case 3:Jt(e,e.stateNode.containerInfo),xl(e,qt,t.memoizedState.cache),Kl();break;case 27:case 5:be(e);break;case 4:Jt(e,e.stateNode.containerInfo);break;case 10:xl(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,ms(e),null;break;case 13:var a=e.memoizedState;if(a!==null)return a.dehydrated!==null?(_l(e),e.flags|=128,null):(l&e.child.childLanes)!==0?cr(t,e,l):(_l(e),t=Pe(t,e,l),t!==null?t.sibling:null);_l(e);break;case 19:var n=(t.flags&128)!==0;if(a=(l&e.childLanes)!==0,a||(Na(t,e,l,!1),a=(l&e.childLanes)!==0),n){if(a)return fr(t,e,l);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ct(Bt,Bt.current),a)break;return null;case 22:return e.lanes=0,lr(t,e,l,e.pendingProps);case 24:xl(e,qt,t.memoizedState.cache)}return Pe(t,e,l)}function rr(t,e,l){if(t!==null)if(t.memoizedProps!==e.pendingProps)Xt=!0;else{if(!Qs(t,l)&&(e.flags&128)===0)return Xt=!1,Mh(t,e,l);Xt=(t.flags&131072)!==0}else Xt=!1,xt&&(e.flags&1048576)!==0&&Go(e,fn,e.index);switch(e.lanes=0,e.tag){case 16:t:{var a=e.pendingProps;if(t=$l(e.elementType),e.type=t,typeof t=="function")ki(t)?(a=ta(t,a),e.tag=1,e=ir(null,e,t,a,l)):(e.tag=0,e=Cs(null,e,t,a,l));else{if(t!=null){var n=t.$$typeof;if(n===k){e.tag=11,e=Pf(null,e,t,a,l);break t}else if(n===it){e.tag=14,e=tr(null,e,t,a,l);break t}}throw e=b(t)||t,Error(o(306,e,""))}}return e;case 0:return Cs(t,e,e.type,e.pendingProps,l);case 1:return a=e.type,n=ta(a,e.pendingProps),ir(t,e,a,n,l);case 3:t:{if(Jt(e,e.stateNode.containerInfo),t===null)throw Error(o(387));a=e.pendingProps;var u=e.memoizedState;n=u.element,os(t,e),xn(e,a,null,l);var i=e.memoizedState;if(a=i.cache,xl(e,qt,a),a!==u.cache&&as(e,[qt],l,!0),vn(),a=i.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:i.cache},e.updateQueue.baseState=u,e.memoizedState=u,e.flags&256){e=sr(t,e,a,l);break t}else if(a!==n){n=je(Error(o(424)),e),rn(n),e=sr(t,e,a,l);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=Ee(t.firstChild),Ft=e,xt=!0,gl=null,Me=!0,l=ef(e,null,a,l),e.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Kl(),a===n){e=Pe(t,e,l);break t}Wt(t,e,a,l)}e=e.child}return e;case 26:return Bu(t,e),t===null?(l=_d(e.type,null,e.pendingProps,null))?e.memoizedState=l:xt||(l=e.type,t=e.pendingProps,a=Iu(le.current).createElement(l),a[kt]=e,a[ne]=t,It(a,l,t),Vt(a),e.stateNode=a):e.memoizedState=_d(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return be(e),t===null&&xt&&(a=e.stateNode=yd(e.type,e.pendingProps,le.current),Ft=e,Me=!0,n=Et,Dl(e.type)?(_c=n,Et=Ee(a.firstChild)):Et=n),Wt(t,e,e.pendingProps.children,l),Bu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&xt&&((n=a=Et)&&(a=am(a,e.type,e.pendingProps,Me),a!==null?(e.stateNode=a,Ft=e,Et=Ee(a.firstChild),Me=!1,n=!0):n=!1),n||vl(e)),be(e),n=e.type,u=e.pendingProps,i=t!==null?t.memoizedProps:null,a=u.children,vc(n,u)?a=null:i!==null&&vc(n,i)&&(e.flags|=32),e.memoizedState!==null&&(n=gs(t,e,xh,null,null,l),Hn._currentValue=n),Bu(t,e),Wt(t,e,a,l),e.child;case 6:return t===null&&xt&&((t=l=Et)&&(l=nm(l,e.pendingProps,Me),l!==null?(e.stateNode=l,Ft=e,Et=null,t=!0):t=!1),t||vl(e)),null;case 13:return cr(t,e,l);case 4:return Jt(e,e.stateNode.containerInfo),a=e.pendingProps,t===null?e.child=Il(e,null,a,l):Wt(t,e,a,l),e.child;case 11:return Pf(t,e,e.type,e.pendingProps,l);case 7:return Wt(t,e,e.pendingProps,l),e.child;case 8:return Wt(t,e,e.pendingProps.children,l),e.child;case 12:return Wt(t,e,e.pendingProps.children,l),e.child;case 10:return a=e.pendingProps,xl(e,e.type,a.value),Wt(t,e,a.children,l),e.child;case 9:return n=e.type._context,a=e.pendingProps.children,kl(e),n=$t(n),a=a(n),e.flags|=1,Wt(t,e,a,l),e.child;case 14:return tr(t,e,e.type,e.pendingProps,l);case 15:return er(t,e,e.type,e.pendingProps,l);case 19:return fr(t,e,l);case 31:return zh(t,e,l);case 22:return lr(t,e,l,e.pendingProps);case 24:return kl(e),a=$t(qt),t===null?(n=is(),n===null&&(n=Tt,u=ns(),n.pooledCache=u,u.refCount++,u!==null&&(n.pooledCacheLanes|=l),n=u),e.memoizedState={parent:a,cache:n},cs(e),xl(e,qt,n)):((t.lanes&l)!==0&&(os(t,e),xn(e,null,null,l),vn()),n=t.memoizedState,u=e.memoizedState,n.parent!==a?(n={parent:a,cache:a},e.memoizedState=n,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=n),xl(e,qt,a)):(a=u.cache,xl(e,qt,a),a!==n.cache&&as(e,[qt],l,!0))),Wt(t,e,e.pendingProps.children,l),e.child;case 29:throw e.pendingProps}throw Error(o(156,e.tag))}function tl(t){t.flags|=4}function Zs(t,e,l,a,n){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(n&335544128)===n)if(t.stateNode.complete)t.flags|=8192;else if(Hr())t.flags|=8192;else throw Wl=bu,ss}else t.flags&=-16777217}function dr(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Md(e))if(Hr())t.flags|=8192;else throw Wl=bu,ss}function Lu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Qc():536870912,t.lanes|=e,Ba|=e)}function jn(t,e){if(!xt)switch(t.tailMode){case"hidden":e=t.tail;for(var l=null;e!==null;)e.alternate!==null&&(l=e),e=e.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,l=0,a=0;if(e)for(var n=t.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=a,t.childLanes=l,e}function Th(t,e,l){var a=e.pendingProps;switch(Ii(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return wt(e),null;case 3:return l=e.stateNode,a=null,t!==null&&(a=t.memoizedState.cache),e.memoizedState.cache!==a&&(e.flags|=2048),$e(qt),ae(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(_a(e)?tl(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ts())),wt(e),null;case 26:var n=e.type,u=e.memoizedState;return t===null?(tl(e),u!==null?(wt(e),dr(e,u)):(wt(e),Zs(e,n,null,a,l))):u?u!==t.memoizedState?(tl(e),wt(e),dr(e,u)):(wt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==a&&tl(e),wt(e),Zs(e,n,t,a,l)),null;case 27:if(Re(e),l=le.current,n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&tl(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return wt(e),null}t=_t.current,_a(e)?Zo(e):(t=yd(n,a,l),e.stateNode=t,tl(e))}return wt(e),null;case 5:if(Re(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==a&&tl(e);else{if(!a){if(e.stateNode===null)throw Error(o(166));return wt(e),null}if(u=_t.current,_a(e))Zo(e);else{var i=Iu(le.current);switch(u){case 1:u=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:u=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":u=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":u=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":u=i.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?u.multiple=!0:a.size&&(u.size=a.size);break;default:u=typeof a.is=="string"?i.createElement(n,{is:a.is}):i.createElement(n)}}u[kt]=e,u[ne]=a;t:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)u.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=u;t:switch(It(u,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break t;case"img":a=!0;break t;default:a=!1}a&&tl(e)}}return wt(e),Zs(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,l),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==a&&tl(e);else{if(typeof a!="string"&&e.stateNode===null)throw Error(o(166));if(t=le.current,_a(e)){if(t=e.stateNode,l=e.memoizedProps,a=null,n=Ft,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}t[kt]=e,t=!!(t.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||cd(t.nodeValue,l)),t||vl(e,!0)}else t=Iu(t).createTextNode(a),t[kt]=e,e.stateNode=t}return wt(e),null;case 31:if(l=e.memoizedState,t===null||t.memoizedState!==null){if(a=_a(e),l!==null){if(t===null){if(!a)throw Error(o(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[kt]=e}else Kl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;wt(e),t=!1}else l=ts(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),t=!0;if(!t)return e.flags&256?(pe(e),e):(pe(e),null);if((e.flags&128)!==0)throw Error(o(558))}return wt(e),null;case 13:if(a=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(n=_a(e),a!==null&&a.dehydrated!==null){if(t===null){if(!n)throw Error(o(318));if(n=e.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[kt]=e}else Kl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;wt(e),n=!1}else n=ts(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),n=!0;if(!n)return e.flags&256?(pe(e),e):(pe(e),null)}return pe(e),(e.flags&128)!==0?(e.lanes=l,e):(l=a!==null,t=t!==null&&t.memoizedState!==null,l&&(a=e.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==n&&(a.flags|=2048)),l!==t&&l&&(e.child.flags|=8192),Lu(e,e.updateQueue),wt(e),null);case 4:return ae(),t===null&&dc(e.stateNode.containerInfo),wt(e),null;case 10:return $e(e.type),wt(e),null;case 19:if(st(Bt),a=e.memoizedState,a===null)return wt(e),null;if(n=(e.flags&128)!==0,u=a.rendering,u===null)if(n)jn(a,!1);else{if(Ut!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(u=ju(t),u!==null){for(e.flags|=128,jn(a,!1),t=u.updateQueue,e.updateQueue=t,Lu(e,t),e.subtreeFlags=0,t=l,l=e.child;l!==null;)qo(l,t),l=l.sibling;return ct(Bt,Bt.current&1|2),xt&&ke(e,a.treeForkCount),e.child}t=t.sibling}a.tail!==null&&Ht()>Gu&&(e.flags|=128,n=!0,jn(a,!1),e.lanes=4194304)}else{if(!n)if(t=ju(u),t!==null){if(e.flags|=128,n=!0,t=t.updateQueue,e.updateQueue=t,Lu(e,t),jn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!xt)return wt(e),null}else 2*Ht()-a.renderingStartTime>Gu&&l!==536870912&&(e.flags|=128,n=!0,jn(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(t=a.last,t!==null?t.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ht(),t.sibling=null,l=Bt.current,ct(Bt,n?l&1|2:l&1),xt&&ke(e,a.treeForkCount),t):(wt(e),null);case 22:case 23:return pe(e),hs(),a=e.memoizedState!==null,t!==null?t.memoizedState!==null!==a&&(e.flags|=8192):a&&(e.flags|=8192),a?(l&536870912)!==0&&(e.flags&128)===0&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),l=e.updateQueue,l!==null&&Lu(e,l.retryQueue),l=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),a=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),a!==l&&(e.flags|=2048),t!==null&&st(Fl),null;case 24:return l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),$e(qt),wt(e),null;case 25:return null;case 30:return null}throw Error(o(156,e.tag))}function Eh(t,e){switch(Ii(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $e(qt),ae(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Re(e),null;case 31:if(e.memoizedState!==null){if(pe(e),e.alternate===null)throw Error(o(340));Kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(pe(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(o(340));Kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(Bt),null;case 4:return ae(),null;case 10:return $e(e.type),null;case 22:case 23:return pe(e),hs(),t!==null&&st(Fl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return $e(qt),null;case 25:return null;default:return null}}function hr(t,e){switch(Ii(e),e.tag){case 3:$e(qt),ae();break;case 26:case 27:case 5:Re(e);break;case 4:ae();break;case 31:e.memoizedState!==null&&pe(e);break;case 13:pe(e);break;case 19:st(Bt);break;case 10:$e(e.type);break;case 22:case 23:pe(e),hs(),t!==null&&st(Fl);break;case 24:$e(qt)}}function An(t,e){try{var l=e.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&t)===t){a=void 0;var u=l.create,i=l.inst;a=u(),i.destroy=a}l=l.next}while(l!==n)}}catch(c){jt(e,e.return,c)}}function jl(t,e,l){try{var a=e.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var u=n.next;a=u;do{if((a.tag&t)===t){var i=a.inst,c=i.destroy;if(c!==void 0){i.destroy=void 0,n=e;var x=l,E=c;try{E()}catch(C){jt(n,x,C)}}}a=a.next}while(a!==u)}}catch(C){jt(e,e.return,C)}}function mr(t){var e=t.updateQueue;if(e!==null){var l=t.stateNode;try{af(e,l)}catch(a){jt(t,t.return,a)}}}function pr(t,e,l){l.props=ta(t.type,t.memoizedProps),l.state=t.memoizedState;try{l.componentWillUnmount()}catch(a){jt(t,e,a)}}function zn(t,e){try{var l=t.ref;if(l!==null){switch(t.tag){case 26:case 27:case 5:var a=t.stateNode;break;case 30:a=t.stateNode;break;default:a=t.stateNode}typeof l=="function"?t.refCleanup=l(a):l.current=a}}catch(n){jt(t,e,n)}}function qe(t,e){var l=t.ref,a=t.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){jt(t,e,n)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){jt(t,e,n)}else l.current=null}function gr(t){var e=t.type,l=t.memoizedProps,a=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break t;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){jt(t,t.return,n)}}function Vs(t,e,l){try{var a=t.stateNode;Wh(a,t.type,l,e),a[ne]=e}catch(n){jt(t,t.return,n)}}function vr(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Dl(t.type)||t.tag===4}function Ks(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||vr(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Dl(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Js(t,e,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(t,e):(e=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,e.appendChild(t),l=l._reactRootContainer,l!=null||e.onclick!==null||(e.onclick=Ve));else if(a!==4&&(a===27&&Dl(t.type)&&(l=t.stateNode,e=null),t=t.child,t!==null))for(Js(t,e,l),t=t.sibling;t!==null;)Js(t,e,l),t=t.sibling}function Hu(t,e,l){var a=t.tag;if(a===5||a===6)t=t.stateNode,e?l.insertBefore(t,e):l.appendChild(t);else if(a!==4&&(a===27&&Dl(t.type)&&(l=t.stateNode),t=t.child,t!==null))for(Hu(t,e,l),t=t.sibling;t!==null;)Hu(t,e,l),t=t.sibling}function xr(t){var e=t.stateNode,l=t.memoizedProps;try{for(var a=t.type,n=e.attributes;n.length;)e.removeAttributeNode(n[0]);It(e,a,l),e[kt]=t,e[ne]=l}catch(u){jt(t,t.return,u)}}var el=!1,Gt=!1,ks=!1,yr=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function wh(t,e){if(t=t.containerInfo,pc=ui,t=wo(t),Xi(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else t:{l=(l=t.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{l.nodeType,u.nodeType}catch{l=null;break t}var i=0,c=-1,x=-1,E=0,C=0,H=t,D=null;e:for(;;){for(var R;H!==l||n!==0&&H.nodeType!==3||(c=i+n),H!==u||a!==0&&H.nodeType!==3||(x=i+a),H.nodeType===3&&(i+=H.nodeValue.length),(R=H.firstChild)!==null;)D=H,H=R;for(;;){if(H===t)break e;if(D===l&&++E===n&&(c=i),D===u&&++C===a&&(x=i),(R=H.nextSibling)!==null)break;H=D,D=H.parentNode}H=R}l=c===-1||x===-1?null:{start:c,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(gc={focusedElem:t,selectionRange:l},ui=!1,Kt=e;Kt!==null;)if(e=Kt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Kt=t;else for(;Kt!==null;){switch(e=Kt,u=e.alternate,t=e.flags,e.tag){case 0:if((t&4)!==0&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(l=0;l<t.length;l++)n=t[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&u!==null){t=void 0,l=e,n=u.memoizedProps,u=u.memoizedState,a=l.stateNode;try{var W=ta(l.type,n);t=a.getSnapshotBeforeUpdate(W,u),a.__reactInternalSnapshotBeforeUpdate=t}catch(nt){jt(l,l.return,nt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,l=t.nodeType,l===9)yc(t);else if(l===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=e.sibling,t!==null){t.return=e.return,Kt=t;break}Kt=e.return}}function br(t,e,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:al(t,l),a&4&&An(5,l);break;case 1:if(al(t,l),a&4)if(t=l.stateNode,e===null)try{t.componentDidMount()}catch(i){jt(l,l.return,i)}else{var n=ta(l.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(n,e,t.__reactInternalSnapshotBeforeUpdate)}catch(i){jt(l,l.return,i)}}a&64&&mr(l),a&512&&zn(l,l.return);break;case 3:if(al(t,l),a&64&&(t=l.updateQueue,t!==null)){if(e=null,l.child!==null)switch(l.child.tag){case 27:case 5:e=l.child.stateNode;break;case 1:e=l.child.stateNode}try{af(t,e)}catch(i){jt(l,l.return,i)}}break;case 27:e===null&&a&4&&xr(l);case 26:case 5:al(t,l),e===null&&a&4&&gr(l),a&512&&zn(l,l.return);break;case 12:al(t,l);break;case 31:al(t,l),a&4&&Nr(t,l);break;case 13:al(t,l),a&4&&jr(t,l),a&64&&(t=l.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(l=qh.bind(null,l),um(t,l))));break;case 22:if(a=l.memoizedState!==null||el,!a){e=e!==null&&e.memoizedState!==null||Gt,n=el;var u=Gt;el=a,(Gt=e)&&!u?nl(t,l,(l.subtreeFlags&8772)!==0):al(t,l),el=n,Gt=u}break;case 30:break;default:al(t,l)}}function Sr(t){var e=t.alternate;e!==null&&(t.alternate=null,Sr(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ji(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,ie=!1;function ll(t,e,l){for(l=l.child;l!==null;)_r(t,e,l),l=l.sibling}function _r(t,e,l){if(te&&typeof te.onCommitFiberUnmount=="function")try{te.onCommitFiberUnmount(Qe,l)}catch{}switch(l.tag){case 26:Gt||qe(l,e),ll(t,e,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Gt||qe(l,e);var a=Dt,n=ie;Dl(l.type)&&(Dt=l.stateNode,ie=!1),ll(t,e,l),Bn(l.stateNode),Dt=a,ie=n;break;case 5:Gt||qe(l,e);case 6:if(a=Dt,n=ie,Dt=null,ll(t,e,l),Dt=a,ie=n,Dt!==null)if(ie)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(l.stateNode)}catch(u){jt(l,e,u)}else try{Dt.removeChild(l.stateNode)}catch(u){jt(l,e,u)}break;case 18:Dt!==null&&(ie?(t=Dt,md(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,l.stateNode),Qa(t)):md(Dt,l.stateNode));break;case 4:a=Dt,n=ie,Dt=l.stateNode.containerInfo,ie=!0,ll(t,e,l),Dt=a,ie=n;break;case 0:case 11:case 14:case 15:jl(2,l,e),Gt||jl(4,l,e),ll(t,e,l);break;case 1:Gt||(qe(l,e),a=l.stateNode,typeof a.componentWillUnmount=="function"&&pr(l,e,a)),ll(t,e,l);break;case 21:ll(t,e,l);break;case 22:Gt=(a=Gt)||l.memoizedState!==null,ll(t,e,l),Gt=a;break;default:ll(t,e,l)}}function Nr(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(l){jt(e,e.return,l)}}}function jr(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(l){jt(e,e.return,l)}}function Dh(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new yr),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new yr),e;default:throw Error(o(435,t.tag))}}function qu(t,e){var l=Dh(t);e.forEach(function(a){if(!l.has(a)){l.add(a);var n=Yh.bind(null,t,a);a.then(n,n)}})}function se(t,e){var l=e.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],u=t,i=e,c=i;t:for(;c!==null;){switch(c.tag){case 27:if(Dl(c.type)){Dt=c.stateNode,ie=!1;break t}break;case 5:Dt=c.stateNode,ie=!1;break t;case 3:case 4:Dt=c.stateNode.containerInfo,ie=!0;break t}c=c.return}if(Dt===null)throw Error(o(160));_r(u,i,n),Dt=null,ie=!1,u=n.alternate,u!==null&&(u.return=null),n.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Ar(e,t),e=e.sibling}var Oe=null;function Ar(t,e){var l=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:se(e,t),ce(t),a&4&&(jl(3,t,t.return),An(3,t),jl(5,t,t.return));break;case 1:se(e,t),ce(t),a&512&&(Gt||l===null||qe(l,l.return)),a&64&&el&&(t=t.updateQueue,t!==null&&(a=t.callbacks,a!==null&&(l=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Oe;if(se(e,t),ce(t),a&512&&(Gt||l===null||qe(l,l.return)),a&4){var u=l!==null?l.memoizedState:null;if(a=t.memoizedState,l===null)if(a===null)if(t.stateNode===null){t:{a=t.type,l=t.memoizedProps,n=n.ownerDocument||n;e:switch(a){case"title":u=n.getElementsByTagName("title")[0],(!u||u[Ia]||u[kt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=n.createElement(a),n.head.insertBefore(u,n.querySelector("head > title"))),It(u,a,l),u[kt]=t,Vt(u),a=u;break t;case"link":var i=Ad("link","href",n).get(a+(l.href||""));if(i){for(var c=0;c<i.length;c++)if(u=i[c],u.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&u.getAttribute("rel")===(l.rel==null?null:l.rel)&&u.getAttribute("title")===(l.title==null?null:l.title)&&u.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){i.splice(c,1);break e}}u=n.createElement(a),It(u,a,l),n.head.appendChild(u);break;case"meta":if(i=Ad("meta","content",n).get(a+(l.content||""))){for(c=0;c<i.length;c++)if(u=i[c],u.getAttribute("content")===(l.content==null?null:""+l.content)&&u.getAttribute("name")===(l.name==null?null:l.name)&&u.getAttribute("property")===(l.property==null?null:l.property)&&u.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&u.getAttribute("charset")===(l.charSet==null?null:l.charSet)){i.splice(c,1);break e}}u=n.createElement(a),It(u,a,l),n.head.appendChild(u);break;default:throw Error(o(468,a))}u[kt]=t,Vt(u),a=u}t.stateNode=a}else zd(n,t.type,t.stateNode);else t.stateNode=jd(n,a,t.memoizedProps);else u!==a?(u===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):u.count--,a===null?zd(n,t.type,t.stateNode):jd(n,a,t.memoizedProps)):a===null&&t.stateNode!==null&&Vs(t,t.memoizedProps,l.memoizedProps)}break;case 27:se(e,t),ce(t),a&512&&(Gt||l===null||qe(l,l.return)),l!==null&&a&4&&Vs(t,t.memoizedProps,l.memoizedProps);break;case 5:if(se(e,t),ce(t),a&512&&(Gt||l===null||qe(l,l.return)),t.flags&32){n=t.stateNode;try{da(n,"")}catch(W){jt(t,t.return,W)}}a&4&&t.stateNode!=null&&(n=t.memoizedProps,Vs(t,n,l!==null?l.memoizedProps:n)),a&1024&&(ks=!0);break;case 6:if(se(e,t),ce(t),a&4){if(t.stateNode===null)throw Error(o(162));a=t.memoizedProps,l=t.stateNode;try{l.nodeValue=a}catch(W){jt(t,t.return,W)}}break;case 3:if(ei=null,n=Oe,Oe=Pu(e.containerInfo),se(e,t),Oe=n,ce(t),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Qa(e.containerInfo)}catch(W){jt(t,t.return,W)}ks&&(ks=!1,zr(t));break;case 4:a=Oe,Oe=Pu(t.stateNode.containerInfo),se(e,t),ce(t),Oe=a;break;case 12:se(e,t),ce(t);break;case 31:se(e,t),ce(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,qu(t,a)));break;case 13:se(e,t),ce(t),t.child.flags&8192&&t.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xu=Ht()),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,qu(t,a)));break;case 22:n=t.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,E=el,C=Gt;if(el=E||n,Gt=C||x,se(e,t),Gt=C,el=E,ce(t),a&8192)t:for(e=t.stateNode,e._visibility=n?e._visibility&-2:e._visibility|1,n&&(l===null||x||el||Gt||ea(t)),l=null,e=t;;){if(e.tag===5||e.tag===26){if(l===null){x=l=e;try{if(u=x.stateNode,n)i=u.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{c=x.stateNode;var H=x.memoizedProps.style,D=H!=null&&H.hasOwnProperty("display")?H.display:null;c.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(W){jt(x,x.return,W)}}}else if(e.tag===6){if(l===null){x=e;try{x.stateNode.nodeValue=n?"":x.memoizedProps}catch(W){jt(x,x.return,W)}}}else if(e.tag===18){if(l===null){x=e;try{var R=x.stateNode;n?pd(R,!0):pd(x.stateNode,!1)}catch(W){jt(x,x.return,W)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;l===e&&(l=null),e=e.return}l===e&&(l=null),e.sibling.return=e.return,e=e.sibling}a&4&&(a=t.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,qu(t,l))));break;case 19:se(e,t),ce(t),a&4&&(a=t.updateQueue,a!==null&&(t.updateQueue=null,qu(t,a)));break;case 30:break;case 21:break;default:se(e,t),ce(t)}}function ce(t){var e=t.flags;if(e&2){try{for(var l,a=t.return;a!==null;){if(vr(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,u=Ks(t);Hu(t,u,n);break;case 5:var i=l.stateNode;l.flags&32&&(da(i,""),l.flags&=-33);var c=Ks(t);Hu(t,c,i);break;case 3:case 4:var x=l.stateNode.containerInfo,E=Ks(t);Js(t,E,x);break;default:throw Error(o(161))}}catch(C){jt(t,t.return,C)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zr(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;zr(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function al(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)br(t,e.alternate,e),e=e.sibling}function ea(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:jl(4,e,e.return),ea(e);break;case 1:qe(e,e.return);var l=e.stateNode;typeof l.componentWillUnmount=="function"&&pr(e,e.return,l),ea(e);break;case 27:Bn(e.stateNode);case 26:case 5:qe(e,e.return),ea(e);break;case 22:e.memoizedState===null&&ea(e);break;case 30:ea(e);break;default:ea(e)}t=t.sibling}}function nl(t,e,l){for(l=l&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var a=e.alternate,n=t,u=e,i=u.flags;switch(u.tag){case 0:case 11:case 15:nl(n,u,l),An(4,u);break;case 1:if(nl(n,u,l),a=u,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(E){jt(a,a.return,E)}if(a=u,n=a.updateQueue,n!==null){var c=a.stateNode;try{var x=n.shared.hiddenCallbacks;if(x!==null)for(n.shared.hiddenCallbacks=null,n=0;n<x.length;n++)lf(x[n],c)}catch(E){jt(a,a.return,E)}}l&&i&64&&mr(u),zn(u,u.return);break;case 27:xr(u);case 26:case 5:nl(n,u,l),l&&a===null&&i&4&&gr(u),zn(u,u.return);break;case 12:nl(n,u,l);break;case 31:nl(n,u,l),l&&i&4&&Nr(n,u);break;case 13:nl(n,u,l),l&&i&4&&jr(n,u);break;case 22:u.memoizedState===null&&nl(n,u,l),zn(u,u.return);break;case 30:break;default:nl(n,u,l)}e=e.sibling}}function Fs(t,e){var l=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==l&&(t!=null&&t.refCount++,l!=null&&dn(l))}function $s(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&dn(t))}function Ue(t,e,l,a){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mr(t,e,l,a),e=e.sibling}function Mr(t,e,l,a){var n=e.flags;switch(e.tag){case 0:case 11:case 15:Ue(t,e,l,a),n&2048&&An(9,e);break;case 1:Ue(t,e,l,a);break;case 3:Ue(t,e,l,a),n&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&dn(t)));break;case 12:if(n&2048){Ue(t,e,l,a),t=e.stateNode;try{var u=e.memoizedProps,i=u.id,c=u.onPostCommit;typeof c=="function"&&c(i,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){jt(e,e.return,x)}}else Ue(t,e,l,a);break;case 31:Ue(t,e,l,a);break;case 13:Ue(t,e,l,a);break;case 23:break;case 22:u=e.stateNode,i=e.alternate,e.memoizedState!==null?u._visibility&2?Ue(t,e,l,a):Mn(t,e):u._visibility&2?Ue(t,e,l,a):(u._visibility|=2,Oa(t,e,l,a,(e.subtreeFlags&10256)!==0||!1)),n&2048&&Fs(i,e);break;case 24:Ue(t,e,l,a),n&2048&&$s(e.alternate,e);break;default:Ue(t,e,l,a)}}function Oa(t,e,l,a,n){for(n=n&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var u=t,i=e,c=l,x=a,E=i.flags;switch(i.tag){case 0:case 11:case 15:Oa(u,i,c,x,n),An(8,i);break;case 23:break;case 22:var C=i.stateNode;i.memoizedState!==null?C._visibility&2?Oa(u,i,c,x,n):Mn(u,i):(C._visibility|=2,Oa(u,i,c,x,n)),n&&E&2048&&Fs(i.alternate,i);break;case 24:Oa(u,i,c,x,n),n&&E&2048&&$s(i.alternate,i);break;default:Oa(u,i,c,x,n)}e=e.sibling}}function Mn(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var l=t,a=e,n=a.flags;switch(a.tag){case 22:Mn(l,a),n&2048&&Fs(a.alternate,a);break;case 24:Mn(l,a),n&2048&&$s(a.alternate,a);break;default:Mn(l,a)}e=e.sibling}}var Tn=8192;function Ua(t,e,l){if(t.subtreeFlags&Tn)for(t=t.child;t!==null;)Tr(t,e,l),t=t.sibling}function Tr(t,e,l){switch(t.tag){case 26:Ua(t,e,l),t.flags&Tn&&t.memoizedState!==null&&vm(l,Oe,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,e,l);break;case 3:case 4:var a=Oe;Oe=Pu(t.stateNode.containerInfo),Ua(t,e,l),Oe=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Tn,Tn=16777216,Ua(t,e,l),Tn=a):Ua(t,e,l));break;default:Ua(t,e,l)}}function Er(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function En(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var a=e[l];Kt=a,Dr(a,t)}Er(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wr(t),t=t.sibling}function wr(t){switch(t.tag){case 0:case 11:case 15:En(t),t.flags&2048&&jl(9,t,t.return);break;case 3:En(t);break;case 12:En(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Yu(t)):En(t);break;default:En(t)}}function Yu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var l=0;l<e.length;l++){var a=e[l];Kt=a,Dr(a,t)}Er(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:jl(8,e,e.return),Yu(e);break;case 22:l=e.stateNode,l._visibility&2&&(l._visibility&=-3,Yu(e));break;default:Yu(e)}t=t.sibling}}function Dr(t,e){for(;Kt!==null;){var l=Kt;switch(l.tag){case 0:case 11:case 15:jl(8,l,e);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:dn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Kt=a;else t:for(l=t;Kt!==null;){a=Kt;var n=a.sibling,u=a.return;if(Sr(a),a===l){Kt=null;break t}if(n!==null){n.return=u,Kt=n;break t}Kt=u}}}var Oh={getCacheForType:function(t){var e=$t(qt),l=e.data.get(t);return l===void 0&&(l=t(),e.data.set(t,l)),l},cacheSignal:function(){return $t(qt).controller.signal}},Uh=typeof WeakMap=="function"?WeakMap:Map,St=0,Tt=null,mt=null,gt=0,Nt=0,ge=null,Al=!1,Ra=!1,Ws=!1,ul=0,Ut=0,zl=0,la=0,Is=0,ve=0,Ba=0,wn=null,oe=null,Ps=!1,Xu=0,Or=0,Gu=1/0,Qu=null,Ml=null,Zt=0,Tl=null,Ca=null,il=0,tc=0,ec=null,Ur=null,Dn=0,lc=null;function xe(){return(St&2)!==0&&gt!==0?gt&-gt:j.T!==null?cc():Jc()}function Rr(){if(ve===0)if((gt&536870912)===0||xt){var t=Wn;Wn<<=1,(Wn&3932160)===0&&(Wn=262144),ve=t}else ve=536870912;return t=me.current,t!==null&&(t.flags|=32),ve}function fe(t,e,l){(t===Tt&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)&&(La(t,0),El(t,gt,ve,!1)),Wa(t,l),((St&2)===0||t!==Tt)&&(t===Tt&&((St&2)===0&&(la|=l),Ut===4&&El(t,gt,ve,!1)),Ye(t))}function Br(t,e,l){if((St&6)!==0)throw Error(o(327));var a=!l&&(e&127)===0&&(e&t.expiredLanes)===0||$a(t,e),n=a?Ch(t,e):nc(t,e,!0),u=a;do{if(n===0){Ra&&!a&&El(t,e,0,!1);break}else{if(l=t.current.alternate,u&&!Rh(l)){n=nc(t,e,!1),u=!1;continue}if(n===2){if(u=e,t.errorRecoveryDisabledLanes&u)var i=0;else i=t.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){e=i;t:{var c=t;n=wn;var x=c.current.memoizedState.isDehydrated;if(x&&(La(c,i).flags|=256),i=nc(c,i,!1),i!==2){if(Ws&&!x){c.errorRecoveryDisabledLanes|=u,la|=u,n=4;break t}u=oe,oe=n,u!==null&&(oe===null?oe=u:oe.push.apply(oe,u))}n=i}if(u=!1,n!==2)continue}}if(n===1){La(t,0),El(t,e,0,!0);break}t:{switch(a=t,u=n,u){case 0:case 1:throw Error(o(345));case 4:if((e&4194048)!==e)break;case 6:El(a,e,ve,!Al);break t;case 2:oe=null;break;case 3:case 5:break;default:throw Error(o(329))}if((e&62914560)===e&&(n=Xu+300-Ht(),10<n)){if(El(a,e,ve,!Al),Pn(a,0,!0)!==0)break t;il=e,a.timeoutHandle=dd(Cr.bind(null,a,l,oe,Qu,Ps,e,ve,la,Ba,Al,u,"Throttled",-0,0),n);break t}Cr(a,l,oe,Qu,Ps,e,ve,la,Ba,Al,u,null,-0,0)}}break}while(!0);Ye(t)}function Cr(t,e,l,a,n,u,i,c,x,E,C,H,D,R){if(t.timeoutHandle=-1,H=e.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ve},Tr(e,u,H);var W=(u&62914560)===u?Xu-Ht():(u&4194048)===u?Or-Ht():0;if(W=xm(H,W),W!==null){il=u,t.cancelPendingCommit=W(Zr.bind(null,t,e,u,l,a,n,i,c,x,C,H,null,D,R)),El(t,u,i,!E);return}}Zr(t,e,u,l,a,n,i,c,x)}function Rh(t){for(var e=t;;){var l=e.tag;if((l===0||l===11||l===15)&&e.flags&16384&&(l=e.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],u=n.getSnapshot;n=n.value;try{if(!de(u(),n))return!1}catch{return!1}}if(l=e.child,e.subtreeFlags&16384&&l!==null)l.return=e,e=l;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function El(t,e,l,a){e&=~Is,e&=~la,t.suspendedLanes|=e,t.pingedLanes&=~e,a&&(t.warmLanes|=e),a=t.expirationTimes;for(var n=e;0<n;){var u=31-re(n),i=1<<u;a[u]=-1,n&=~i}l!==0&&Zc(t,l,e)}function Zu(){return(St&6)===0?(On(0),!1):!0}function ac(){if(mt!==null){if(Nt===0)var t=mt.return;else t=mt,Fe=Jl=null,ys(t),Ma=null,mn=0,t=mt;for(;t!==null;)hr(t.alternate,t),t=t.return;mt=null}}function La(t,e){var l=t.timeoutHandle;l!==-1&&(t.timeoutHandle=-1,tm(l)),l=t.cancelPendingCommit,l!==null&&(t.cancelPendingCommit=null,l()),il=0,ac(),Tt=t,mt=l=Je(t.current,null),gt=e,Nt=0,ge=null,Al=!1,Ra=$a(t,e),Ws=!1,Ba=ve=Is=la=zl=Ut=0,oe=wn=null,Ps=!1,(e&8)!==0&&(e|=e&32);var a=t.entangledLanes;if(a!==0)for(t=t.entanglements,a&=e;0<a;){var n=31-re(a),u=1<<n;e|=t[n],a&=~u}return ul=e,ru(),l}function Lr(t,e){ft=null,j.H=_n,e===za||e===yu?(e=Io(),Nt=3):e===ss?(e=Io(),Nt=4):Nt=e===Bs?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ge=e,mt===null&&(Ut=1,Uu(t,je(e,t.current)))}function Hr(){var t=me.current;return t===null?!0:(gt&4194048)===gt?Te===null:(gt&62914560)===gt||(gt&536870912)!==0?t===Te:!1}function qr(){var t=j.H;return j.H=_n,t===null?_n:t}function Yr(){var t=j.A;return j.A=Oh,t}function Vu(){Ut=4,Al||(gt&4194048)!==gt&&me.current!==null||(Ra=!0),(zl&134217727)===0&&(la&134217727)===0||Tt===null||El(Tt,gt,ve,!1)}function nc(t,e,l){var a=St;St|=2;var n=qr(),u=Yr();(Tt!==t||gt!==e)&&(Qu=null,La(t,e)),e=!1;var i=Ut;t:do try{if(Nt!==0&&mt!==null){var c=mt,x=ge;switch(Nt){case 8:ac(),i=6;break t;case 3:case 2:case 9:case 6:me.current===null&&(e=!0);var E=Nt;if(Nt=0,ge=null,Ha(t,c,x,E),l&&Ra){i=0;break t}break;default:E=Nt,Nt=0,ge=null,Ha(t,c,x,E)}}Bh(),i=Ut;break}catch(C){Lr(t,C)}while(!0);return e&&t.shellSuspendCounter++,Fe=Jl=null,St=a,j.H=n,j.A=u,mt===null&&(Tt=null,gt=0,ru()),i}function Bh(){for(;mt!==null;)Xr(mt)}function Ch(t,e){var l=St;St|=2;var a=qr(),n=Yr();Tt!==t||gt!==e?(Qu=null,Gu=Ht()+500,La(t,e)):Ra=$a(t,e);t:do try{if(Nt!==0&&mt!==null){e=mt;var u=ge;e:switch(Nt){case 1:Nt=0,ge=null,Ha(t,e,u,1);break;case 2:case 9:if($o(u)){Nt=0,ge=null,Gr(e);break}e=function(){Nt!==2&&Nt!==9||Tt!==t||(Nt=7),Ye(t)},u.then(e,e);break t;case 3:Nt=7;break t;case 4:Nt=5;break t;case 7:$o(u)?(Nt=0,ge=null,Gr(e)):(Nt=0,ge=null,Ha(t,e,u,7));break;case 5:var i=null;switch(mt.tag){case 26:i=mt.memoizedState;case 5:case 27:var c=mt;if(i?Md(i):c.stateNode.complete){Nt=0,ge=null;var x=c.sibling;if(x!==null)mt=x;else{var E=c.return;E!==null?(mt=E,Ku(E)):mt=null}break e}}Nt=0,ge=null,Ha(t,e,u,5);break;case 6:Nt=0,ge=null,Ha(t,e,u,6);break;case 8:ac(),Ut=6;break t;default:throw Error(o(462))}}Lh();break}catch(C){Lr(t,C)}while(!0);return Fe=Jl=null,j.H=a,j.A=n,St=l,mt!==null?0:(Tt=null,gt=0,ru(),Ut)}function Lh(){for(;mt!==null&&!Be();)Xr(mt)}function Xr(t){var e=rr(t.alternate,t,ul);t.memoizedProps=t.pendingProps,e===null?Ku(t):mt=e}function Gr(t){var e=t,l=e.alternate;switch(e.tag){case 15:case 0:e=ur(l,e,e.pendingProps,e.type,void 0,gt);break;case 11:e=ur(l,e,e.pendingProps,e.type.render,e.ref,gt);break;case 5:ys(e);default:hr(l,e),e=mt=qo(e,ul),e=rr(l,e,ul)}t.memoizedProps=t.pendingProps,e===null?Ku(t):mt=e}function Ha(t,e,l,a){Fe=Jl=null,ys(e),Ma=null,mn=0;var n=e.return;try{if(Ah(t,n,e,l,gt)){Ut=1,Uu(t,je(l,t.current)),mt=null;return}}catch(u){if(n!==null)throw mt=n,u;Ut=1,Uu(t,je(l,t.current)),mt=null;return}e.flags&32768?(xt||a===1?t=!0:Ra||(gt&536870912)!==0?t=!1:(Al=t=!0,(a===2||a===9||a===3||a===6)&&(a=me.current,a!==null&&a.tag===13&&(a.flags|=16384))),Qr(e,t)):Ku(e)}function Ku(t){var e=t;do{if((e.flags&32768)!==0){Qr(e,Al);return}t=e.return;var l=Th(e.alternate,e,ul);if(l!==null){mt=l;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);Ut===0&&(Ut=5)}function Qr(t,e){do{var l=Eh(t.alternate,t);if(l!==null){l.flags&=32767,mt=l;return}if(l=t.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!e&&(t=t.sibling,t!==null)){mt=t;return}mt=t=l}while(t!==null);Ut=6,mt=null}function Zr(t,e,l,a,n,u,i,c,x){t.cancelPendingCommit=null;do Ju();while(Zt!==0);if((St&6)!==0)throw Error(o(327));if(e!==null){if(e===t.current)throw Error(o(177));if(u=e.lanes|e.childLanes,u|=Ki,g0(t,l,u,i,c,x),t===Tt&&(mt=Tt=null,gt=0),Ca=e,Tl=t,il=l,tc=u,ec=n,Ur=a,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Xh(rl,function(){return Fr(),null})):(t.callbackNode=null,t.callbackPriority=0),a=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||a){a=j.T,j.T=null,n=M.p,M.p=2,i=St,St|=4;try{wh(t,e,l)}finally{St=i,M.p=n,j.T=a}}Zt=1,Vr(),Kr(),Jr()}}function Vr(){if(Zt===1){Zt=0;var t=Tl,e=Ca,l=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||l){l=j.T,j.T=null;var a=M.p;M.p=2;var n=St;St|=4;try{Ar(e,t);var u=gc,i=wo(t.containerInfo),c=u.focusedElem,x=u.selectionRange;if(i!==c&&c&&c.ownerDocument&&Eo(c.ownerDocument.documentElement,c)){if(x!==null&&Xi(c)){var E=x.start,C=x.end;if(C===void 0&&(C=E),"selectionStart"in c)c.selectionStart=E,c.selectionEnd=Math.min(C,c.value.length);else{var H=c.ownerDocument||document,D=H&&H.defaultView||window;if(D.getSelection){var R=D.getSelection(),W=c.textContent.length,nt=Math.min(x.start,W),Mt=x.end===void 0?nt:Math.min(x.end,W);!R.extend&&nt>Mt&&(i=Mt,Mt=nt,nt=i);var z=To(c,nt),_=To(c,Mt);if(z&&_&&(R.rangeCount!==1||R.anchorNode!==z.node||R.anchorOffset!==z.offset||R.focusNode!==_.node||R.focusOffset!==_.offset)){var T=H.createRange();T.setStart(z.node,z.offset),R.removeAllRanges(),nt>Mt?(R.addRange(T),R.extend(_.node,_.offset)):(T.setEnd(_.node,_.offset),R.addRange(T))}}}}for(H=[],R=c;R=R.parentNode;)R.nodeType===1&&H.push({element:R,left:R.scrollLeft,top:R.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<H.length;c++){var L=H[c];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}ui=!!pc,gc=pc=null}finally{St=n,M.p=a,j.T=l}}t.current=e,Zt=2}}function Kr(){if(Zt===2){Zt=0;var t=Tl,e=Ca,l=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||l){l=j.T,j.T=null;var a=M.p;M.p=2;var n=St;St|=4;try{br(t,e.alternate,e)}finally{St=n,M.p=a,j.T=l}}Zt=3}}function Jr(){if(Zt===4||Zt===3){Zt=0,Ce();var t=Tl,e=Ca,l=il,a=Ur;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?Zt=5:(Zt=0,Ca=Tl=null,kr(t,t.pendingLanes));var n=t.pendingLanes;if(n===0&&(Ml=null),_i(l),e=e.stateNode,te&&typeof te.onCommitFiberRoot=="function")try{te.onCommitFiberRoot(Qe,e,void 0,(e.current.flags&128)===128)}catch{}if(a!==null){e=j.T,n=M.p,M.p=2,j.T=null;try{for(var u=t.onRecoverableError,i=0;i<a.length;i++){var c=a[i];u(c.value,{componentStack:c.stack})}}finally{j.T=e,M.p=n}}(il&3)!==0&&Ju(),Ye(t),n=t.pendingLanes,(l&261930)!==0&&(n&42)!==0?t===lc?Dn++:(Dn=0,lc=t):Dn=0,On(0)}}function kr(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,dn(e)))}function Ju(){return Vr(),Kr(),Jr(),Fr()}function Fr(){if(Zt!==5)return!1;var t=Tl,e=tc;tc=0;var l=_i(il),a=j.T,n=M.p;try{M.p=32>l?32:l,j.T=null,l=ec,ec=null;var u=Tl,i=il;if(Zt=0,Ca=Tl=null,il=0,(St&6)!==0)throw Error(o(331));var c=St;if(St|=4,wr(u.current),Mr(u,u.current,i,l),St=c,On(0,!1),te&&typeof te.onPostCommitFiberRoot=="function")try{te.onPostCommitFiberRoot(Qe,u)}catch{}return!0}finally{M.p=n,j.T=a,kr(t,e)}}function $r(t,e,l){e=je(l,e),e=Rs(t.stateNode,e,2),t=Sl(t,e,2),t!==null&&(Wa(t,2),Ye(t))}function jt(t,e,l){if(t.tag===3)$r(t,t,l);else for(;e!==null;){if(e.tag===3){$r(e,t,l);break}else if(e.tag===1){var a=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ml===null||!Ml.has(a))){t=je(l,t),l=Wf(2),a=Sl(e,l,2),a!==null&&(If(l,a,e,t),Wa(a,2),Ye(a));break}}e=e.return}}function uc(t,e,l){var a=t.pingCache;if(a===null){a=t.pingCache=new Uh;var n=new Set;a.set(e,n)}else n=a.get(e),n===void 0&&(n=new Set,a.set(e,n));n.has(l)||(Ws=!0,n.add(l),t=Hh.bind(null,t,e,l),e.then(t,t))}function Hh(t,e,l){var a=t.pingCache;a!==null&&a.delete(e),t.pingedLanes|=t.suspendedLanes&l,t.warmLanes&=~l,Tt===t&&(gt&l)===l&&(Ut===4||Ut===3&&(gt&62914560)===gt&&300>Ht()-Xu?(St&2)===0&&La(t,0):Is|=l,Ba===gt&&(Ba=0)),Ye(t)}function Wr(t,e){e===0&&(e=Qc()),t=Zl(t,e),t!==null&&(Wa(t,e),Ye(t))}function qh(t){var e=t.memoizedState,l=0;e!==null&&(l=e.retryLane),Wr(t,l)}function Yh(t,e){var l=0;switch(t.tag){case 31:case 13:var a=t.stateNode,n=t.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=t.stateNode;break;case 22:a=t.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(e),Wr(t,l)}function Xh(t,e){return ht(t,e)}var ku=null,qa=null,ic=!1,Fu=!1,sc=!1,wl=0;function Ye(t){t!==qa&&t.next===null&&(qa===null?ku=qa=t:qa=qa.next=t),Fu=!0,ic||(ic=!0,Qh())}function On(t,e){if(!sc&&Fu){sc=!0;do for(var l=!1,a=ku;a!==null;){if(t!==0){var n=a.pendingLanes;if(n===0)var u=0;else{var i=a.suspendedLanes,c=a.pingedLanes;u=(1<<31-re(42|t)+1)-1,u&=n&~(i&~c),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(l=!0,ed(a,u))}else u=gt,u=Pn(a,a===Tt?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(u&3)===0||$a(a,u)||(l=!0,ed(a,u));a=a.next}while(l);sc=!1}}function Gh(){Ir()}function Ir(){Fu=ic=!1;var t=0;wl!==0&&Ph()&&(t=wl);for(var e=Ht(),l=null,a=ku;a!==null;){var n=a.next,u=Pr(a,e);u===0?(a.next=null,l===null?ku=n:l.next=n,n===null&&(qa=l)):(l=a,(t!==0||(u&3)!==0)&&(Fu=!0)),a=n}Zt!==0&&Zt!==5||On(t),wl!==0&&(wl=0)}function Pr(t,e){for(var l=t.suspendedLanes,a=t.pingedLanes,n=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var i=31-re(u),c=1<<i,x=n[i];x===-1?((c&l)===0||(c&a)!==0)&&(n[i]=p0(c,e)):x<=e&&(t.expiredLanes|=c),u&=~c}if(e=Tt,l=gt,l=Pn(t,t===e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a=t.callbackNode,l===0||t===e&&(Nt===2||Nt===9)||t.cancelPendingCommit!==null)return a!==null&&a!==null&&Lt(a),t.callbackNode=null,t.callbackPriority=0;if((l&3)===0||$a(t,l)){if(e=l&-l,e===t.callbackPriority)return e;switch(a!==null&&Lt(a),_i(l)){case 2:case 8:l=ua;break;case 32:l=rl;break;case 268435456:l=Rt;break;default:l=rl}return a=td.bind(null,t),l=ht(l,a),t.callbackPriority=e,t.callbackNode=l,e}return a!==null&&a!==null&&Lt(a),t.callbackPriority=2,t.callbackNode=null,2}function td(t,e){if(Zt!==0&&Zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var l=t.callbackNode;if(Ju()&&t.callbackNode!==l)return null;var a=gt;return a=Pn(t,t===Tt?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),a===0?null:(Br(t,a,e),Pr(t,Ht()),t.callbackNode!=null&&t.callbackNode===l?td.bind(null,t):null)}function ed(t,e){if(Ju())return null;Br(t,e,!0)}function Qh(){em(function(){(St&6)!==0?ht(fl,Gh):Ir()})}function cc(){if(wl===0){var t=ja;t===0&&(t=$n,$n<<=1,($n&261888)===0&&($n=256)),wl=t}return wl}function ld(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:au(""+t)}function ad(t,e){var l=e.ownerDocument.createElement("input");return l.name=e.name,l.value=e.value,t.id&&l.setAttribute("form",t.id),e.parentNode.insertBefore(l,e),t=new FormData(t),l.parentNode.removeChild(l),t}function Zh(t,e,l,a,n){if(e==="submit"&&l&&l.stateNode===n){var u=ld((n[ne]||null).action),i=a.submitter;i&&(e=(e=i[ne]||null)?ld(e.formAction):i.getAttribute("formAction"),e!==null&&(u=e,i=null));var c=new su("action","action",null,a,n);t.push({event:c,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(wl!==0){var x=i?ad(n,i):new FormData(n);Ts(l,{pending:!0,data:x,method:n.method,action:u},null,x)}}else typeof u=="function"&&(c.preventDefault(),x=i?ad(n,i):new FormData(n),Ts(l,{pending:!0,data:x,method:n.method,action:u},u,x))},currentTarget:n}]})}}for(var oc=0;oc<Vi.length;oc++){var fc=Vi[oc],Vh=fc.toLowerCase(),Kh=fc[0].toUpperCase()+fc.slice(1);De(Vh,"on"+Kh)}De(Uo,"onAnimationEnd"),De(Ro,"onAnimationIteration"),De(Bo,"onAnimationStart"),De("dblclick","onDoubleClick"),De("focusin","onFocus"),De("focusout","onBlur"),De(ch,"onTransitionRun"),De(oh,"onTransitionStart"),De(fh,"onTransitionCancel"),De(Co,"onTransitionEnd"),fa("onMouseEnter",["mouseout","mouseover"]),fa("onMouseLeave",["mouseout","mouseover"]),fa("onPointerEnter",["pointerout","pointerover"]),fa("onPointerLeave",["pointerout","pointerover"]),Yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Un="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Un));function nd(t,e){e=(e&4)!==0;for(var l=0;l<t.length;l++){var a=t[l],n=a.event;a=a.listeners;t:{var u=void 0;if(e)for(var i=a.length-1;0<=i;i--){var c=a[i],x=c.instance,E=c.currentTarget;if(c=c.listener,x!==u&&n.isPropagationStopped())break t;u=c,n.currentTarget=E;try{u(n)}catch(C){fu(C)}n.currentTarget=null,u=x}else for(i=0;i<a.length;i++){if(c=a[i],x=c.instance,E=c.currentTarget,c=c.listener,x!==u&&n.isPropagationStopped())break t;u=c,n.currentTarget=E;try{u(n)}catch(C){fu(C)}n.currentTarget=null,u=x}}}}function pt(t,e){var l=e[Ni];l===void 0&&(l=e[Ni]=new Set);var a=t+"__bubble";l.has(a)||(ud(e,t,2,!1),l.add(a))}function rc(t,e,l){var a=0;e&&(a|=4),ud(l,t,a,e)}var $u="_reactListening"+Math.random().toString(36).slice(2);function dc(t){if(!t[$u]){t[$u]=!0,$c.forEach(function(l){l!=="selectionchange"&&(Jh.has(l)||rc(l,!1,t),rc(l,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$u]||(e[$u]=!0,rc("selectionchange",!1,e))}}function ud(t,e,l,a){switch(Rd(e)){case 2:var n=Sm;break;case 8:n=_m;break;default:n=Mc}l=n.bind(null,e,l,t),n=void 0,!Oi||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),a?n!==void 0?t.addEventListener(e,l,{capture:!0,passive:n}):t.addEventListener(e,l,!0):n!==void 0?t.addEventListener(e,l,{passive:n}):t.addEventListener(e,l,!1)}function hc(t,e,l,a,n){var u=a;if((e&1)===0&&(e&2)===0&&a!==null)t:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var c=a.stateNode.containerInfo;if(c===n)break;if(i===4)for(i=a.return;i!==null;){var x=i.tag;if((x===3||x===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;c!==null;){if(i=sa(c),i===null)return;if(x=i.tag,x===5||x===6||x===26||x===27){a=u=i;continue t}c=c.parentNode}}a=a.return}co(function(){var E=u,C=wi(l),H=[];t:{var D=Lo.get(t);if(D!==void 0){var R=su,W=t;switch(t){case"keypress":if(uu(l)===0)break t;case"keydown":case"keyup":R=Y0;break;case"focusin":W="focus",R=Ci;break;case"focusout":W="blur",R=Ci;break;case"beforeblur":case"afterblur":R=Ci;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=T0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=Q0;break;case Uo:case Ro:case Bo:R=D0;break;case Co:R=V0;break;case"scroll":case"scrollend":R=z0;break;case"wheel":R=J0;break;case"copy":case"cut":case"paste":R=U0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=mo;break;case"toggle":case"beforetoggle":R=F0}var nt=(e&4)!==0,Mt=!nt&&(t==="scroll"||t==="scrollend"),z=nt?D!==null?D+"Capture":null:D;nt=[];for(var _=E,T;_!==null;){var L=_;if(T=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||T===null||z===null||(L=tn(_,z),L!=null&&nt.push(Rn(_,L,T))),Mt)break;_=_.return}0<nt.length&&(D=new R(D,W,null,l,C),H.push({event:D,listeners:nt}))}}if((e&7)===0){t:{if(D=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",D&&l!==Ei&&(W=l.relatedTarget||l.fromElement)&&(sa(W)||W[ia]))break t;if((R||D)&&(D=C.window===C?C:(D=C.ownerDocument)?D.defaultView||D.parentWindow:window,R?(W=l.relatedTarget||l.toElement,R=E,W=W?sa(W):null,W!==null&&(Mt=y(W),nt=W.tag,W!==Mt||nt!==5&&nt!==27&&nt!==6)&&(W=null)):(R=null,W=E),R!==W)){if(nt=ro,L="onMouseLeave",z="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(nt=mo,L="onPointerLeave",z="onPointerEnter",_="pointer"),Mt=R==null?D:Pa(R),T=W==null?D:Pa(W),D=new nt(L,_+"leave",R,l,C),D.target=Mt,D.relatedTarget=T,L=null,sa(C)===E&&(nt=new nt(z,_+"enter",W,l,C),nt.target=T,nt.relatedTarget=Mt,L=nt),Mt=L,R&&W)e:{for(nt=kh,z=R,_=W,T=0,L=z;L;L=nt(L))T++;L=0;for(var et=_;et;et=nt(et))L++;for(;0<T-L;)z=nt(z),T--;for(;0<L-T;)_=nt(_),L--;for(;T--;){if(z===_||_!==null&&z===_.alternate){nt=z;break e}z=nt(z),_=nt(_)}nt=null}else nt=null;R!==null&&id(H,D,R,nt,!1),W!==null&&Mt!==null&&id(H,Mt,W,nt,!0)}}t:{if(D=E?Pa(E):window,R=D.nodeName&&D.nodeName.toLowerCase(),R==="select"||R==="input"&&D.type==="file")var yt=_o;else if(bo(D))if(No)yt=uh;else{yt=ah;var P=lh}else R=D.nodeName,!R||R.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?E&&Ti(E.elementType)&&(yt=_o):yt=nh;if(yt&&(yt=yt(t,E))){So(H,yt,l,C);break t}P&&P(t,D,E),t==="focusout"&&E&&D.type==="number"&&E.memoizedProps.value!=null&&Mi(D,"number",D.value)}switch(P=E?Pa(E):window,t){case"focusin":(bo(P)||P.contentEditable==="true")&&(ga=P,Gi=E,on=null);break;case"focusout":on=Gi=ga=null;break;case"mousedown":Qi=!0;break;case"contextmenu":case"mouseup":case"dragend":Qi=!1,Do(H,l,C);break;case"selectionchange":if(sh)break;case"keydown":case"keyup":Do(H,l,C)}var dt;if(Hi)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else pa?xo(t,l)&&(vt="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(vt="onCompositionStart");vt&&(po&&l.locale!=="ko"&&(pa||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&pa&&(dt=oo()):(ml=C,Ui="value"in ml?ml.value:ml.textContent,pa=!0)),P=Wu(E,vt),0<P.length&&(vt=new ho(vt,t,null,l,C),H.push({event:vt,listeners:P}),dt?vt.data=dt:(dt=yo(l),dt!==null&&(vt.data=dt)))),(dt=W0?I0(t,l):P0(t,l))&&(vt=Wu(E,"onBeforeInput"),0<vt.length&&(P=new ho("onBeforeInput","beforeinput",null,l,C),H.push({event:P,listeners:vt}),P.data=dt)),Zh(H,t,E,l,C)}nd(H,e)})}function Rn(t,e,l){return{instance:t,listener:e,currentTarget:l}}function Wu(t,e){for(var l=e+"Capture",a=[];t!==null;){var n=t,u=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||u===null||(n=tn(t,l),n!=null&&a.unshift(Rn(t,n,u)),n=tn(t,e),n!=null&&a.push(Rn(t,n,u))),t.tag===3)return a;t=t.return}return[]}function kh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function id(t,e,l,a,n){for(var u=e._reactName,i=[];l!==null&&l!==a;){var c=l,x=c.alternate,E=c.stateNode;if(c=c.tag,x!==null&&x===a)break;c!==5&&c!==26&&c!==27||E===null||(x=E,n?(E=tn(l,u),E!=null&&i.unshift(Rn(l,E,x))):n||(E=tn(l,u),E!=null&&i.push(Rn(l,E,x)))),l=l.return}i.length!==0&&t.push({event:e,listeners:i})}var Fh=/\r\n?/g,$h=/\u0000|\uFFFD/g;function sd(t){return(typeof t=="string"?t:""+t).replace(Fh,`
`).replace($h,"")}function cd(t,e){return e=sd(e),sd(t)===e}function zt(t,e,l,a,n,u){switch(l){case"children":typeof a=="string"?e==="body"||e==="textarea"&&a===""||da(t,a):(typeof a=="number"||typeof a=="bigint")&&e!=="body"&&da(t,""+a);break;case"className":eu(t,"class",a);break;case"tabIndex":eu(t,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":eu(t,l,a);break;case"style":io(t,a,u);break;case"data":if(e!=="object"){eu(t,"data",a);break}case"src":case"href":if(a===""&&(e!=="a"||l!=="href")){t.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=au(""+a),t.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){t.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(l==="formAction"?(e!=="input"&&zt(t,e,"name",n.name,n,null),zt(t,e,"formEncType",n.formEncType,n,null),zt(t,e,"formMethod",n.formMethod,n,null),zt(t,e,"formTarget",n.formTarget,n,null)):(zt(t,e,"encType",n.encType,n,null),zt(t,e,"method",n.method,n,null),zt(t,e,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){t.removeAttribute(l);break}a=au(""+a),t.setAttribute(l,a);break;case"onClick":a!=null&&(t.onclick=Ve);break;case"onScroll":a!=null&&pt("scroll",t);break;case"onScrollEnd":a!=null&&pt("scrollend",t);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"multiple":t.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":t.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){t.removeAttribute("xlink:href");break}l=au(""+a),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""+a):t.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,""):t.removeAttribute(l);break;case"capture":case"download":a===!0?t.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?t.setAttribute(l,a):t.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?t.setAttribute(l,a):t.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?t.removeAttribute(l):t.setAttribute(l,a);break;case"popover":pt("beforetoggle",t),pt("toggle",t),tu(t,"popover",a);break;case"xlinkActuate":Ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ze(t,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ze(t,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ze(t,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ze(t,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":tu(t,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=j0.get(l)||l,tu(t,l,a))}}function mc(t,e,l,a,n,u){switch(l){case"style":io(t,a,u);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(o(60));t.innerHTML=l}}break;case"children":typeof a=="string"?da(t,a):(typeof a=="number"||typeof a=="bigint")&&da(t,""+a);break;case"onScroll":a!=null&&pt("scroll",t);break;case"onScrollEnd":a!=null&&pt("scrollend",t);break;case"onClick":a!=null&&(t.onclick=Ve);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wc.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),e=l.slice(2,n?l.length-7:void 0),u=t[ne]||null,u=u!=null?u[l]:null,typeof u=="function"&&t.removeEventListener(e,u,n),typeof a=="function")){typeof u!="function"&&u!==null&&(l in t?t[l]=null:t.hasAttribute(l)&&t.removeAttribute(l)),t.addEventListener(e,a,n);break t}l in t?t[l]=a:a===!0?t.setAttribute(l,""):tu(t,l,a)}}}function It(t,e,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",t),pt("load",t);var a=!1,n=!1,u;for(u in l)if(l.hasOwnProperty(u)){var i=l[u];if(i!=null)switch(u){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:zt(t,e,u,i,l,null)}}n&&zt(t,e,"srcSet",l.srcSet,l,null),a&&zt(t,e,"src",l.src,l,null);return;case"input":pt("invalid",t);var c=u=i=n=null,x=null,E=null;for(a in l)if(l.hasOwnProperty(a)){var C=l[a];if(C!=null)switch(a){case"name":n=C;break;case"type":i=C;break;case"checked":x=C;break;case"defaultChecked":E=C;break;case"value":u=C;break;case"defaultValue":c=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(137,e));break;default:zt(t,e,a,C,l,null)}}lo(t,u,c,x,E,i,n,!1);return;case"select":pt("invalid",t),a=i=u=null;for(n in l)if(l.hasOwnProperty(n)&&(c=l[n],c!=null))switch(n){case"value":u=c;break;case"defaultValue":i=c;break;case"multiple":a=c;default:zt(t,e,n,c,l,null)}e=u,l=i,t.multiple=!!a,e!=null?ra(t,!!a,e,!1):l!=null&&ra(t,!!a,l,!0);return;case"textarea":pt("invalid",t),u=n=a=null;for(i in l)if(l.hasOwnProperty(i)&&(c=l[i],c!=null))switch(i){case"value":a=c;break;case"defaultValue":n=c;break;case"children":u=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:zt(t,e,i,c,l,null)}no(t,a,n,u);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(a=l[x],a!=null))switch(x){case"selected":t.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:zt(t,e,x,a,l,null)}return;case"dialog":pt("beforetoggle",t),pt("toggle",t),pt("cancel",t),pt("close",t);break;case"iframe":case"object":pt("load",t);break;case"video":case"audio":for(a=0;a<Un.length;a++)pt(Un[a],t);break;case"image":pt("error",t),pt("load",t);break;case"details":pt("toggle",t);break;case"embed":case"source":case"link":pt("error",t),pt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(E in l)if(l.hasOwnProperty(E)&&(a=l[E],a!=null))switch(E){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,e));default:zt(t,e,E,a,l,null)}return;default:if(Ti(e)){for(C in l)l.hasOwnProperty(C)&&(a=l[C],a!==void 0&&mc(t,e,C,a,l,void 0));return}}for(c in l)l.hasOwnProperty(c)&&(a=l[c],a!=null&&zt(t,e,c,a,l,null))}function Wh(t,e,l,a){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,u=null,i=null,c=null,x=null,E=null,C=null;for(R in l){var H=l[R];if(l.hasOwnProperty(R)&&H!=null)switch(R){case"checked":break;case"value":break;case"defaultValue":x=H;default:a.hasOwnProperty(R)||zt(t,e,R,null,a,H)}}for(var D in a){var R=a[D];if(H=l[D],a.hasOwnProperty(D)&&(R!=null||H!=null))switch(D){case"type":u=R;break;case"name":n=R;break;case"checked":E=R;break;case"defaultChecked":C=R;break;case"value":i=R;break;case"defaultValue":c=R;break;case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(137,e));break;default:R!==H&&zt(t,e,D,R,a,H)}}zi(t,i,c,x,E,C,u,n);return;case"select":R=i=c=D=null;for(u in l)if(x=l[u],l.hasOwnProperty(u)&&x!=null)switch(u){case"value":break;case"multiple":R=x;default:a.hasOwnProperty(u)||zt(t,e,u,null,a,x)}for(n in a)if(u=a[n],x=l[n],a.hasOwnProperty(n)&&(u!=null||x!=null))switch(n){case"value":D=u;break;case"defaultValue":c=u;break;case"multiple":i=u;default:u!==x&&zt(t,e,n,u,a,x)}e=c,l=i,a=R,D!=null?ra(t,!!l,D,!1):!!a!=!!l&&(e!=null?ra(t,!!l,e,!0):ra(t,!!l,l?[]:"",!1));return;case"textarea":R=D=null;for(c in l)if(n=l[c],l.hasOwnProperty(c)&&n!=null&&!a.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:zt(t,e,c,null,a,n)}for(i in a)if(n=a[i],u=l[i],a.hasOwnProperty(i)&&(n!=null||u!=null))switch(i){case"value":D=n;break;case"defaultValue":R=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==u&&zt(t,e,i,n,a,u)}ao(t,D,R);return;case"option":for(var W in l)if(D=l[W],l.hasOwnProperty(W)&&D!=null&&!a.hasOwnProperty(W))switch(W){case"selected":t.selected=!1;break;default:zt(t,e,W,null,a,D)}for(x in a)if(D=a[x],R=l[x],a.hasOwnProperty(x)&&D!==R&&(D!=null||R!=null))switch(x){case"selected":t.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:zt(t,e,x,D,a,R)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in l)D=l[nt],l.hasOwnProperty(nt)&&D!=null&&!a.hasOwnProperty(nt)&&zt(t,e,nt,null,a,D);for(E in a)if(D=a[E],R=l[E],a.hasOwnProperty(E)&&D!==R&&(D!=null||R!=null))switch(E){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(o(137,e));break;default:zt(t,e,E,D,a,R)}return;default:if(Ti(e)){for(var Mt in l)D=l[Mt],l.hasOwnProperty(Mt)&&D!==void 0&&!a.hasOwnProperty(Mt)&&mc(t,e,Mt,void 0,a,D);for(C in a)D=a[C],R=l[C],!a.hasOwnProperty(C)||D===R||D===void 0&&R===void 0||mc(t,e,C,D,a,R);return}}for(var z in l)D=l[z],l.hasOwnProperty(z)&&D!=null&&!a.hasOwnProperty(z)&&zt(t,e,z,null,a,D);for(H in a)D=a[H],R=l[H],!a.hasOwnProperty(H)||D===R||D==null&&R==null||zt(t,e,H,D,a,R)}function od(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ih(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],u=n.transferSize,i=n.initiatorType,c=n.duration;if(u&&c&&od(i)){for(i=0,c=n.responseEnd,a+=1;a<l.length;a++){var x=l[a],E=x.startTime;if(E>c)break;var C=x.transferSize,H=x.initiatorType;C&&od(H)&&(x=x.responseEnd,i+=C*(x<c?1:(c-E)/(x-E)))}if(--a,e+=8*(u+i)/(n.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pc=null,gc=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function fd(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rd(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function vc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xc=null;function Ph(){var t=window.event;return t&&t.type==="popstate"?t===xc?!1:(xc=t,!0):(xc=null,!1)}var dd=typeof setTimeout=="function"?setTimeout:void 0,tm=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,em=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(t){return hd.resolve(null).then(t).catch(lm)}:dd;function lm(t){setTimeout(function(){throw t})}function Dl(t){return t==="head"}function md(t,e){var l=e,a=0;do{var n=l.nextSibling;if(t.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){t.removeChild(n),Qa(e);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Bn(t.ownerDocument.documentElement);else if(l==="head"){l=t.ownerDocument.head,Bn(l);for(var u=l.firstChild;u;){var i=u.nextSibling,c=u.nodeName;u[Ia]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&u.rel.toLowerCase()==="stylesheet"||l.removeChild(u),u=i}}else l==="body"&&Bn(t.ownerDocument.body);l=n}while(l);Qa(e)}function pd(t,e){var l=t;t=0;do{var a=l.nextSibling;if(l.nodeType===1?e?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(e?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(t===0)break;t--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||t++;l=a}while(l)}function yc(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var l=e;switch(e=e.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":yc(l),ji(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}t.removeChild(l)}}function am(t,e,l,a){for(;t.nodeType===1;){var n=l;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!a&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(a){if(!t[Ia])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(u=t.getAttribute("rel"),u==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(u!==n.rel||t.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||t.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||t.getAttribute("title")!==(n.title==null?null:n.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(u=t.getAttribute("src"),(u!==(n.src==null?null:n.src)||t.getAttribute("type")!==(n.type==null?null:n.type)||t.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&u&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var u=n.name==null?null:""+n.name;if(n.type==="hidden"&&t.getAttribute("name")===u)return t}else return t;if(t=Ee(t.nextSibling),t===null)break}return null}function nm(t,e,l){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Ee(t.nextSibling),t===null))return null;return t}function gd(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Ee(t.nextSibling),t===null))return null;return t}function bc(t){return t.data==="$?"||t.data==="$~"}function Sc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function um(t,e){var l=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||l.readyState!=="loading")e();else{var a=function(){e(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),t._reactRetry=a}}function Ee(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var _c=null;function vd(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"||l==="/&"){if(e===0)return Ee(t.nextSibling);e--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||e++}t=t.nextSibling}return null}function xd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(e===0)return t;e--}else l!=="/$"&&l!=="/&"||e++}t=t.previousSibling}return null}function yd(t,e,l){switch(e=Iu(l),t){case"html":if(t=e.documentElement,!t)throw Error(o(452));return t;case"head":if(t=e.head,!t)throw Error(o(453));return t;case"body":if(t=e.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Bn(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ji(t)}var we=new Map,bd=new Set;function Pu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sl=M.d;M.d={f:im,r:sm,D:cm,C:om,L:fm,m:rm,X:hm,S:dm,M:mm};function im(){var t=sl.f(),e=Zu();return t||e}function sm(t){var e=ca(t);e!==null&&e.tag===5&&e.type==="form"?Lf(e):sl.r(t)}var Ya=typeof document>"u"?null:document;function Sd(t,e,l){var a=Ya;if(a&&typeof e=="string"&&e){var n=_e(e);n='link[rel="'+t+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),bd.has(n)||(bd.add(n),t={rel:t,crossOrigin:l,href:e},a.querySelector(n)===null&&(e=a.createElement("link"),It(e,"link",t),Vt(e),a.head.appendChild(e)))}}function cm(t){sl.D(t),Sd("dns-prefetch",t,null)}function om(t,e){sl.C(t,e),Sd("preconnect",t,e)}function fm(t,e,l){sl.L(t,e,l);var a=Ya;if(a&&t&&e){var n='link[rel="preload"][as="'+_e(e)+'"]';e==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+_e(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+_e(l.imageSizes)+'"]')):n+='[href="'+_e(t)+'"]';var u=n;switch(e){case"style":u=Xa(t);break;case"script":u=Ga(t)}we.has(u)||(t=w({rel:"preload",href:e==="image"&&l&&l.imageSrcSet?void 0:t,as:e},l),we.set(u,t),a.querySelector(n)!==null||e==="style"&&a.querySelector(Cn(u))||e==="script"&&a.querySelector(Ln(u))||(e=a.createElement("link"),It(e,"link",t),Vt(e),a.head.appendChild(e)))}}function rm(t,e){sl.m(t,e);var l=Ya;if(l&&t){var a=e&&typeof e.as=="string"?e.as:"script",n='link[rel="modulepreload"][as="'+_e(a)+'"][href="'+_e(t)+'"]',u=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Ga(t)}if(!we.has(u)&&(t=w({rel:"modulepreload",href:t},e),we.set(u,t),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ln(u)))return}a=l.createElement("link"),It(a,"link",t),Vt(a),l.head.appendChild(a)}}}function dm(t,e,l){sl.S(t,e,l);var a=Ya;if(a&&t){var n=oa(a).hoistableStyles,u=Xa(t);e=e||"default";var i=n.get(u);if(!i){var c={loading:0,preload:null};if(i=a.querySelector(Cn(u)))c.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":e},l),(l=we.get(u))&&Nc(t,l);var x=i=a.createElement("link");Vt(x),It(x,"link",t),x._p=new Promise(function(E,C){x.onload=E,x.onerror=C}),x.addEventListener("load",function(){c.loading|=1}),x.addEventListener("error",function(){c.loading|=2}),c.loading|=4,ti(i,e,a)}i={type:"stylesheet",instance:i,count:1,state:c},n.set(u,i)}}}function hm(t,e){sl.X(t,e);var l=Ya;if(l&&t){var a=oa(l).hoistableScripts,n=Ga(t),u=a.get(n);u||(u=l.querySelector(Ln(n)),u||(t=w({src:t,async:!0},e),(e=we.get(n))&&jc(t,e),u=l.createElement("script"),Vt(u),It(u,"link",t),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(n,u))}}function mm(t,e){sl.M(t,e);var l=Ya;if(l&&t){var a=oa(l).hoistableScripts,n=Ga(t),u=a.get(n);u||(u=l.querySelector(Ln(n)),u||(t=w({src:t,async:!0,type:"module"},e),(e=we.get(n))&&jc(t,e),u=l.createElement("script"),Vt(u),It(u,"link",t),l.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},a.set(n,u))}}function _d(t,e,l,a){var n=(n=le.current)?Pu(n):null;if(!n)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(e=Xa(l.href),l=oa(n).hoistableStyles,a=l.get(e),a||(a={type:"style",instance:null,count:0,state:null},l.set(e,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){t=Xa(l.href);var u=oa(n).hoistableStyles,i=u.get(t);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,i),(u=n.querySelector(Cn(t)))&&!u._p&&(i.instance=u,i.state.loading=5),we.has(t)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},we.set(t,l),u||pm(n,t,l,i.state))),e&&a===null)throw Error(o(528,""));return i}if(e&&a!==null)throw Error(o(529,""));return null;case"script":return e=l.async,l=l.src,typeof l=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ga(l),l=oa(n).hoistableScripts,a=l.get(e),a||(a={type:"script",instance:null,count:0,state:null},l.set(e,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Xa(t){return'href="'+_e(t)+'"'}function Cn(t){return'link[rel="stylesheet"]['+t+"]"}function Nd(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function pm(t,e,l,a){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?a.loading=1:(e=t.createElement("link"),a.preload=e,e.addEventListener("load",function(){return a.loading|=1}),e.addEventListener("error",function(){return a.loading|=2}),It(e,"link",l),Vt(e),t.head.appendChild(e))}function Ga(t){return'[src="'+_e(t)+'"]'}function Ln(t){return"script[async]"+t}function jd(t,e,l){if(e.count++,e.instance===null)switch(e.type){case"style":var a=t.querySelector('style[data-href~="'+_e(l.href)+'"]');if(a)return e.instance=a,Vt(a),a;var n=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(t.ownerDocument||t).createElement("style"),Vt(a),It(a,"style",n),ti(a,l.precedence,t),e.instance=a;case"stylesheet":n=Xa(l.href);var u=t.querySelector(Cn(n));if(u)return e.state.loading|=4,e.instance=u,Vt(u),u;a=Nd(l),(n=we.get(n))&&Nc(a,n),u=(t.ownerDocument||t).createElement("link"),Vt(u);var i=u;return i._p=new Promise(function(c,x){i.onload=c,i.onerror=x}),It(u,"link",a),e.state.loading|=4,ti(u,l.precedence,t),e.instance=u;case"script":return u=Ga(l.src),(n=t.querySelector(Ln(u)))?(e.instance=n,Vt(n),n):(a=l,(n=we.get(u))&&(a=w({},l),jc(a,n)),t=t.ownerDocument||t,n=t.createElement("script"),Vt(n),It(n,"link",a),t.head.appendChild(n),e.instance=n);case"void":return null;default:throw Error(o(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(a=e.instance,e.state.loading|=4,ti(a,l.precedence,t));return e.instance}function ti(t,e,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,u=n,i=0;i<a.length;i++){var c=a[i];if(c.dataset.precedence===e)u=c;else if(u!==n)break}u?u.parentNode.insertBefore(t,u.nextSibling):(e=l.nodeType===9?l.head:l,e.insertBefore(t,e.firstChild))}function Nc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function jc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ei=null;function Ad(t,e,l){if(ei===null){var a=new Map,n=ei=new Map;n.set(l,a)}else n=ei,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(t))return a;for(a.set(t,null),l=l.getElementsByTagName(t),n=0;n<l.length;n++){var u=l[n];if(!(u[Ia]||u[kt]||t==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var i=u.getAttribute(e)||"";i=t+i;var c=a.get(i);c?c.push(u):a.set(i,[u])}}return a}function zd(t,e,l){t=t.ownerDocument||t,t.head.insertBefore(l,e==="title"?t.querySelector("head > title"):null)}function gm(t,e,l){if(l===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Md(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vm(t,e,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=Xa(a.href),u=e.querySelector(Cn(n));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=li.bind(t),e.then(t,t)),l.state.loading|=4,l.instance=u,Vt(u);return}u=e.ownerDocument||e,a=Nd(a),(n=we.get(n))&&Nc(a,n),u=u.createElement("link"),Vt(u);var i=u;i._p=new Promise(function(c,x){i.onload=c,i.onerror=x}),It(u,"link",a),l.instance=u}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(l,e),(e=l.state.preload)&&(l.state.loading&3)===0&&(t.count++,l=li.bind(t),e.addEventListener("load",l),e.addEventListener("error",l))}}var Ac=0;function xm(t,e){return t.stylesheets&&t.count===0&&ni(t,t.stylesheets),0<t.count||0<t.imgCount?function(l){var a=setTimeout(function(){if(t.stylesheets&&ni(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4+e);0<t.imgBytes&&Ac===0&&(Ac=62500*Ih());var n=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ni(t,t.stylesheets),t.unsuspend)){var u=t.unsuspend;t.unsuspend=null,u()}},(t.imgBytes>Ac?50:800)+e);return t.unsuspend=l,function(){t.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function li(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ni(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ai=null;function ni(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ai=new Map,e.forEach(ym,t),ai=null,li.call(t))}function ym(t,e){if(!(e.state.loading&4)){var l=ai.get(t);if(l)var a=l.get(null);else{l=new Map,ai.set(t,l);for(var n=t.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<n.length;u++){var i=n[u];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(l.set(i.dataset.precedence,i),a=i)}a&&l.set(null,a)}n=e.instance,i=n.getAttribute("data-precedence"),u=l.get(i)||a,u===a&&l.set(null,n),l.set(i,n),this.count++,a=li.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),u?u.parentNode.insertBefore(n,u.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(n,t.firstChild)),e.state.loading|=4}}var Hn={$$typeof:J,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function bm(t,e,l,a,n,u,i,c,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=u,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Td(t,e,l,a,n,u,i,c,x,E,C,H){return t=new bm(t,e,l,i,x,E,C,H,c),e=1,u===!0&&(e|=24),u=he(3,null,null,e),t.current=u,u.stateNode=t,e=ns(),e.refCount++,t.pooledCache=e,e.refCount++,u.memoizedState={element:a,isDehydrated:l,cache:e},cs(u),t}function Ed(t){return t?(t=ya,t):ya}function wd(t,e,l,a,n,u){n=Ed(n),a.context===null?a.context=n:a.pendingContext=n,a=bl(e),a.payload={element:l},u=u===void 0?null:u,u!==null&&(a.callback=u),l=Sl(t,a,e),l!==null&&(fe(l,t,e),gn(l,t,e))}function Dd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<e?l:e}}function zc(t,e){Dd(t,e),(t=t.alternate)&&Dd(t,e)}function Od(t){if(t.tag===13||t.tag===31){var e=Zl(t,67108864);e!==null&&fe(e,t,67108864),zc(t,67108864)}}function Ud(t){if(t.tag===13||t.tag===31){var e=xe();e=Si(e);var l=Zl(t,e);l!==null&&fe(l,t,e),zc(t,e)}}var ui=!0;function Sm(t,e,l,a){var n=j.T;j.T=null;var u=M.p;try{M.p=2,Mc(t,e,l,a)}finally{M.p=u,j.T=n}}function _m(t,e,l,a){var n=j.T;j.T=null;var u=M.p;try{M.p=8,Mc(t,e,l,a)}finally{M.p=u,j.T=n}}function Mc(t,e,l,a){if(ui){var n=Tc(a);if(n===null)hc(t,e,a,ii,l),Bd(t,a);else if(jm(n,t,e,l,a))a.stopPropagation();else if(Bd(t,a),e&4&&-1<Nm.indexOf(t)){for(;n!==null;){var u=ca(n);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var i=ql(u.pendingLanes);if(i!==0){var c=u;for(c.pendingLanes|=2,c.entangledLanes|=2;i;){var x=1<<31-re(i);c.entanglements[1]|=x,i&=~x}Ye(u),(St&6)===0&&(Gu=Ht()+500,On(0))}}break;case 31:case 13:c=Zl(u,2),c!==null&&fe(c,u,2),Zu(),zc(u,2)}if(u=Tc(a),u===null&&hc(t,e,a,ii,l),u===n)break;n=u}n!==null&&a.stopPropagation()}else hc(t,e,a,null,l)}}function Tc(t){return t=wi(t),Ec(t)}var ii=null;function Ec(t){if(ii=null,t=sa(t),t!==null){var e=y(t);if(e===null)t=null;else{var l=e.tag;if(l===13){if(t=p(e),t!==null)return t;t=null}else if(l===31){if(t=g(e),t!==null)return t;t=null}else if(l===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return ii=t,null}function Rd(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ja()){case fl:return 2;case ua:return 8;case rl:case Fn:return 32;case Rt:return 268435456;default:return 32}default:return 32}}var wc=!1,Ol=null,Ul=null,Rl=null,qn=new Map,Yn=new Map,Bl=[],Nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bd(t,e){switch(t){case"focusin":case"focusout":Ol=null;break;case"dragenter":case"dragleave":Ul=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":qn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yn.delete(e.pointerId)}}function Xn(t,e,l,a,n,u){return t===null||t.nativeEvent!==u?(t={blockedOn:e,domEventName:l,eventSystemFlags:a,nativeEvent:u,targetContainers:[n]},e!==null&&(e=ca(e),e!==null&&Od(e)),t):(t.eventSystemFlags|=a,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function jm(t,e,l,a,n){switch(e){case"focusin":return Ol=Xn(Ol,t,e,l,a,n),!0;case"dragenter":return Ul=Xn(Ul,t,e,l,a,n),!0;case"mouseover":return Rl=Xn(Rl,t,e,l,a,n),!0;case"pointerover":var u=n.pointerId;return qn.set(u,Xn(qn.get(u)||null,t,e,l,a,n)),!0;case"gotpointercapture":return u=n.pointerId,Yn.set(u,Xn(Yn.get(u)||null,t,e,l,a,n)),!0}return!1}function Cd(t){var e=sa(t.target);if(e!==null){var l=y(e);if(l!==null){if(e=l.tag,e===13){if(e=p(l),e!==null){t.blockedOn=e,kc(t.priority,function(){Ud(l)});return}}else if(e===31){if(e=g(l),e!==null){t.blockedOn=e,kc(t.priority,function(){Ud(l)});return}}else if(e===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function si(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var l=Tc(t.nativeEvent);if(l===null){l=t.nativeEvent;var a=new l.constructor(l.type,l);Ei=a,l.target.dispatchEvent(a),Ei=null}else return e=ca(l),e!==null&&Od(e),t.blockedOn=l,!1;e.shift()}return!0}function Ld(t,e,l){si(t)&&l.delete(e)}function Am(){wc=!1,Ol!==null&&si(Ol)&&(Ol=null),Ul!==null&&si(Ul)&&(Ul=null),Rl!==null&&si(Rl)&&(Rl=null),qn.forEach(Ld),Yn.forEach(Ld)}function ci(t,e){t.blockedOn===e&&(t.blockedOn=null,wc||(wc=!0,f.unstable_scheduleCallback(f.unstable_NormalPriority,Am)))}var oi=null;function Hd(t){oi!==t&&(oi=t,f.unstable_scheduleCallback(f.unstable_NormalPriority,function(){oi===t&&(oi=null);for(var e=0;e<t.length;e+=3){var l=t[e],a=t[e+1],n=t[e+2];if(typeof a!="function"){if(Ec(a||l)===null)continue;break}var u=ca(l);u!==null&&(t.splice(e,3),e-=3,Ts(u,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Qa(t){function e(x){return ci(x,t)}Ol!==null&&ci(Ol,t),Ul!==null&&ci(Ul,t),Rl!==null&&ci(Rl,t),qn.forEach(e),Yn.forEach(e);for(var l=0;l<Bl.length;l++){var a=Bl[l];a.blockedOn===t&&(a.blockedOn=null)}for(;0<Bl.length&&(l=Bl[0],l.blockedOn===null);)Cd(l),l.blockedOn===null&&Bl.shift();if(l=(t.ownerDocument||t).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],u=l[a+1],i=n[ne]||null;if(typeof u=="function")i||Hd(l);else if(i){var c=null;if(u&&u.hasAttribute("formAction")){if(n=u,i=u[ne]||null)c=i.formAction;else if(Ec(n)!==null)continue}else c=i.action;typeof c=="function"?l[a+1]=c:(l.splice(a,3),a-=3),Hd(l)}}}function qd(){function t(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(i){return n=i})},focusReset:"manual",scroll:"manual"})}function e(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),n!==null&&(n(),n=null)}}}function Dc(t){this._internalRoot=t}fi.prototype.render=Dc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(o(409));var l=e.current,a=xe();wd(l,a,t,e,null,null)},fi.prototype.unmount=Dc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wd(t.current,2,null,t,null,null),Zu(),e[ia]=null}};function fi(t){this._internalRoot=t}fi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jc();t={blockedOn:null,target:t,priority:e};for(var l=0;l<Bl.length&&e!==0&&e<Bl[l].priority;l++);Bl.splice(l,0,t),l===0&&Cd(t)}};var Yd=m.version;if(Yd!=="19.2.1")throw Error(o(527,Yd,"19.2.1"));M.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=N(e),t=t!==null?O(t):null,t=t===null?null:t.stateNode,t};var zm={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{Qe=ri.inject(zm),te=ri}catch{}}return Qn.createRoot=function(t,e){if(!d(t))throw Error(o(299));var l=!1,a="",n=Jf,u=kf,i=Ff;return e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(a=e.identifierPrefix),e.onUncaughtError!==void 0&&(n=e.onUncaughtError),e.onCaughtError!==void 0&&(u=e.onCaughtError),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Td(t,1,!1,null,null,l,a,null,n,u,i,qd),t[ia]=e.current,dc(t),new Dc(e)},Qn.hydrateRoot=function(t,e,l){if(!d(t))throw Error(o(299));var a=!1,n="",u=Jf,i=kf,c=Ff,x=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(u=l.onUncaughtError),l.onCaughtError!==void 0&&(i=l.onCaughtError),l.onRecoverableError!==void 0&&(c=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),e=Td(t,1,!0,e,l??null,a,n,x,u,i,c,qd),e.context=Ed(null),l=e.current,a=xe(),a=Si(a),n=bl(a),n.callback=null,Sl(l,n,a),l=a,e.current.lanes=l,Wa(e,l),Ye(e),t[ia]=e.current,dc(t),new fi(e)},Qn.version="19.2.1",Qn}var Kd;function ag(){if(Kd)return Uc.exports;Kd=1;function f(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f)}catch(m){console.error(m)}}return f(),Uc.exports=lg(),Uc.exports}var ng=ag();const u0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",i0="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let ug=ye.icon({iconUrl:u0,shadowUrl:i0,iconSize:[25,41],iconAnchor:[12,41]});ye.Marker.prototype.options.icon=ug;const ig=f=>{let m="bg-blue-600",h="border-blue-700";return f.busType==="2"&&(m="bg-teal-600",h="border-teal-700"),f.busType==="3"&&(m="bg-purple-600",h="border-purple-700"),ye.divIcon({html:`
        <div class="relative flex flex-col items-center select-none" style="transform: translateY(-15px);">
            <!-- Bus Body -->
            <div class="${m} ${h} border rounded-lg shadow-sm px-1 min-w-[30px] text-center flex flex-col items-center z-10">
                <div class="text-[9px] font-bold text-white leading-tight whitespace-nowrap">
                    ${f.busPlate}
                </div>
            </div>
            <!-- Triangle Pointer -->
            <div class="w-0 h-0 border-l-[4px] border-l-transparent border-r-[4px] border-r-transparent border-t-[6px] ${h} transform -translate-y-[1px]"></div>
        </div>
        `,className:"bus-marker-label-icon",iconSize:[40,25],iconAnchor:[20,25]})},sg=({stations:f,buses:m})=>{const h=vi(),o=hi.useRef(!1);return K.useEffect(()=>{const d=f?f.filter(p=>p.latitude&&p.longitude):[],y=m?m.filter(p=>(p.latitude||p.lat)&&(p.longitude||p.lon||p.lng)):[];if(!o.current&&(d.length>0||y.length>0)){const p=[...d.map(g=>[g.latitude,g.longitude]),...y.map(g=>[g.latitude||g.lat,g.longitude||g.lon||g.lng])];if(p.length>0){const g=ye.latLngBounds(p);g.isValid()&&(h.fitBounds(g,{padding:[20,20]}),o.current=!0)}}},[f,m,h]),null},cg=({stations:f,buses:m,traffic:h})=>{const o=f.map((d,y)=>{const p=h&&h[y],g=d.latitude||(p&&p.path&&p.path.length>0?p.path[0][0]:null),A=d.longitude||(p&&p.path&&p.path.length>0?p.path[0][1]:null);return{...d,latitude:g,longitude:A,trafficLevel:p?p.traffic:null}}).filter(d=>d.latitude&&d.longitude);return s.jsx("div",{className:"h-[500px] w-full rounded-xl overflow-hidden shadow-inner border border-gray-200",children:s.jsxs(pi,{center:[22.1987,113.5439],zoom:13,style:{height:"100%",width:"100%"},children:[s.jsx(gi,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors © <a href="https://carto.com/attributions">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),h&&h.map((d,y)=>{if(!d.path||d.path.length<2)return null;const p=d.traffic==1?"green":d.traffic==2?"orange":d.traffic>=3?"red":"teal";return s.jsx(Xc,{positions:d.path,color:p,weight:5,opacity:.6},`path-${y}`)}),o.map((d,y)=>{const p=d.trafficLevel==1?"green":d.trafficLevel==2?"orange":d.trafficLevel>=3?"red":"teal";return s.jsx(Gc,{center:[d.latitude,d.longitude],radius:5,fillColor:"white",color:p,weight:2,fillOpacity:1,children:s.jsx(Hl,{children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-bold",children:[y+1,". ",d.stationName||d.staName]}),s.jsx("div",{className:"text-xs text-gray-500",children:d.stationCode||d.staCode})]})})},`stop-${d.stationCode||y}`)}),m.map((d,y)=>{let p=parseFloat(d.latitude||d.lat),g=parseFloat(d.longitude||d.lon||d.lng);if((isNaN(p)||isNaN(g))&&d.staCode){const A=o.find(N=>N.staCode===d.staCode);A&&A.latitude&&A.longitude&&(p=parseFloat(A.latitude),g=parseFloat(A.longitude))}return isNaN(p)||isNaN(g)?null:s.jsx(Ll,{position:[p,g],icon:ig(d),zIndexOffset:1e3,children:s.jsx(Hl,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-bold text-blue-600",children:d.busPlate}),s.jsxs("div",{className:"text-xs",children:["Speed: ",d.speed," km/h"]})]})})},d.busPlate||`bus-${y}`)}),s.jsx(sg,{stations:o,buses:m},f?f.length:"empty")]})})},og=cl.stops,s0=(f,m)=>{const h=n0.language,o=(f||"").replace(/[-_]/g,"/").toUpperCase(),d=o.split("/")[0],y=og.find(p=>{const g=(p.raw?.P_ALIAS||"").replace(/[-_]/g,"/").toUpperCase(),A=(p.raw?.ALIAS||"").toUpperCase();return g===o||A===o||A===d||g.split("/")[0]===d});return y?h==="en"?y.raw?.P_NAME_EN||y.raw?.NAME_EN||y.name:h==="pt"?y.raw?.P_NAME_POR||y.raw?.NAME_POR||y.name:y.raw?.P_NAME||y.raw?.NAME||y.name:m||f},fg=({bus:f,onClick:m,isExpanded:h})=>{const o=f.status==="1",d=o?"top-4":"top-16";return s.jsxs("div",{className:`absolute left-1/2 ${d} transform -translate-x-1/2 -translate-y-1/2 z-20 flex flex-col items-center cursor-pointer group transition-all duration-500 ease-in-out`,onClick:y=>{y.stopPropagation(),m()},children:[s.jsx("div",{className:`
        w-8 h-8 rounded-full flex items-center justify-center shadow-lg border-2 border-white
        ${o?"bg-blue-500":"bg-emerald-500"}
        transition-transform hover:scale-110
      `,children:s.jsx("span",{className:"text-sm",children:"🚌"})}),s.jsx("span",{className:"mt-1 px-1.5 py-0.5 bg-gray-800 text-white text-[10px] rounded-full shadow-sm font-mono opacity-80 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:f.busPlate}),h&&s.jsxs("div",{className:"absolute top-10 w-32 bg-white rounded-lg shadow-xl border border-gray-100 p-2 z-30 animate-in slide-in-from-top-2 fade-in duration-200",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-700 text-center mb-1",children:f.busPlate}),s.jsxs("div",{className:"grid grid-cols-2 gap-1 text-[10px] text-gray-500",children:[s.jsxs("div",{className:"flex flex-col items-center bg-gray-50 p-1 rounded",children:[s.jsxs("span",{children:["⚡ ",f.speed]}),s.jsx("span",{className:"text-[8px] uppercase",children:"km/h"})]}),s.jsxs("div",{className:"flex flex-col items-center bg-gray-50 p-1 rounded",children:[s.jsxs("span",{children:["👥 ",f.passengerFlow]}),s.jsx("span",{className:"text-[8px] uppercase",children:"Pax"})]})]})]})]})},rg=({stop:f,index:m,isLast:h,buses:o,trafficLevel:d,eta:y})=>{const[p,g]=K.useState(null),A=N=>{const O=parseInt(N.toString());if(O>=4)return"bg-red-900";switch(O){case 1:return"bg-emerald-400";case 2:return"bg-yellow-400";case 3:return"bg-red-500";default:return"bg-gray-200"}};return s.jsxs("div",{id:`stop-${f.staCode}`,className:"relative flex group",children:[s.jsxs("div",{className:"flex flex-col items-center w-16 flex-shrink-0 relative",children:[!h&&s.jsx("div",{className:`absolute top-4 bottom-[-24px] w-2 z-0 transition-colors duration-500 rounded-full
            ${d>0?A(d):"bg-gray-200"}
          `}),s.jsx("div",{className:`relative z-10 w-4 h-4 rounded-full border-[3px] bg-white transition-all duration-300 box-border
           ${o.length>0?"border-emerald-500 scale-125":"border-gray-300 group-hover:border-teal-400"}
        `}),o.map((N,O)=>s.jsx(fg,{bus:N,isExpanded:p===O,onClick:()=>g(p===O?null:O)},O))]}),s.jsx("div",{className:"flex-1 pb-8 pt-0 min-h-[80px] flex flex-col justify-start relative top-[-4px]",children:s.jsx("div",{className:"flex items-baseline justify-between",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-base font-bold text-gray-800 leading-tight group-hover:text-teal-700 transition-colors",children:[m+1,". ",s0(f.staCode,f.staName)]}),s.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[s.jsxs("div",{className:"text-xs text-gray-400 font-mono",children:[f.staCode,f.laneName&&s.jsx("span",{className:"ml-2 text-teal-600 bg-teal-50 px-1 rounded border border-teal-100",children:f.laneName})]}),y&&s.jsxs("span",{className:"text-xs font-bold text-teal-600 bg-teal-50 px-1.5 py-0.5 rounded border border-teal-100 animate-pulse",children:[y," min"]})]})]})})})]})},dg=(f,m,h,o)=>{let d=0;for(let y=m;y<h;y++){const p=f[y],g=f[y+1];if(!p?.latitude||!p?.longitude||!g?.latitude||!g?.longitude)continue;const A=getDistanceFromLatLonInKm(parseFloat(p.latitude),parseFloat(p.longitude),parseFloat(g.latitude),parseFloat(g.longitude));let N=1;if(o&&o[y]){const O=o[y].traffic||1;O>=3?N=2:O>=2&&(N=1.5)}d+=A*1.5*N}return d},hg=({stops:f,trafficData:m})=>{const h=[];return f.forEach((o,d)=>{o.buses&&o.buses.length>0&&o.buses.forEach(y=>{h.push({index:d,bus:y})})}),s.jsxs("div",{className:"py-6 relative w-fit mx-auto min-w-[340px] max-w-full px-4",children:[s.jsx("div",{className:"absolute top-0 left-12 w-2 h-6 bg-gradient-to-b from-transparent to-gray-200 z-0 opacity-50 rounded-full"}),f.map((o,d)=>{let y=0;m&&m[d]&&(y=m[d].traffic);let p=null;const g=h.filter(N=>N.index<=d),A=g.length>0?g[g.length-1]:null;if(A)if(A.index===d)p="Arrived";else{const N=dg(f,A.index,d,m),w=(d-A.index)*.75,q=Math.round(N+w);p=(q<1?1:q).toString()}return p==="Arrived"&&(p=null),s.jsx(rg,{stop:o,index:d,isLast:d===f.length-1,buses:o.buses,trafficLevel:y,eta:p},o.busstopcode||d)}),s.jsx("div",{className:"absolute bottom-0 left-8 w-2 h-6 bg-gradient-to-t from-transparent to-gray-200 z-0 opacity-50 rounded-full"})]})},mg=["1","1A","2","2A","2AS","3","3A","3AX","3X","4","5","5X","6A","6B","7","8","8A","9","9A","10","10B","11","12","15","15S","15S1","16","16S","17","17S","18","18A","18B","19","21A","22","23","25","25AX","25B","25BS","26","26A","27","28A","28B","28C","29","30","30X","32","33","34","35","36","37","39","50","50B","51","51A","51X","52","55","56","59","60","61","65","71","71S","72","73","101X","102X","103","701X","701XS","AP1","AP1X","H1","H2","H3","MT1","MT2","MT3","MT4","MT5","N1A","N1B","N2","N3","N5","N6"],xi=(f,m,h,o)=>{const y=di(h-f),p=di(o-m),g=Math.sin(y/2)*Math.sin(y/2)+Math.cos(di(f))*Math.cos(di(h))*Math.sin(p/2)*Math.sin(p/2);return 6371*(2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g)))},di=f=>f*(Math.PI/180),pg=({searchMode:f,onModeChange:m})=>{const{t:h}=Qt();return s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>m("route"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${f==="route"?"bg-teal-500 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:["🚌 ",h("search_route")]}),s.jsxs("button",{onClick:()=>m("stop"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all ${f==="stop"?"bg-teal-500 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:["📍 ",h("search_stop")]})]})},gg=({routes:f,onSelectRoute:m})=>{const{t:h}=Qt();return s.jsxs("div",{className:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 gap-3 content-start",children:[f.map(o=>s.jsx("button",{onClick:()=>m(o),className:"aspect-square flex items-center justify-center bg-white hover:bg-teal-50 border border-gray-200 hover:border-teal-400 rounded-lg shadow-sm hover:shadow-md transition-all group",children:s.jsx("span",{className:"text-lg font-bold text-gray-700 group-hover:text-teal-600",children:o})},o)),f.length===0&&s.jsx("div",{className:"col-span-full text-center py-10 text-gray-500",children:h("no_data")})]})};var Cc={exports:{}};const vg={},xg=Object.freeze(Object.defineProperty({__proto__:null,default:vg},Symbol.toStringTag,{value:"Module"})),Jd=Om(xg);var kd;function yg(){return kd||(kd=1,(function(f){(function(){var m="input is invalid type",h="finalize already called",o=typeof window=="object",d=o?window:{};d.JS_MD5_NO_WINDOW&&(o=!1);var y=!o&&typeof self=="object",p=!d.JS_MD5_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;p?d=Um:y&&(d=self);var g=!d.JS_MD5_NO_COMMON_JS&&!0&&f.exports,A=!d.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",N="0123456789abcdef".split(""),O=[128,32768,8388608,-2147483648],w=[0,8,16,24],q=["hex","array","digest","buffer","arrayBuffer","base64"],G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),B=[],Z;if(A){var Q=new ArrayBuffer(68);Z=new Uint8Array(Q),B=new Uint32Array(Q)}var tt=Array.isArray;(d.JS_MD5_NO_NODE_JS||!tt)&&(tt=function(r){return Object.prototype.toString.call(r)==="[object Array]"});var F=ArrayBuffer.isView;A&&(d.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!F)&&(F=function(r){return typeof r=="object"&&r.buffer&&r.buffer.constructor===ArrayBuffer});var J=function(r){var S=typeof r;if(S==="string")return[r,!0];if(S!=="object"||r===null)throw new Error(m);if(A&&r.constructor===ArrayBuffer)return[new Uint8Array(r),!1];if(!tt(r)&&!F(r))throw new Error(m);return[r,!1]},k=function(r){return function(S){return new $(!0).update(S)[r]()}},ut=function(){var r=k("hex");p&&(r=V(r)),r.create=function(){return new $},r.update=function(v){return r.create().update(v)};for(var S=0;S<q.length;++S){var b=q[S];r[b]=k(b)}return r},V=function(r){var S=Jd,b=Jd.Buffer,v;b.from&&!d.JS_MD5_NO_BUFFER_FROM?v=b.from:v=function(M){return new b(M)};var j=function(M){if(typeof M=="string")return S.createHash("md5").update(M,"utf8").digest("hex");if(M==null)throw new Error(m);return M.constructor===ArrayBuffer&&(M=new Uint8Array(M)),tt(M)||F(M)||M.constructor===b?S.createHash("md5").update(v(M)).digest("hex"):r(M)};return j},it=function(r){return function(S,b){return new rt(S,!0).update(b)[r]()}},lt=function(){var r=it("hex");r.create=function(v){return new rt(v)},r.update=function(v,j){return r.create(v).update(j)};for(var S=0;S<q.length;++S){var b=q[S];r[b]=it(b)}return r};function $(r){if(r)B[0]=B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0,this.blocks=B,this.buffer8=Z;else if(A){var S=new ArrayBuffer(68);this.buffer8=new Uint8Array(S),this.blocks=new Uint32Array(S)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}$.prototype.update=function(r){if(this.finalized)throw new Error(h);var S=J(r);r=S[0];for(var b=S[1],v,j=0,M,U=r.length,Y=this.blocks,X=this.buffer8;j<U;){if(this.hashed&&(this.hashed=!1,Y[0]=Y[16],Y[16]=Y[1]=Y[2]=Y[3]=Y[4]=Y[5]=Y[6]=Y[7]=Y[8]=Y[9]=Y[10]=Y[11]=Y[12]=Y[13]=Y[14]=Y[15]=0),b)if(A)for(M=this.start;j<U&&M<64;++j)v=r.charCodeAt(j),v<128?X[M++]=v:v<2048?(X[M++]=192|v>>>6,X[M++]=128|v&63):v<55296||v>=57344?(X[M++]=224|v>>>12,X[M++]=128|v>>>6&63,X[M++]=128|v&63):(v=65536+((v&1023)<<10|r.charCodeAt(++j)&1023),X[M++]=240|v>>>18,X[M++]=128|v>>>12&63,X[M++]=128|v>>>6&63,X[M++]=128|v&63);else for(M=this.start;j<U&&M<64;++j)v=r.charCodeAt(j),v<128?Y[M>>>2]|=v<<w[M++&3]:v<2048?(Y[M>>>2]|=(192|v>>>6)<<w[M++&3],Y[M>>>2]|=(128|v&63)<<w[M++&3]):v<55296||v>=57344?(Y[M>>>2]|=(224|v>>>12)<<w[M++&3],Y[M>>>2]|=(128|v>>>6&63)<<w[M++&3],Y[M>>>2]|=(128|v&63)<<w[M++&3]):(v=65536+((v&1023)<<10|r.charCodeAt(++j)&1023),Y[M>>>2]|=(240|v>>>18)<<w[M++&3],Y[M>>>2]|=(128|v>>>12&63)<<w[M++&3],Y[M>>>2]|=(128|v>>>6&63)<<w[M++&3],Y[M>>>2]|=(128|v&63)<<w[M++&3]);else if(A)for(M=this.start;j<U&&M<64;++j)X[M++]=r[j];else for(M=this.start;j<U&&M<64;++j)Y[M>>>2]|=r[j]<<w[M++&3];this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var r=this.blocks,S=this.lastByteIndex;r[S>>>2]|=O[S&3],S>=56&&(this.hashed||this.hash(),r[0]=r[16],r[16]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=r[10]=r[11]=r[12]=r[13]=r[14]=r[15]=0),r[14]=this.bytes<<3,r[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},$.prototype.hash=function(){var r,S,b,v,j,M,U=this.blocks;this.first?(r=U[0]-680876937,r=(r<<7|r>>>25)-271733879<<0,v=(-1732584194^r&2004318071)+U[1]-117830708,v=(v<<12|v>>>20)+r<<0,b=(-271733879^v&(r^-271733879))+U[2]-1126478375,b=(b<<17|b>>>15)+v<<0,S=(r^b&(v^r))+U[3]-1316259209,S=(S<<22|S>>>10)+b<<0):(r=this.h0,S=this.h1,b=this.h2,v=this.h3,r+=(v^S&(b^v))+U[0]-680876936,r=(r<<7|r>>>25)+S<<0,v+=(b^r&(S^b))+U[1]-389564586,v=(v<<12|v>>>20)+r<<0,b+=(S^v&(r^S))+U[2]+606105819,b=(b<<17|b>>>15)+v<<0,S+=(r^b&(v^r))+U[3]-1044525330,S=(S<<22|S>>>10)+b<<0),r+=(v^S&(b^v))+U[4]-176418897,r=(r<<7|r>>>25)+S<<0,v+=(b^r&(S^b))+U[5]+1200080426,v=(v<<12|v>>>20)+r<<0,b+=(S^v&(r^S))+U[6]-1473231341,b=(b<<17|b>>>15)+v<<0,S+=(r^b&(v^r))+U[7]-45705983,S=(S<<22|S>>>10)+b<<0,r+=(v^S&(b^v))+U[8]+1770035416,r=(r<<7|r>>>25)+S<<0,v+=(b^r&(S^b))+U[9]-1958414417,v=(v<<12|v>>>20)+r<<0,b+=(S^v&(r^S))+U[10]-42063,b=(b<<17|b>>>15)+v<<0,S+=(r^b&(v^r))+U[11]-1990404162,S=(S<<22|S>>>10)+b<<0,r+=(v^S&(b^v))+U[12]+1804603682,r=(r<<7|r>>>25)+S<<0,v+=(b^r&(S^b))+U[13]-40341101,v=(v<<12|v>>>20)+r<<0,b+=(S^v&(r^S))+U[14]-1502002290,b=(b<<17|b>>>15)+v<<0,S+=(r^b&(v^r))+U[15]+1236535329,S=(S<<22|S>>>10)+b<<0,r+=(b^v&(S^b))+U[1]-165796510,r=(r<<5|r>>>27)+S<<0,v+=(S^b&(r^S))+U[6]-1069501632,v=(v<<9|v>>>23)+r<<0,b+=(r^S&(v^r))+U[11]+643717713,b=(b<<14|b>>>18)+v<<0,S+=(v^r&(b^v))+U[0]-373897302,S=(S<<20|S>>>12)+b<<0,r+=(b^v&(S^b))+U[5]-701558691,r=(r<<5|r>>>27)+S<<0,v+=(S^b&(r^S))+U[10]+38016083,v=(v<<9|v>>>23)+r<<0,b+=(r^S&(v^r))+U[15]-660478335,b=(b<<14|b>>>18)+v<<0,S+=(v^r&(b^v))+U[4]-405537848,S=(S<<20|S>>>12)+b<<0,r+=(b^v&(S^b))+U[9]+568446438,r=(r<<5|r>>>27)+S<<0,v+=(S^b&(r^S))+U[14]-1019803690,v=(v<<9|v>>>23)+r<<0,b+=(r^S&(v^r))+U[3]-187363961,b=(b<<14|b>>>18)+v<<0,S+=(v^r&(b^v))+U[8]+1163531501,S=(S<<20|S>>>12)+b<<0,r+=(b^v&(S^b))+U[13]-1444681467,r=(r<<5|r>>>27)+S<<0,v+=(S^b&(r^S))+U[2]-51403784,v=(v<<9|v>>>23)+r<<0,b+=(r^S&(v^r))+U[7]+1735328473,b=(b<<14|b>>>18)+v<<0,S+=(v^r&(b^v))+U[12]-1926607734,S=(S<<20|S>>>12)+b<<0,j=S^b,r+=(j^v)+U[5]-378558,r=(r<<4|r>>>28)+S<<0,v+=(j^r)+U[8]-2022574463,v=(v<<11|v>>>21)+r<<0,M=v^r,b+=(M^S)+U[11]+1839030562,b=(b<<16|b>>>16)+v<<0,S+=(M^b)+U[14]-35309556,S=(S<<23|S>>>9)+b<<0,j=S^b,r+=(j^v)+U[1]-1530992060,r=(r<<4|r>>>28)+S<<0,v+=(j^r)+U[4]+1272893353,v=(v<<11|v>>>21)+r<<0,M=v^r,b+=(M^S)+U[7]-155497632,b=(b<<16|b>>>16)+v<<0,S+=(M^b)+U[10]-1094730640,S=(S<<23|S>>>9)+b<<0,j=S^b,r+=(j^v)+U[13]+681279174,r=(r<<4|r>>>28)+S<<0,v+=(j^r)+U[0]-358537222,v=(v<<11|v>>>21)+r<<0,M=v^r,b+=(M^S)+U[3]-722521979,b=(b<<16|b>>>16)+v<<0,S+=(M^b)+U[6]+76029189,S=(S<<23|S>>>9)+b<<0,j=S^b,r+=(j^v)+U[9]-640364487,r=(r<<4|r>>>28)+S<<0,v+=(j^r)+U[12]-421815835,v=(v<<11|v>>>21)+r<<0,M=v^r,b+=(M^S)+U[15]+530742520,b=(b<<16|b>>>16)+v<<0,S+=(M^b)+U[2]-995338651,S=(S<<23|S>>>9)+b<<0,r+=(b^(S|~v))+U[0]-198630844,r=(r<<6|r>>>26)+S<<0,v+=(S^(r|~b))+U[7]+1126891415,v=(v<<10|v>>>22)+r<<0,b+=(r^(v|~S))+U[14]-1416354905,b=(b<<15|b>>>17)+v<<0,S+=(v^(b|~r))+U[5]-57434055,S=(S<<21|S>>>11)+b<<0,r+=(b^(S|~v))+U[12]+1700485571,r=(r<<6|r>>>26)+S<<0,v+=(S^(r|~b))+U[3]-1894986606,v=(v<<10|v>>>22)+r<<0,b+=(r^(v|~S))+U[10]-1051523,b=(b<<15|b>>>17)+v<<0,S+=(v^(b|~r))+U[1]-2054922799,S=(S<<21|S>>>11)+b<<0,r+=(b^(S|~v))+U[8]+1873313359,r=(r<<6|r>>>26)+S<<0,v+=(S^(r|~b))+U[15]-30611744,v=(v<<10|v>>>22)+r<<0,b+=(r^(v|~S))+U[6]-1560198380,b=(b<<15|b>>>17)+v<<0,S+=(v^(b|~r))+U[13]+1309151649,S=(S<<21|S>>>11)+b<<0,r+=(b^(S|~v))+U[4]-145523070,r=(r<<6|r>>>26)+S<<0,v+=(S^(r|~b))+U[11]-1120210379,v=(v<<10|v>>>22)+r<<0,b+=(r^(v|~S))+U[2]+718787259,b=(b<<15|b>>>17)+v<<0,S+=(v^(b|~r))+U[9]-343485551,S=(S<<21|S>>>11)+b<<0,this.first?(this.h0=r+1732584193<<0,this.h1=S-271733879<<0,this.h2=b-1732584194<<0,this.h3=v+271733878<<0,this.first=!1):(this.h0=this.h0+r<<0,this.h1=this.h1+S<<0,this.h2=this.h2+b<<0,this.h3=this.h3+v<<0)},$.prototype.hex=function(){this.finalize();var r=this.h0,S=this.h1,b=this.h2,v=this.h3;return N[r>>>4&15]+N[r&15]+N[r>>>12&15]+N[r>>>8&15]+N[r>>>20&15]+N[r>>>16&15]+N[r>>>28&15]+N[r>>>24&15]+N[S>>>4&15]+N[S&15]+N[S>>>12&15]+N[S>>>8&15]+N[S>>>20&15]+N[S>>>16&15]+N[S>>>28&15]+N[S>>>24&15]+N[b>>>4&15]+N[b&15]+N[b>>>12&15]+N[b>>>8&15]+N[b>>>20&15]+N[b>>>16&15]+N[b>>>28&15]+N[b>>>24&15]+N[v>>>4&15]+N[v&15]+N[v>>>12&15]+N[v>>>8&15]+N[v>>>20&15]+N[v>>>16&15]+N[v>>>28&15]+N[v>>>24&15]},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var r=this.h0,S=this.h1,b=this.h2,v=this.h3;return[r&255,r>>>8&255,r>>>16&255,r>>>24&255,S&255,S>>>8&255,S>>>16&255,S>>>24&255,b&255,b>>>8&255,b>>>16&255,b>>>24&255,v&255,v>>>8&255,v>>>16&255,v>>>24&255]},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var r=new ArrayBuffer(16),S=new Uint32Array(r);return S[0]=this.h0,S[1]=this.h1,S[2]=this.h2,S[3]=this.h3,r},$.prototype.buffer=$.prototype.arrayBuffer,$.prototype.base64=function(){for(var r,S,b,v="",j=this.array(),M=0;M<15;)r=j[M++],S=j[M++],b=j[M++],v+=G[r>>>2]+G[(r<<4|S>>>4)&63]+G[(S<<2|b>>>6)&63]+G[b&63];return r=j[M],v+=G[r>>>2]+G[r<<4&63]+"==",v};function rt(r,S){var b,v=J(r);if(r=v[0],v[1]){var j=[],M=r.length,U=0,Y;for(b=0;b<M;++b)Y=r.charCodeAt(b),Y<128?j[U++]=Y:Y<2048?(j[U++]=192|Y>>>6,j[U++]=128|Y&63):Y<55296||Y>=57344?(j[U++]=224|Y>>>12,j[U++]=128|Y>>>6&63,j[U++]=128|Y&63):(Y=65536+((Y&1023)<<10|r.charCodeAt(++b)&1023),j[U++]=240|Y>>>18,j[U++]=128|Y>>>12&63,j[U++]=128|Y>>>6&63,j[U++]=128|Y&63);r=j}r.length>64&&(r=new $(!0).update(r).array());var X=[],ot=[];for(b=0;b<64;++b){var st=r[b]||0;X[b]=92^st,ot[b]=54^st}$.call(this,S),this.update(ot),this.oKeyPad=X,this.inner=!0,this.sharedMemory=S}rt.prototype=new $,rt.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var r=this.array();$.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(r),$.prototype.finalize.call(this)}};var at=ut();at.md5=at,at.md5.hmac=lt(),g?f.exports=at:d.md5=at})()})(Cc)),Cc.exports}var bg=yg();const Kn=f=>{let m="";Object.keys(f).forEach((Z,Q)=>{m+=(Q===0?"":"&")+Z+"="+f[Z]});const h=bg.md5(m),o=new Date,d=Z=>Z.toString().padStart(2,"0"),y=o.getFullYear(),p=d(o.getMonth()+1),g=d(o.getDate()),A=d(o.getHours()),N=d(o.getMinutes()),O=`${y}${p}${g}${A}${N}`;let w=h.split("");const q=O.slice(8),G=O.slice(4,8),B=O.slice(0,4);return w.splice(24,0,q),w.splice(12,0,G),w.splice(4,0,B),w.join("")},Sg="https://bis.dsat.gov.mo:37812",_g="https://tight-lab-4f49.wongtiniaomacau.workers.dev",Jn=f=>{const m=`${Sg}${f}`;return`${_g}/?url=${encodeURIComponent(m)}`},Fd=async(f,m)=>{const h={routeName:f,dir:m,lang:"zh-tw",device:"web"},o=Kn(h),d=new URLSearchParams(h).toString(),y=Jn("/macauweb/getRouteData.html");try{return(await Vn.post(y,d,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:o}})).data}catch(p){throw console.error("Fetch Route Failed:",p),p}},aa=async(f,m)=>{try{const o={lang:"zh_tw",routeCode:f.toString().padStart(5,"0"),direction:m,indexType:"00",device:"web",categoryIds:"BCAFBD938B8D48B0B3F598B44DD32E6C"},d=Kn(o),y=new URLSearchParams(o).toString(),p=Jn("/ddbus/common/supermap/route/traffic"),g=await Vn.post(p,y,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:d,"X-Requested-With":"XMLHttpRequest",Accept:"application/json, text/javascript, */*; q=0.01"}});return g.data&&Array.isArray(g.data.data)?g.data.data.map(O=>{let w=[];return O.routeCoordinates&&(w=O.routeCoordinates.split(";").filter(q=>q).map(q=>{const[G,B]=q.split(",");return[parseFloat(B),parseFloat(G)]})),{traffic:O.newRouteTraffic||O.routeTraffic,path:w,stationCode:O.stationCode||O.stopCode||O.staCode}}):[]}catch(h){return console.error("Traffic Fetch Error:",h),[]}},mi=async(f,m,h)=>{const o={action:"dy",routeName:f,dir:m,lang:"zh-tw",routeType:h,device:"web"},d=Kn(o),y=Jn("/macauweb/routestation/bus");try{const p=await Vn.post(y,new URLSearchParams(o).toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:d}});return{type:h,data:p.data}}catch(p){return{type:h,error:p}}},c0=async(f,m)=>{const h=f.trim().toString().padStart(5,"0"),o={routeName:f.trim(),dir:m,lang:"zh-tw",routeCode:h},d=Kn(o),y=Jn("/macauweb/routestation/location"),p=new URLSearchParams(o).toString(),g=`${y}?${p}&t=${Date.now()}`;try{return(await Vn.get(g,{headers:{token:d,"X-Requested-With":"XMLHttpRequest",Accept:"application/json, text/javascript, */*; q=0.01"}})).data}catch(A){throw A}},Ng=async(f,m)=>{const h={routeName:f,dir:m,lang:"zh_tw",action:"opstime",device:"web",BypassToken:"HuatuTesting0307"},o=Kn(h),d=Jn("/ddbus/route/operationtime"),y=new URLSearchParams(h).toString();try{return(await Vn.post(d,y,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",token:o}})).data}catch(p){return console.error("OpTime Fetch Error:",p),null}},o0=cl.stops,Zn=f=>(f||"").replace(/[-_]/g,"/").toUpperCase(),f0=f=>Zn(f).split("/")[0],Za=f=>{const m=Zn(f),h=f0(f),o=o0.find(d=>{const y=Zn(d.raw?.P_ALIAS||""),p=(d.raw?.ALIAS||"").toUpperCase();return y===m||p===m||p===h||y.split("/")[0]===h});return o?{lat:o.lat,lon:o.lon}:null},$d=f=>{const m=Zn(f),h=f0(f),o=o0.find(d=>{const y=Zn(d.raw?.P_ALIAS||""),p=(d.raw?.ALIAS||"").toUpperCase();return y===m||p===m||p===h||y.split("/")[0]===h});return o?o.name:f},jg=cl.stops,Wd=f=>f?.data?.data?.routeInfo&&f.data.data.routeInfo.length>0,Ag=(f,m)=>{const h=y=>(y||"").replace(/[\/_-]/g,"-"),o=h(m),d=o.split("-")[0];return f.findIndex(y=>{const p=h(y.staCode),g=p.split("-")[0];return p===o||p===d||g===d})},zg=(f,m,h,o)=>{let d=0;for(let y=m;y<h;y++){const p=Za(f[y].staCode),g=Za(f[y+1].staCode);if(p&&g){const A=xi(p.lat,p.lon,g.lat,g.lon);let N=1;if(o?.[y]){const O=o[y].traffic||1;O>=3?N=2:O>=2&&(N=1.5)}d+=A*1.5*N}}return d},Mg=(f,m,h)=>{let o=0;for(let d=m;d<h;d++){const y=Za(f[d].staCode),p=Za(f[d+1].staCode);y&&p&&(o+=xi(y.lat,y.lon,p.lat,p.lon))}return o},Tg=f=>f===1||f==="1",Id=f=>f===0||f==="0",Eg=()=>{const[f,m]=K.useState({}),[h,o]=K.useState({}),[d,y]=K.useState([]),[p,g]=K.useState(null),A=K.useCallback(async N=>{const O=jg.find(w=>(w.code||w.raw?.P_ALIAS||w.raw?.ALIAS||"").replace(/[_-]/g,"/")===N);if(!O){o(w=>({...w,[N]:!1}));return}try{const w={};let q=[],G=O.routes||[];G.length===0&&O.raw?.ROUTE_NOS&&(G=[...new Set(O.raw.ROUTE_NOS.split(",").map(B=>B.trim()))]),await Promise.all(G.map(async B=>{const Z=async F=>{try{const[J,k]=await Promise.all([mi(B,F,"2"),mi(B,F,"0")]),ut=[];Wd(J)&&ut.push(J.data.data.routeInfo),Wd(k)&&ut.push(k.data.data.routeInfo);let V=null,it=-1;for(const X of ut){const ot=Ag(X,N);if(ot!==-1){const st=X.flatMap(_t=>_t.busInfo||[]).length,ct=V?.flatMap(_t=>_t.busInfo||[]).length||0;(!V||st>ct)&&(V=X,it=ot)}}if(!V||it===-1)return null;let lt=[];try{lt=await aa(B,F)||[]}catch{}const $=V,rt=it,at=[];for(let X=0;X<=rt;X++){const ot=$[X].busInfo||[];if(ot.length===0)continue;const st=rt-X,ct=Mg($,X,rt),_t=zg($,X,rt,lt),Pt=st*.5;let le=Math.round(_t+Pt);le===0&&st>0&&ct>.1&&(le=1);const ol=lt.slice(X,rt).map(Jt=>Jt?.traffic||1);ot.forEach(Jt=>{const ae=st===1&&Id(Jt.status),be=ae?0:st,Re=ae?0:le;if(st===0&&!Tg(Jt.status))return;const Xe=Id(Jt.status),na=Xe&&X+1<$.length?$d($[X+1].staCode):null;at.push({plate:Jt.busPlate,stopsAway:be,currentStop:$d($[X].staCode),nextStop:na,eta:Re,distanceM:ae?0:Math.round(ct*1e3),trafficSegments:ol,busStopIdx:X,targetStopIdx:rt,busStatus:Jt.status,isEnRoute:ae,isDeparted:Xe})})}at.sort((X,ot)=>X.eta-ot.eta);const r=at.filter(X=>X.stopsAway===0),S=at.filter(X=>X.stopsAway>0).slice(0,2),b=[...r,...S],v=$[$.length-1]?.staName||"",j=$.flatMap(X=>X.busInfo||[]).length;let M="no-service";at.some(X=>X.stopsAway===0)?M="arrived":at.length>0?M="active":j>0&&(M="no-approaching");const Y=at.slice(0,2).map(X=>X.plate);if(Y.length>0)try{const X=await c0(B,F),st=(X.busInfoList||X.data?.busInfoList||[]).filter(ct=>Y.includes(ct.busPlate)).map(ct=>({...ct,route:B,dir:F}));st.length>0&&q.push(...st)}catch{}return{buses:b,destination:v,totalStops:$.length,currentStopIdx:rt,status:M,minStops:at[0]?.stopsAway??999,minEta:at[0]?.eta??999,direction:F}}catch{return null}},Q=await Z("0");if(Q){w[B]=Q;return}const tt=await Z("1");tt?w[B]=tt:w[B]="No Service / Wrong Sta"})),m(B=>({...B,[N]:w})),y(q),g(new Date)}catch(w){console.error("Arrival fetch failed",w)}finally{o(w=>({...w,[N]:!1}))}},[]);return{arrivalData:f,loadingArrivals:h,stopBuses:d,lastUpdated:p,fetchStopData:A}},wg=f=>f>=3?"bg-red-500":f>=2?"bg-yellow-400":"bg-green-500",Dg=({trafficSegments:f,isDeparted:m=!1})=>!f||f.length===0?null:s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("span",{className:"text-[10px]",title:"Bus position",children:"🚌"}),s.jsx("div",{className:"flex-1 flex gap-0.5 h-1.5 rounded overflow-hidden",children:f.map((h,o)=>s.jsx("div",{className:`flex-1 ${wg(h)} first:rounded-l last:rounded-r ${o===0&&m?"animate-bus-flash":""}`,title:`Segment ${o+1}: Traffic level ${h}`},o))}),s.jsx("span",{className:"text-[10px]",title:"Your stop",children:"📍"})]}),Og=({stop:f,isExpanded:m,arrivalData:h,loadingArrivals:o,onToggle:d,onSelectRoute:y,userLocation:p})=>{const{t:g,i18n:A}=Qt(),N=B=>{const Z=A.language;return Z==="en"?B.raw?.P_NAME_EN||B.name:Z==="pt"?B.raw?.P_NAME_POR||B.name:B.raw?.P_NAME||B.name},O=B=>B<1?`${Math.round(B*1e3)}m`:`${B.toFixed(1)}km`,w=B=>B<=2?"text-green-600":B<=5?"text-yellow-600":"text-gray-700",q=f.raw?.ROUTE_NOS?.split(",").map(B=>B.trim()).filter(Boolean)||[],G=h[f.code]||{};return s.jsxs("div",{className:`border rounded-xl shadow-sm transition-all bg-white overflow-clip ${m?"ring-2 ring-teal-500 shadow-md":"hover:shadow-md border-gray-100"}`,children:[s.jsxs("div",{className:"sticky top-0 z-50 bg-white p-4 flex justify-between items-start cursor-pointer border-b border-gray-50 rounded-t-xl",onClick:d,children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-gray-800 text-xl flex items-center gap-2",children:[N(f),m?s.jsx("span",{className:"text-xs text-teal-600 bg-teal-50 px-2 py-0.5 rounded-full",children:g("open")}):s.jsx("span",{className:"text-xs text-gray-400",children:"▼"})]}),s.jsx("div",{className:"text-xs text-gray-400 font-mono",children:f.code})]}),s.jsxs("div",{className:"bg-blue-50 text-blue-600 px-2 py-1 rounded-lg text-xs font-bold flex items-center gap-1",children:[s.jsx("span",{children:"📍"})," ",O(f.distance)]})]}),!m&&q.length>0&&s.jsx("div",{className:"px-4 pb-4 flex flex-wrap gap-2",children:q.map(B=>s.jsx("span",{className:"text-xs bg-gray-100 text-gray-500 px-2 py-1 rounded cursor-pointer hover:bg-teal-50 hover:text-teal-600 transition",onClick:Z=>{Z.stopPropagation(),y(B,f.code,null)},children:B},B))}),m&&s.jsx("div",{className:"border-t border-gray-100 p-4 bg-gray-50",children:o&&Object.keys(G).length===0?s.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:g("loading")}):q.length===0?s.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:g("no_data")}):s.jsx("div",{className:"space-y-3",children:q.map(B=>{const Z=G[B];if(!(Z&&typeof Z=="object"))return s.jsx("div",{className:"bg-white p-3 rounded-lg border cursor-pointer hover:border-teal-300 transition",onClick:k=>{k.stopPropagation(),y(B,f.code,null)},children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-bold text-2xl text-teal-600",children:B}),s.jsx("span",{className:"text-xs text-gray-400",children:Z||"---"})]})},B);const{buses:tt,destination:F,status:J}=Z;return s.jsxs("div",{className:"bg-white rounded-lg border overflow-hidden cursor-pointer hover:border-teal-300 hover:shadow-md transition",onClick:k=>{k.stopPropagation(),y(B,f.code,Z.direction||null)},children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gradient-to-r from-gray-50 to-white",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-bold text-xl text-teal-600",children:B}),F&&s.jsxs("span",{className:"text-sm text-gray-500",children:["• ",g("to_destination","往")," ",F]})]}),J==="arrived"&&s.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-semibold animate-pulse",children:g("arriving")})]}),s.jsxs("div",{className:"p-3",children:[J==="no-service"&&s.jsx("div",{className:"text-gray-400 text-xs",children:g("no_active_service")}),J==="no-approaching"&&s.jsx("div",{className:"text-gray-400 text-xs",children:g("no_approaching")}),(J==="active"||J==="arrived")&&tt&&tt.length>0&&s.jsx("div",{className:"space-y-2",children:tt.map((k,ut)=>s.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-100 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mr-1",children:[s.jsx("span",{className:"text-xl",children:"🚌"}),s.jsx("span",{className:"bg-gray-100 text-gray-600 px-1.5 py-0.5 rounded text-[10px] font-mono font-medium whitespace-nowrap",children:k.plate})]}),k.stopsAway===0?s.jsx("span",{className:"text-xl font-extrabold text-green-600 animate-pulse ml-1",children:k.isEnRoute?g("arriving"):g("at_station")}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-baseline gap-1 ml-1",children:[s.jsx("span",{className:"text-2xl font-extrabold text-emerald-600 font-mono tracking-tight",children:k.stopsAway}),s.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:g("stops")})]}),s.jsx("span",{className:"text-[10px] font-bold bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded-full whitespace-nowrap",children:k.distanceM>0?`${(k.distanceM/1e3).toFixed(1)}km`:"< 0.1km"})]}),k.stopsAway>0&&k.eta!==void 0&&s.jsxs("div",{className:"ml-auto flex items-baseline gap-1",children:[s.jsx("span",{className:`text-2xl font-extrabold font-mono tracking-tight ${w(k.eta)}`,children:k.eta===0?"<1":k.eta}),s.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase",children:g("min")})]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mb-2 bg-gray-50 p-2.5 rounded-md border border-gray-100",children:[s.jsx("span",{className:"text-xl",children:"📍"}),s.jsxs("div",{className:"flex flex-col overflow-hidden",children:[s.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-wider font-bold",children:g("current_location","Currently At")}),s.jsx("span",{className:"text-lg font-bold text-gray-800 leading-tight truncate",children:k.isEnRoute?g("en_route"):k.currentStop})]})]}),k.trafficSegments&&k.trafficSegments.length>0&&s.jsx("div",{className:"mt-1",children:s.jsx(Dg,{trafficSegments:k.trafficSegments,isDeparted:k.isDeparted})})]},ut))})]})]},B)})})})]})},Ug=({stops:f,userLocation:m,locationLoading:h,locationError:o,onSelectRoute:d,expandedStop:y,onExpandedStopChange:p})=>{const{t:g}=Qt(),[A,N]=K.useState(null),{arrivalData:O,loadingArrivals:w,fetchStopData:q}=Eg(),G=y!==void 0?y:A,B=Q=>{p?p(Q):N(Q)};K.useEffect(()=>{if(!G)return;setTimeout(()=>{const tt=document.getElementById(`stop-card-${G}`);tt&&tt.scrollIntoView({behavior:"smooth",block:"start"})},100),q(G);const Q=setInterval(()=>q(G),8e3);return()=>clearInterval(Q)},[G,q]);const Z=Q=>{B(G===Q?null:Q)};return h?s.jsxs("div",{className:"text-center py-10 text-gray-400",children:["📍 ",g("loading")]}):o&&!m?s.jsxs("div",{className:"text-center py-10 text-gray-500",children:[s.jsx("div",{className:"text-2xl mb-2",children:"🚫"}),s.jsx("p",{children:g("location_denied")})]}):f.length===0?s.jsx("div",{className:"text-center py-10 text-gray-500",children:g("no_data")}):s.jsx("div",{className:"space-y-3",children:f.map((Q,tt)=>s.jsx("div",{id:`stop-card-${Q.code}`,className:"scroll-mt-4",children:s.jsx(Og,{stop:Q,isExpanded:G===Q.code,arrivalData:O,loadingArrivals:w[Q.code],onToggle:()=>Z(Q.code),onSelectRoute:d,userLocation:m})},`${Q.code||tt}`))})},Rg=({isOpen:f,onClose:m,stops:h,userLocation:o,onSelectStop:d})=>{const{t:y,i18n:p}=Qt();if(!f)return null;const g=N=>{const O=p.language;return O==="en"?N.raw?.P_NAME_EN||N.name:O==="pt"?N.raw?.P_NAME_POR||N.name:N.raw?.P_NAME||N.name},A=o?[o.lat,o.lon]:h.length>0?[h[0].lat,h[0].lon]:[22.1987,113.5439];return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:s.jsxs("div",{className:"bg-white rounded-xl w-[95vw] h-[85vh] max-w-2xl flex flex-col overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"bg-teal-500 text-white px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg",children:"📍"}),s.jsx("span",{className:"font-bold",children:y("nearby_stops","Nearby Stops")})]}),s.jsx("button",{onClick:m,className:"text-2xl leading-none hover:bg-teal-600 rounded p-1 transition-colors",children:"×"})]}),s.jsx("div",{className:"flex-1 relative",children:s.jsxs(pi,{center:A,zoom:16,style:{height:"100%",width:"100%"},children:[s.jsx(gi,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),o&&s.jsx(Gc,{center:[o.lat,o.lon],radius:10,fillColor:"#3b82f6",color:"#1d4ed8",weight:3,fillOpacity:.8,children:s.jsx(Hl,{children:y("your_location","Your Location")})}),h.map((N,O)=>s.jsx(Ll,{position:[N.lat,N.lon],icon:ye.divIcon({className:"",html:`<div style="
                    background-color: #14b8a6;
                    color: white;
                    border-radius: 50%;
                    width: 24px;
                    height: 24px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-weight: bold;
                    font-size: 10px;
                    border: 2px solid white;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                  ">${O+1}</div>`,iconSize:[24,24],iconAnchor:[12,12]}),children:s.jsx(Hl,{children:s.jsxs("div",{className:"text-sm min-w-[140px]",children:[s.jsx("div",{className:"font-bold text-teal-600 text-base",children:g(N)}),s.jsx("div",{className:"text-gray-500 text-xs",children:N.code}),N.distance&&N.distance<999&&s.jsx("div",{className:"text-gray-500 text-xs mt-1",children:N.distance<1?`${Math.round(N.distance*1e3)}m`:`${N.distance.toFixed(1)}km`}),N.raw?.ROUTE_NOS&&s.jsxs("div",{className:"text-xs text-gray-600 mt-1 max-w-[150px] flex flex-wrap gap-1",children:[N.raw.ROUTE_NOS.split(",").slice(0,6).map(w=>s.jsx("span",{className:"bg-gray-100 px-1 rounded",children:w.trim()},w)),N.raw.ROUTE_NOS.split(",").length>6&&s.jsx("span",{className:"text-gray-400",children:"..."})]}),d&&s.jsx("button",{onClick:()=>{d(N.code),m()},className:"mt-2 w-full py-1.5 bg-teal-500 text-white text-xs font-medium rounded hover:bg-teal-600 transition-colors",children:y("view_details","View Details")})]})})},N.code||O))]})}),s.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-t text-xs text-gray-600 flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 border border-blue-700"}),s.jsx("span",{children:y("your_location","Your Location")})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-teal-500 border border-white"}),s.jsx("span",{children:y("bus_stop","Bus Stop")})]})]})]})})},Bg=cl.stops,Cg=({onSelectRoute:f,initialSearchMode:m="route",onSearchModeChange:h,expandedStop:o,onExpandedStopChange:d})=>{const{t:y}=Qt(),[p,g]=K.useState(""),[A,N]=K.useState(m),[O,w]=K.useState(null),[q,G]=K.useState(!1),[B,Z]=K.useState(null),[Q,tt]=K.useState(!1),F=V=>{N(V),g(""),h?.(V)};K.useEffect(()=>{A==="stop"&&!O&&!q&&(G(!0),navigator.geolocation.getCurrentPosition(V=>{w({lat:V.coords.latitude,lon:V.coords.longitude}),G(!1)},V=>{Z(V.message),G(!1)},{enableHighAccuracy:!0,timeout:1e4}))},[A,O,q]);const J=K.useMemo(()=>A!=="route"?[]:mg.filter(V=>V.toLowerCase().includes(p.toLowerCase())),[p,A]),k=K.useMemo(()=>A!=="stop"?[]:Bg.map(V=>{const it=O?xi(O.lat,O.lon,V.lat,V.lon):999,lt=(V.raw?.P_ALIAS||"UNKNOWN").replace(/[_-]/g,"/");return{...V,distance:it,code:lt}}),[A,O]),ut=K.useMemo(()=>{if(A!=="stop")return[];let V=[...k];if(p.length>0){const lt=p.toLowerCase();V=V.filter($=>[$.name,$.raw?.P_NAME,$.raw?.P_NAME_EN,$.raw?.P_NAME_POR,$.raw?.P_ALIAS].filter(Boolean).map(at=>at.toLowerCase()).some(at=>at.includes(lt)))}V.sort((lt,$)=>lt.distance-$.distance);let it=V.slice(0,p.length>0?30:15);if(o&&!it.some(lt=>lt.code===o)){const lt=k.find($=>$.code===o);lt&&(it=[lt,...it])}return it},[k,p,A,o]);return s.jsxs("div",{className:"flex flex-col h-full bg-gray-50",children:[s.jsxs("div",{className:"p-4 pb-0",children:[s.jsx(pg,{searchMode:A,onModeChange:F}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:y(A==="route"?"all_routes":p?"search_stop":"nearby_stops")}),A==="stop"&&ut.length>0&&s.jsxs("button",{onClick:()=>tt(!0),className:"flex items-center gap-1 px-3 py-1.5 bg-teal-50 text-teal-600 rounded-lg text-sm font-medium hover:bg-teal-100 transition-colors",children:["🗺️ ",y("map_view","Map")]})]}),s.jsx("input",{type:"text",placeholder:y(A==="route"?"search_route_placeholder":"search_stop_placeholder"),className:"w-full p-3 rounded-xl border border-gray-300 shadow-sm focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition-all",value:p,onChange:V=>g(V.target.value)})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:s.jsx("div",{className:"p-4",children:A==="route"?s.jsx(gg,{routes:J,onSelectRoute:f}):s.jsx(Ug,{stops:ut,userLocation:O,locationLoading:q,locationError:B,onSelectRoute:f,expandedStop:o,onExpandedStopChange:d})})}),s.jsx(Rg,{isOpen:Q,onClose:()=>tt(!1),stops:ut,userLocation:O,onSelectStop:V=>{d?.(V),tt(!1)}})]})},Lg=[{code:"zh-TW",label:"繁中"},{code:"en",label:"EN"},{code:"pt",label:"PT"}],r0=()=>{const{i18n:f}=Qt();return s.jsx("div",{className:"flex gap-1 bg-white/20 backdrop-blur-md rounded-lg p-1 border border-white/10 shadow-sm",children:Lg.map(({code:m,label:h})=>s.jsx("button",{onClick:()=>f.changeLanguage(m),className:`px-2 py-1 text-xs font-bold rounded transition-all ${f.language===m?"bg-white text-teal-600 shadow-sm transform scale-105":"text-white/90 hover:bg-white/10"}`,children:h},m))})},Hg=({activeRoute:f,busData:m,routeNo:h,hasOppositeDirection:o,onBack:d,onSearch:y,onSetRouteNo:p,onToggleDirection:g,onResetToHome:A})=>{const{t:N}=Qt();return s.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-emerald-500 text-white p-4 shadow-md sticky top-0 z-10",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h1",{className:"text-2xl font-bold tracking-tight cursor-pointer flex items-center gap-2",onClick:A,children:[m&&s.jsx("button",{onClick:O=>{O.stopPropagation(),d()},className:"mr-1 hover:bg-white/20 rounded-full p-1 transition",title:"Back",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M15 19l-7-7 7-7"})})}),!m&&"🚍"," ",N("app_title")]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(r0,{})})]}),!m&&s.jsx("div",{className:"text-teal-100 text-sm mb-2",children:N("subtitle","Real-time bus tracking & traffic")}),m&&s.jsxs("div",{className:"flex flex-col gap-2 bg-white/10 p-3 rounded-lg backdrop-blur-md shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-white text-teal-600 font-bold px-3 py-1 rounded text-xl shadow",children:f}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-teal-100 uppercase font-semibold tracking-wider",children:N("to_destination")}),s.jsx("div",{className:"font-medium truncate text-white text-lg drop-shadow-sm",children:s0(m.stops[m.stops.length-1]?.staCode,m.stops[m.stops.length-1]?.staName)})]})]}),(m.firstBusTime||m.lastBusTime)&&s.jsxs("div",{className:"flex items-center gap-4 text-sm text-teal-50 font-bold border-t border-white/20 pt-2 mt-1",children:[m.firstBusTime&&s.jsxs("div",{className:"flex items-center gap-1.5 bg-black/10 px-2 py-0.5 rounded",children:[s.jsx("span",{className:"opacity-75 text-xs uppercase",children:N("first_bus","First")}),s.jsx("span",{className:"font-mono",children:m.firstBusTime})]}),m.lastBusTime&&s.jsxs("div",{className:"flex items-center gap-1.5 bg-black/10 px-2 py-0.5 rounded",children:[s.jsx("span",{className:"opacity-75 text-xs uppercase",children:N("last_bus","Last")}),s.jsx("span",{className:"font-mono",children:m.lastBusTime})]})]})]})]})},qg=({viewMode:f,onViewModeChange:m,direction:h,hasOppositeDirection:o,onToggleDirection:d,lastUpdated:y,onRefresh:p,loading:g=!1})=>{const{t:A}=Qt();return s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"bg-white border-b px-4 py-2 flex items-center justify-between sticky top-0 z-10 shadow-sm",children:[s.jsxs("div",{className:"bg-gray-100 p-1 rounded-lg flex",children:[s.jsx("button",{onClick:()=>m("list"),className:`px-3 py-1.5 rounded-md text-xs font-semibold transition ${f==="list"?"bg-white shadow text-teal-600":"text-gray-500 hover:text-gray-700"}`,children:A("list_view")}),s.jsx("button",{onClick:()=>m("map"),className:`px-3 py-1.5 rounded-md text-xs font-semibold transition ${f==="map"?"bg-white shadow text-teal-600":"text-gray-500 hover:text-gray-700"}`,children:A("map_view")})]}),o&&s.jsxs("button",{onClick:d,className:"bg-teal-50 text-teal-600 px-3 py-1.5 rounded-lg text-xs font-semibold hover:bg-teal-100 transition flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),A("switch_dir")]})]}),s.jsxs("div",{className:"bg-gray-50 px-4 py-1 flex justify-between items-center text-[10px] text-gray-400 border-b",children:[s.jsx("span",{children:y?`${A("updated")}: ${y.toLocaleTimeString()}`:`${A("loading")}`}),s.jsxs("button",{onClick:p,disabled:g,className:`hover:text-teal-600 flex items-center gap-1 ${g?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("svg",{className:`w-3 h-3 ${g?"animate-spin":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),A("refresh")]})]})]})},Yg=({activeBusCount:f,hasGPSWeakness:m})=>{const{t:h}=Qt();return f>0?s.jsxs("div",{className:"bg-green-50/80 backdrop-blur px-4 py-2 border-b border-green-100 text-xs font-medium text-green-700 flex items-center gap-2 sticky top-0 z-10",children:[s.jsxs("span",{className:"relative flex h-2 w-2",children:[s.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),s.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),f," ",h("buses_live")]}):s.jsx("div",{className:"bg-yellow-50/80 backdrop-blur px-4 py-2 border-b border-yellow-100 text-xs font-medium text-yellow-700 sticky top-0 z-10",children:m?"⚠️ GPS Weak - Tracking by Station":`${h("loading")}`})},Xg=()=>{const[f,m]=K.useState(null),[h,o]=K.useState([]),[d,y]=K.useState([]),[p,g]=K.useState(!1),[A,N]=K.useState(""),[O,w]=K.useState(!0),[q,G]=K.useState(null),B=K.useRef(""),Z=K.useCallback(async(F,J,k)=>{const V=["0","2"].map(lt=>mi(F,J,lt)),it=aa(F.replace(/^0+/,""),J);try{const lt=await Promise.all([...V,it]);if(B.current!==F)return;const $=lt.pop();y($||[]);const rt=lt.find(at=>at?.data?.header==="000");if(rt?.data?.data?.routeInfo){const at=rt.data.data.routeInfo,r=k.map(b=>{const v=at.find(j=>j.staCode===b.staCode);return v?{...b,buses:(v.busInfo||[]).map(j=>({...j,status:j.status,speed:j.speed,busPlate:j.busPlate})),trafficLevel:0}:{...b,buses:[],trafficLevel:0}}),S=r.flatMap(b=>b.buses);m(b=>b&&{...b,stops:r,buses:S}),G(new Date)}}catch(lt){console.error("Realtime fetch failed",lt)}},[]),Q=K.useCallback(async(F,J)=>{try{const k=await c0(F,J);if(B.current!==F)return;G(new Date);const ut=k?.busInfoList||k?.data?.busInfoList||[];if(Array.isArray(ut)&&ut.length>0)o(ut.map(V=>({busPlate:V.busPlate,latitude:Number(V.latitude),longitude:Number(V.longitude),status:V.status,speed:V.speed})));else{const V=["0","2"];let it=!1;for(const lt of V){if(it)break;const $=await mi(F,J,lt);if(B.current!==F)return;if($?.data?.data?.routeInfo){const rt=[];$.data.data.routeInfo.forEach(at=>{at.busInfo&&at.busInfo.forEach(r=>{rt.push({...r,staCode:at.staCode})})}),rt.length>0&&(o(rt),it=!0)}}!it&&B.current===F&&o([])}try{const V=await aa(F.replace(/^0+/,""),J);B.current===F&&y(V||[])}catch{}}catch(k){console.error("Bus location fetch failed",k),B.current===F&&o([])}},[]),tt=K.useCallback(async(F,J)=>{if(F){g(!0),N(""),B.current=F;try{const k=Fd(F,J),ut=Ng(F,J),[V,it]=await Promise.all([k,ut]);if(B.current!==F)return;if(V?.data?.routeInfo?.length>0){const lt=V.data.routeInfo.map(S=>({...S,buses:[],trafficLevel:0})),$=Array.isArray(it)&&it.length>0?it[0]?.data?.[0]:null,rt=$?.firstBusTime||$?.startTime||"",at=$?.lastBusTime||$?.endTime||"";m({stops:lt,buses:[],raw:V.data,direction:J,firstBusTime:rt,lastBusTime:at}),Z(F,J,lt);const r=J==="0"?"1":"0";try{const S=await Fd(F,r);B.current===F&&w(S?.data?.routeInfo?.length>0)}catch{B.current===F&&w(!1)}}else N("Route not found or empty data.")}catch(k){N(k.message||"Failed to fetch route data")}finally{B.current===F&&g(!1)}}},[Z]);return{busData:f,mapBuses:h,trafficData:d,loading:p,error:A,hasOppositeDirection:O,lastUpdated:q,executeSearch:tt,fetchRealtimeBus:Z,fetchBusLocation:Q,setBusData:m,setMapBuses:o,setTrafficData:y,setLoading:g,setError:N,setHasOppositeDirection:w,activeRouteRef:B}},Gg=({className:f="w-5 h-5"})=>s.jsxs("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),s.jsx("path",{d:"M3 10h18"}),s.jsx("circle",{cx:"7",cy:"20",r:"2"}),s.jsx("circle",{cx:"17",cy:"20",r:"2"})]}),Qg=({className:f="w-5 h-5"})=>s.jsx("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),Zg=({activeTab:f,onTabChange:m})=>{const{t:h}=Qt(),o=[{id:"live",label:h("nav.live_status","Live Status"),icon:Gg},{id:"planner",label:h("nav.route_planner","Route Planner"),icon:Qg}];return s.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:[s.jsx("div",{className:"max-w-md mx-auto flex",children:o.map(({id:d,label:y,icon:p})=>{const g=f===d;return s.jsxs("button",{onClick:()=>m(d),className:`flex-1 flex flex-col items-center justify-center py-3 transition-colors ${g?"text-teal-600":"text-gray-400 hover:text-gray-600"}`,children:[s.jsx(p,{className:`w-6 h-6 ${g?"text-teal-500":""}`}),s.jsx("span",{className:`text-xs mt-1 font-medium ${g?"text-teal-600":""}`,children:y}),g&&s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-12 h-1 bg-teal-500 rounded-b-full"})]},d)})}),s.jsx("div",{className:"h-safe-area-inset-bottom bg-white"})]})},Vg=f=>f>=3?2:f>=2?1.5:1,Kg=1.5,Jg=(f,m,h,o=[])=>{let d=0;for(let y=m;y<h;y++){const p=Za(f[y].staCode),g=Za(f[y+1].staCode);if(p&&g){const A=xi(p.lat,p.lon,g.lat,g.lon),N=o[y]?.traffic||1,O=Vg(N);d+=A*Kg*O}}return d};class kg{graph=null;isLoaded=!1;loadPromise=null;constructor(m){m&&(this.graph=m,this.isLoaded=!0)}async load(m="/macau_bus/bus_data.json"){if(!this.isLoaded)return this.loadPromise?this.loadPromise:(this.loadPromise=(async()=>{try{const h=await fetch(m);if(!h.ok)throw new Error(`Failed to load bus data: ${h.status}`);const o=await h.json();if(this.graph=o,this.graph&&this.graph.stops){const d=cl.stops||[],y=new Map;d.forEach(p=>{p.raw?.ALIAS&&y.set(p.raw.ALIAS.toUpperCase(),p),p.raw?.P_ALIAS&&y.set(p.raw.P_ALIAS.toUpperCase(),p)}),Object.values(this.graph.stops).forEach(p=>{let g=y.get(p.id.toUpperCase());if(!g){const A=p.id.replace("/","_").toUpperCase();g=y.get(A)}g&&g.raw&&(p.nameEn=g.raw.P_NAME_EN||g.raw.NAME_EN||"",p.namePt=g.raw.P_NAME_POR||g.raw.NAME_POR||""),g&&g.lat!==void 0&&g.lon!==void 0&&(p.lat=g.lat,p.lng=g.lon)})}this.isLoaded=!0}catch(h){throw console.error("RouteFinder: Failed to load data",h),h}})(),this.loadPromise)}get loaded(){return this.isLoaded}getStop(m){return this.graph?.stops[m]}getRoute(m){return this.graph?.routes[m]}haversineDistance(m,h,o,d){const p=w=>w*(Math.PI/180),g=p(o-m),A=p(d-h),N=Math.sin(g/2)*Math.sin(g/2)+Math.cos(p(m))*Math.cos(p(o))*Math.sin(A/2)*Math.sin(A/2);return 6371e3*(2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N)))}findNearestStop(m,h){if(!this.graph)return console.warn("RouteFinder: Graph not loaded"),null;let o=null,d=1/0;for(const[y,p]of Object.entries(this.graph.stops)){if(p.lat===void 0||p.lng===void 0)continue;const g=this.haversineDistance(m,h,p.lat,p.lng);g<d&&(d=g,o=y)}return o}findStopsWithinRadius(m,h,o){if(!this.graph)return[];const d=[];for(const[y,p]of Object.entries(this.graph.stops)){if(p.lat===void 0||p.lng===void 0)continue;const g=this.haversineDistance(m,h,p.lat,p.lng);g<=o&&d.push({id:y,distance:g})}return d.sort((y,p)=>y.distance-p.distance),d.map(y=>y.id)}findRoute(m,h){if(!this.graph)return console.warn("RouteFinder: Graph not loaded"),[];const o=this.graph.stops[m],d=this.graph.stops[h];if(!o||!d)return console.warn("RouteFinder: Invalid stop IDs"),[];if(m===h)return[];const y=[],p=this.findDirectRoutes(m,h);y.push(...p);const g=this.findOneTransferRoutes(m,h);if(y.push(...g),y.length<3){const A=this.findMultiTransferRoute(m,h);A&&y.push(A)}return y.sort((A,N)=>{const O=A.totalDuration-N.totalDuration;return Math.abs(O)>5?O:A.transferCount!==N.transferCount?A.transferCount-N.transferCount:O})}findDirectRoutes(m,h){const o=this.graph.stops[m],d=this.graph.stops[h],y=[],p=o.routes.filter(g=>d.routes.includes(g));for(const g of p){const A=this.graph.routes[g];if(!A)continue;const N=A.stops.indexOf(m),O=A.stops.indexOf(h);if(N!==-1&&O!==-1&&N<O){const w=A.stops.slice(N,O+1),q=this.createLeg(g,w,N),G=Math.ceil(q.duration+5);y.push({legs:[q],totalStops:w.length,transferCount:0,totalDuration:G})}}return y.sort((g,A)=>g.totalStops-A.totalStops)}findOneTransferRoutes(m,h){const o=this.graph.stops[m],d=[],y=5;for(const p of o.routes){const g=this.graph.routes[p];if(!g)continue;const A=g.stops.indexOf(m);if(A!==-1)for(let N=A+1;N<g.stops.length;N++){const O=g.stops[N],w=this.graph.stops[O];if(w){for(const q of w.routes){if(q===p)continue;const G=this.graph.routes[q];if(!G)continue;const B=G.stops.indexOf(O),Z=G.stops.indexOf(h);if(B!==-1&&Z!==-1&&B<Z){const Q=g.stops.slice(A,N+1),tt=G.stops.slice(B,Z+1),F=Q.length+tt.length-1,J=this.createLeg(p,Q),k=this.createLeg(q,tt),ut=Math.ceil(J.duration+k.duration+5+10);if(d.push({legs:[J,k],totalStops:F,transferCount:1,totalDuration:ut}),d.length>50)break}}if(d.length>50)break}}}return d.sort((p,g)=>p.totalStops-g.totalStops).slice(0,y)}findMultiTransferRoute(m,h){const o=[],d=new Set,y=this.graph.stops[m];for(const g of y.routes){const A=this.graph.routes[g];if(!A)continue;const N=A.stops.indexOf(m);if(N!==-1)for(let O=N+1;O<A.stops.length;O++){const w=A.stops[O];if(w===h){const q=A.stops.slice(N,O+1),G=this.createLeg(g,q);return{legs:[G],totalStops:q.length,transferCount:0,totalDuration:Math.ceil(G.duration+5)}}d.has(w)||(d.add(w),o.push({stopId:w,path:[{routeId:g,stops:A.stops.slice(N,O+1)}],visitedStops:new Set([m,w])}))}}const p=3;for(;o.length>0;){const g=o.shift();if(g.path.length>p)continue;const A=this.graph.stops[g.stopId];if(A)for(const N of A.routes){if(g.path.length>0&&g.path[g.path.length-1].routeId===N)continue;const O=this.graph.routes[N];if(!O)continue;const w=O.stops.indexOf(g.stopId);if(w!==-1)for(let q=w+1;q<O.stops.length;q++){const G=O.stops[q];if(g.visitedStops.has(G))continue;const B=O.stops.slice(w,q+1);if(G===h){const Z=[...g.path,{routeId:N,stops:B}],Q=Z.map(ut=>this.createLeg(ut.routeId,ut.stops)),tt=Z.reduce((ut,V)=>ut+V.stops.length,0)-(Z.length-1),F=Z.length-1,J=Q.reduce((ut,V)=>ut+V.duration,0),k=Math.ceil(J+5+F*10);return{legs:Q,totalStops:tt,transferCount:F,totalDuration:k}}if(!d.has(G)){d.add(G);const Z=new Set(g.visitedStops);Z.add(G),o.push({stopId:G,path:[...g.path,{routeId:N,stops:B}],visitedStops:Z})}}}}return null}createLeg(m,h,o=0){const d=this.graph.routes[m],[y,p]=m.split("_"),g=this.graph.stops[h[0]],A=this.graph.stops[h[h.length-1]],O=this.calculateRouteDistance(h)/1e3,w=h.length,B=O*1.5+w*.5;return{routeId:m,routeName:d?.baseRoute||y,direction:p||"0",fromStop:h[0],toStop:h[h.length-1],fromStopName:g?.name||h[0],toStopName:A?.name||h[h.length-1],stopCount:w,stops:h,duration:B,fromStopIndex:o}}async enrichWithTraffic(m){if(m.length===0)return[];const h=new Set;m.forEach(p=>{p.legs.forEach(g=>{h.add(g.routeId)})});const o=new Map,d=Array.from(h).map(async p=>{const[g,A]=p.split("_");if(!g||!A)return;const N=await aa(g,A);o.set(p,N||[])});return await Promise.all(d),m.map(p=>{const g=p.legs.map(O=>{const w=o.get(O.routeId);if(!w||w.length===0)return O;const q=this.graph?.routes[O.routeId];if(!q)return O;const G=q.stops,B=G.indexOf(O.fromStop),Z=G.indexOf(O.toStop);if(B===-1||Z===-1)return O;const Q=G.map(k=>({staCode:k})),tt=Jg(Q,B,Z,w),F=(Z-B)*.5,J=tt+F;return{...O,duration:J}}),A=g.reduce((O,w)=>O+w.duration,0),N=Math.ceil(A+5+(g.length-1)*10);return{...p,legs:g,totalDuration:N}}).sort((p,g)=>{const A=p.totalDuration-g.totalDuration;return Math.abs(A)>2?A:p.transferCount-g.transferCount})}calculateRouteDistance(m){if(!this.graph||m.length<2)return 0;let h=0;for(let o=0;o<m.length-1;o++){const d=this.graph.stops[m[o]],y=this.graph.stops[m[o+1]];d?.lat&&d?.lng&&y?.lat&&y?.lng?h+=this.haversineDistance(d.lat,d.lng,y.lat,y.lng):h+=400}return h}getRoutesForStop(m){return this.graph?.stops[m]?.routes||[]}getStopsForRoute(m){return this.graph?.routes[m]?.stops||[]}hasDirectRoute(m,h){const o=this.graph?.stops[m],d=this.graph?.stops[h];return!o||!d?!1:o.routes.some(y=>d.routes.includes(y))}searchStops(m){if(!this.graph||!m)return[];const h=m.toLowerCase(),o=[];for(const d of Object.values(this.graph.stops))if((d.id.toLowerCase().includes(h)||d.name.toLowerCase().includes(h)||d.nameEn&&d.nameEn.toLowerCase().includes(h)||d.namePt&&d.namePt.toLowerCase().includes(h))&&(o.push(d),o.length>=10))break;return o}findTrip(m,h){if(!this.graph)return null;const o=80,d=5,y=this.findStopsWithinRadius(m.lat,m.lng,1e3).slice(0,d),p=this.findStopsWithinRadius(h.lat,h.lng,1e3).slice(0,d);if(y.length===0){const N=this.findNearestStop(m.lat,m.lng);N&&y.push(N)}if(p.length===0){const N=this.findNearestStop(h.lat,h.lng);N&&p.push(N)}if(y.length===0||p.length===0)return console.warn("findTrip: Could not find nearby stops"),null;const g=[],A=new Set;for(const N of y)for(const O of p){if(N===O)continue;const w=this.graph.stops[N],q=this.graph.stops[O];if(!w||!q)continue;const G=this.haversineDistance(m.lat,m.lng,w.lat||0,w.lng||0),B=this.haversineDistance(q.lat||0,q.lng||0,h.lat,h.lng),Z=this.findRoute(N,O);for(const Q of Z){const tt=Q.legs.map(k=>`${k.routeId}:${k.fromStop}-${k.toStop}`).join("|");if(A.has(tt))continue;A.add(tt);const F={distanceMeters:Math.round(G),durationMinutes:Math.round(G/o)},J={distanceMeters:Math.round(B),durationMinutes:Math.round(B/o)};g.push({startWalk:F,busRoute:Q,endWalk:J,totalDuration:F.durationMinutes+Q.totalDuration+J.durationMinutes})}}return g.length===0?null:(g.sort((N,O)=>N.totalDuration-O.totalDuration),g.slice(0,10))}}const Hc=({className:f="w-4 h-4"})=>s.jsxs("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[s.jsx("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),s.jsx("path",{d:"M3 10h18"}),s.jsx("circle",{cx:"7",cy:"20",r:"2"}),s.jsx("circle",{cx:"17",cy:"20",r:"2"}),s.jsx("path",{d:"M7 4V2M17 4V2"})]}),Fg=({className:f="w-4 h-4"})=>s.jsx("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})}),qc=({className:f="w-4 h-4"})=>s.jsxs("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[s.jsx("circle",{cx:"12",cy:"4",r:"2"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v4l3 3M12 10l-3 7M12 10l3 7"})]}),$g=({className:f="w-6 h-6"})=>s.jsx("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Yc=f=>{const m=f.replace("/","_"),h=f.split("/")[0].split("_")[0];let o=cl.stops.find(d=>d.raw?.P_ALIAS===f||d.raw?.P_ALIAS===m);return o||(o=cl.stops.find(d=>d.raw?.ALIAS===f||d.raw?.ALIAS===m)),o||(o=cl.stops.find(d=>d.raw?.ALIAS===h||d.raw?.P_ALIAS?.startsWith(h+"_"))),o},Wg=({points:f})=>{const m=vi();return K.useEffect(()=>{if(f.length>0){const h=ye.latLngBounds(f);h.isValid()&&m.fitBounds(h,{padding:[50,50]})}},[f,m]),null},Ig=({legs:f,trafficData:m,segmentIndices:h})=>s.jsx(s.Fragment,{children:f.map((o,d)=>{const y=m[o.routeId]||[],p=h[o.routeId];return y.length===0||!p?null:y.slice(p.start,p.end).map((A,N)=>{if(!A.path||A.path.length<2)return null;const O=A.traffic===1?"#22c55e":A.traffic===2?"#f97316":A.traffic>=3?"#ef4444":"#14b8a6";return s.jsx(Xc,{positions:A.path,color:O,weight:5,opacity:.8},`leg-${d}-seg-${N}`)})})}),Pg=({legs:f,trafficData:m,segmentIndices:h,endCoords:o})=>{const{t:d}=Qt();return s.jsxs(s.Fragment,{children:[f.map((y,p)=>{const g=m[y.routeId]||[],A=h[y.routeId];if(g.length===0||!A)return null;const N=g.slice(A.start,A.end);return s.jsxs(hi.Fragment,{children:[N.map((O,w)=>{if(!O.path||O.path.length===0)return null;const q=O.path[0],G=O.traffic===1?"#22c55e":O.traffic===2?"#f97316":O.traffic>=3?"#ef4444":"#14b8a6";return s.jsx(Gc,{center:q,radius:5,fillColor:"white",color:G,weight:2,fillOpacity:1},`marker-${p}-${w}`)}),N.length>0&&(()=>{const O=N[N.length-1],w=O.path[O.path.length-1],G=p<f.length-1?"#f97316":"#14b8a6",B=ye.divIcon({className:"",html:`<div style="
                  width: 8px;
                  height: 8px;
                  background-color: white;
                  border: 2px solid ${G};
                  border-radius: 50%;
                  box-sizing: content-box;
                "></div>`,iconSize:[12,12],iconAnchor:[6,6]});return s.jsx(Ll,{position:w,icon:B,zIndexOffset:1e3},`marker-${p}-end`)})(),p<f.length-1&&(()=>{const O=y.stops[y.stops.length-1],w=f[p+1].stops[0],q=Yc(O),G=Yc(w);if(!q||!G)return null;const B=[q.lat,q.lon],Z=[G.lat,G.lon],Q=O!==w;return s.jsxs(hi.Fragment,{children:[s.jsx(Ll,{position:B,icon:ye.divIcon({className:"",html:`<div style="
                        background-color: white;
                        border: 2px solid #f97316;
                        border-radius: 4px;
                        padding: 2px 4px;
                        font-size: 10px;
                        font-weight: bold;
                        color: #f97316;
                        white-space: nowrap;
                        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
                        transform: translate(-50%, -50%);
                      ">${d("route_result.transfer","Transfer")}</div>`,iconSize:[40,20],iconAnchor:[20,10]}),zIndexOffset:900}),Q&&s.jsx(Xc,{positions:[B,Z],pathOptions:{color:"#f97316",dashArray:"5, 8",weight:3,opacity:.8}})]},`transfer-${p}`)})()]},`markers-${p}`)}),o&&s.jsx(Ll,{position:[o.lat,o.lng],children:s.jsx(Hl,{children:d("route_result.destination","Destination")})})]})},tv=ye.icon({iconUrl:u0,shadowUrl:i0,iconSize:[25,41],iconAnchor:[12,41]});ye.Marker.prototype.options.icon=tv;const ev=({isOpen:f,onClose:m,legs:h,startWalk:o,startCoords:d,endCoords:y})=>{const{t:p}=Qt(),[g,A]=K.useState({}),[N,O]=K.useState({}),[w,q]=K.useState(!1);if(K.useEffect(()=>{if(!f||h.length===0)return;(async()=>{q(!0);const Z={},Q={};for(const tt of h){const F=tt.routeName,J=tt.direction,k=tt.routeId;try{const ut=await aa(F,J);Z[k]=ut||[];const V=(ut||[]).length;let it=-1;const lt=Yc(tt.stops[0]);if(lt&&ut&&ut.length>0){const r=lt.lat,S=lt.lon;let b=1/0;ut.forEach((v,j)=>{if(v.path&&v.path.length>0){const M=v.path[0],U=Math.abs(M[0]-r)+Math.abs(M[1]-S);U<b&&(b=U,it=j)}})}it===-1&&(it=0);const $=Math.max(1,tt.stops.length-1);let rt=it,at=it+$;rt=Math.max(0,Math.min(rt,V-1)),at=Math.max(rt+1,Math.min(at,V)),console.log(`Route ${F}: Using stop count approach. Start=${rt}, NumSegments=${$}, End=${at} (Total: ${V}, Stops: ${tt.stops.length})`),Q[k]={start:rt,end:at}}catch(ut){console.error(`Failed to fetch traffic for ${F}:`,ut),Z[k]=[],Q[k]={start:0,end:0}}}A(Z),O(Q),q(!1)})()},[f,h]),!f)return null;const G=[];return d&&G.push([d.lat,d.lng]),Object.values(g).forEach(B=>{B.forEach(Z=>{Z.path&&Z.path.forEach(Q=>G.push(Q))})}),y&&G.push([y.lat,y.lng]),s.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/50 flex flex-col",children:[s.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-emerald-500 text-white px-4 py-3 flex items-center justify-between shadow-lg",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-semibold",children:h.map(B=>B.routeName).join(" → ")})}),s.jsx("button",{onClick:m,className:"p-2 hover:bg-white/20 rounded-full transition-colors","aria-label":p("close","Close"),children:s.jsx($g,{})})]}),s.jsxs("div",{className:"flex-1 relative",children:[w&&s.jsx("div",{className:"absolute inset-0 z-10 bg-white/80 flex items-center justify-center",children:s.jsx("div",{className:"text-teal-600 font-medium",children:p("loading","Loading...")})}),s.jsxs(pi,{center:[22.1987,113.5439],zoom:14,style:{height:"100%",width:"100%"},children:[s.jsx(gi,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),d&&o&&o.durationMinutes>0&&h.length>0&&s.jsx(s.Fragment,{children:s.jsx(Ll,{position:[d.lat,d.lng],children:s.jsx(Hl,{children:p("route_planner.my_location","My Location")})})}),s.jsx(Ig,{legs:h,trafficData:g,segmentIndices:N}),s.jsx(Pg,{legs:h,trafficData:g,segmentIndices:N,endCoords:y}),G.length>0&&s.jsx(Wg,{points:G})]})]}),s.jsx("div",{className:"bg-white border-t px-4 py-3",children:s.jsx("div",{className:"flex items-center justify-between text-sm",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),p("traffic.smooth","Smooth")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-orange-500"}),p("traffic.moderate","Moderate")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-red-500"}),p("traffic.congested","Congested")]})]})})})]})},lv="113.5,22.25,113.6,22.1";let Pd=0;const t0=1100;async function Lc(f){if(!f||f.trim().length<2)return[];const h=Date.now()-Pd;h<t0&&await new Promise(o=>setTimeout(o,t0-h)),Pd=Date.now();try{const d=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(f.trim()+", Macau")}&viewbox=${lv}&bounded=0&limit=5&accept-language=zh,en,pt`,y=await fetch(d,{headers:{Accept:"application/json","Accept-Language":"zh,en,pt"}});return y.ok?(await y.json()).filter(g=>{const A=parseFloat(g.lat),N=parseFloat(g.lon);return A>=22&&A<=22.3&&N>=113.4&&N<=113.7}).map(g=>({name:g.display_name?.split(",")[0]||g.name||f,lat:parseFloat(g.lat),lng:parseFloat(g.lon),type:g.type})):(console.error("Geocoding API error:",y.status),[])}catch(o){return console.error("Geocoding error:",o),[]}}const av=({isActive:f})=>{const m=vi();return K.useEffect(()=>{f&&setTimeout(()=>{m.invalidateSize()},100)},[f,m]),null},nv=({startCoords:f,endCoords:m,lastSelectedField:h})=>{const o=vi();return K.useEffect(()=>{if(h==="end"&&m)o.setView([m.lat,m.lng],17);else if(h==="start"&&f)o.setView([f.lat,f.lng],17);else if(f&&m){const d=ye.latLngBounds([[f.lat,f.lng],[m.lat,m.lng]]);o.fitBounds(d,{padding:[50,50]})}else f?o.setView([f.lat,f.lng],17):m&&o.setView([m.lat,m.lng],17)},[o,f,m,h]),null},uv=({pinDropMode:f,onMapClick:m})=>(Em({click:h=>{f&&m(h.latlng.lat,h.latlng.lng,f)}}),null),iv=({startCoords:f,endCoords:m,lastSelectedField:h,pinDropMode:o,onSetPinDropMode:d,onMapClick:y,isActive:p=!1})=>{const{t:g}=Qt();return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden relative z-0",children:[s.jsxs("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-100 flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:o?g("route_planner.tap_to_set",{type:o==="start"?g("route_planner.from","start"):g("route_planner.to","end")}):g("route_planner.map_preview","Location Preview")}),s.jsxs("div",{className:"flex gap-1",children:[s.jsxs("button",{onClick:()=>d(o==="start"?null:"start"),className:`px-2 py-1 text-xs rounded-md transition-colors ${o==="start"?"bg-green-500 text-white":"bg-gray-200 text-gray-600 hover:bg-green-100"}`,children:["📍 ",g("route_planner.set_start","Set Start")]}),s.jsxs("button",{onClick:()=>d(o==="end"?null:"end"),className:`px-2 py-1 text-xs rounded-md transition-colors ${o==="end"?"bg-red-500 text-white":"bg-gray-200 text-gray-600 hover:bg-red-100"}`,children:["📍 ",g("route_planner.set_end","Set End")]})]})]}),s.jsx("div",{style:{height:"300px"},children:s.jsxs(pi,{center:[22.1987,113.5439],zoom:13,style:{height:"100%",width:"100%"},zoomControl:!1,children:[s.jsx(gi,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),s.jsx(av,{isActive:p}),s.jsx(nv,{startCoords:f,endCoords:m,lastSelectedField:h}),s.jsx(uv,{pinDropMode:o,onMapClick:y}),f&&s.jsx(Ll,{position:[f.lat,f.lng],icon:ye.divIcon({className:"",html:`<div style="
                  width: 14px;
                  height: 14px;
                  background-color: #22c55e;
                  border: 3px solid white;
                  border-radius: 50%;
                  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                "></div>`,iconSize:[20,20],iconAnchor:[10,10]}),children:s.jsx(Hl,{children:g("route_planner.start_location","Start")})}),m&&s.jsx(Ll,{position:[m.lat,m.lng],icon:ye.divIcon({className:"",html:`<div style="
                  width: 14px;
                  height: 14px;
                  background-color: #ef4444;
                  border: 3px solid white;
                  border-radius: 50%;
                  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
                "></div>`,iconSize:[20,20],iconAnchor:[10,10]}),children:s.jsx(Hl,{children:g("route_planner.end_location","Destination")})})]})})]})},sv=({className:f="w-5 h-5"})=>s.jsxs("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[s.jsx("circle",{cx:"12",cy:"12",r:"10"}),s.jsx("path",{d:"M12 2v4M12 18v4M2 12h4M18 12h4"}),s.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),cv=({className:f="w-5 h-5"})=>s.jsx("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}),ov=({className:f="w-5 h-5"})=>s.jsx("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e0=({className:f="w-5 h-5"})=>s.jsxs("svg",{className:`${f} animate-spin`,fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l0=({className:f="w-5 h-5"})=>s.jsxs("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),fv=({startInput:f,endInput:m,onStartChange:h,onEndChange:o,onSwap:d,onFindRoute:y,loading:p,suggestions:g,placeResults:A,activeField:N,onFocusField:O,onBlurField:w,onSelectStop:q,onSelectPlace:G,onUseMyLocation:B,locatingStart:Z,selectedStart:Q,selectedEnd:tt})=>{const{t:F}=Qt();return s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1.5",children:F("route_planner.from","From")}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(l0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500"}),s.jsx("input",{type:"text",value:f,onChange:J=>h(J.target.value),onFocus:()=>O("start"),onBlur:w,placeholder:F("route_planner.search_placeholder","Search stop, place or ID"),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all"}),(g.length>0||A.length>0)&&N==="start"&&s.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 mt-1 max-h-60 overflow-y-auto",children:[g.map(J=>s.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-teal-50 border-b border-gray-50 last:border-0",onClick:()=>q(J,"start"),children:[s.jsx("div",{className:"font-bold text-gray-800",children:J.name}),s.jsx("div",{className:"text-xs text-teal-600 font-mono",children:J.id})]},J.id)),A.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-4 py-1 text-xs text-gray-400 bg-gray-50 font-semibold",children:"Places"}),A.map((J,k)=>s.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-blue-50 border-b border-gray-50 last:border-0",onClick:()=>G(J,"start"),children:[s.jsx("div",{className:"font-bold text-gray-800",children:J.name}),s.jsx("div",{className:"text-xs text-blue-600",children:"📍 Place"})]},`place-${k}`))]})]})]}),s.jsx("button",{onClick:B,disabled:Z,className:"px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",title:F("route_planner.use_location","Use my location"),children:Z?s.jsx(e0,{className:"w-5 h-5 text-gray-600"}):s.jsx(sv,{className:"w-5 h-5 text-gray-600"})})]}),Q&&f!==Q.id&&s.jsxs("p",{className:"text-xs text-teal-600 mt-1 pl-10",children:["ID: ",Q.id]})]}),s.jsx("div",{className:"flex justify-center -my-2 relative z-10",children:s.jsx("button",{onClick:d,className:"w-10 h-10 bg-white border-2 border-gray-200 rounded-full flex items-center justify-center hover:bg-gray-50 hover:border-teal-400 transition-colors shadow-sm",title:F("route_planner.swap","Swap"),children:s.jsx(cv,{className:"w-5 h-5 text-gray-500"})})}),s.jsxs("div",{className:"relative mt-4",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 uppercase tracking-wide mb-1.5",children:F("route_planner.to","To")}),s.jsxs("div",{className:"relative",children:[s.jsx(l0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-red-500"}),s.jsx("input",{type:"text",value:m,onChange:J=>o(J.target.value),onFocus:()=>O("end"),onBlur:w,placeholder:F("route_planner.search_placeholder","Search stop, place or ID"),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all"}),(g.length>0||A.length>0)&&N==="end"&&s.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 mt-1 max-h-60 overflow-y-auto",children:[g.map(J=>s.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-teal-50 border-b border-gray-50 last:border-0",onClick:()=>q(J,"end"),children:[s.jsx("div",{className:"font-bold text-gray-800",children:J.name}),s.jsx("div",{className:"text-xs text-teal-600 font-mono",children:J.id})]},J.id)),A.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-4 py-1 text-xs text-gray-400 bg-gray-50 font-semibold",children:F("route_planner.places_header","Places")}),A.map((J,k)=>s.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-blue-50 border-b border-gray-50 last:border-0",onClick:()=>G(J,"end"),children:[s.jsx("div",{className:"font-bold text-gray-800",children:J.name}),s.jsx("div",{className:"text-xs text-blue-600",children:"📍 Place"})]},`place-end-${k}`))]})]})]}),tt&&m!==tt.id&&s.jsxs("p",{className:"text-xs text-teal-600 mt-1 pl-10",children:["ID: ",tt.id]})]}),s.jsx("button",{onClick:y,disabled:p||!f||!m,className:"w-full mt-6 py-3.5 bg-gradient-to-r from-teal-500 to-emerald-500 hover:from-teal-600 hover:to-emerald-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?s.jsxs(s.Fragment,{children:[s.jsx(e0,{className:"w-5 h-5"}),F("route_planner.searching","Searching...")]}):s.jsxs(s.Fragment,{children:[s.jsx(ov,{className:"w-5 h-5"}),F("route_planner.find_route","Find Route")]})})]})},rv=f=>f.startsWith("N")?"bg-indigo-600 text-white":f.startsWith("MT")?"bg-purple-500 text-white":f.startsWith("AP")?"bg-sky-500 text-white":f.startsWith("H")?"bg-rose-500 text-white":f.includes("X")?"bg-amber-500 text-white":f.includes("A")?"bg-teal-500 text-white":f.includes("B")?"bg-emerald-500 text-white":"bg-blue-500 text-white",dv=f=>f.startsWith("N")?"bg-indigo-400":f.startsWith("MT")?"bg-purple-400":f.startsWith("AP")?"bg-sky-400":f.startsWith("H")?"bg-rose-400":f.includes("X")?"bg-amber-400":f.includes("A")?"bg-teal-400":f.includes("B")?"bg-emerald-400":"bg-blue-400",hv=({leg:f,isFirst:m,isLast:h,legIndex:o,onBadgeClick:d})=>{const{t:y}=Qt(),[p,g]=K.useState(!1),A=rv(f.routeName),N=dv(f.routeName);return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute left-4 top-6 bottom-0 w-1 ${N} ${h?"hidden":""}`}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"relative z-10 flex-shrink-0",children:m?s.jsx("div",{className:"w-8 h-8 rounded-full border-3 border-teal-500 bg-white flex items-center justify-center shadow-sm",children:s.jsx("div",{className:"w-3 h-3 rounded-full bg-teal-500"})}):s.jsx("div",{className:`w-8 h-8 rounded-full ${A} flex items-center justify-center shadow-sm`,children:s.jsx(Hc,{className:"w-4 h-4"})})}),s.jsxs("div",{className:"flex-1 pb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m&&s.jsx("span",{className:"text-xs text-gray-500 font-medium uppercase tracking-wide",children:y("route_result.start","Start")}),s.jsxs("span",{className:`px-2 py-0.5 rounded-md text-sm font-bold ${A} flex items-center gap-1 ${d?"cursor-pointer hover:opacity-90 transition-opacity":""}`,onClick:O=>{d&&(O.stopPropagation(),d())},children:[s.jsx(Hc,{className:"w-3 h-3"}),f.routeName]}),s.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[s.jsxs("span",{children:[f.stopCount," ",y("route_result.stops","stops")]}),s.jsx("span",{children:"•"}),s.jsxs("span",{className:"font-medium text-teal-600",children:[Math.round(f.duration||0)," ",y("min","min")]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-100",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-[5px] top-3 bottom-8 w-0.5 bg-gray-300"}),s.jsxs("div",{className:"relative flex items-start gap-3",children:[s.jsx("div",{className:"w-3 flex justify-center flex-shrink-0",children:s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500 z-10"})}),s.jsxs("div",{className:"flex-1 pb-1",children:[s.jsx("div",{className:"text-xs text-gray-400",children:y("route_result.board_at","Board at")}),s.jsx("div",{className:"font-medium text-gray-800",children:f.fromStopName})]})]}),p&&f.stops.slice(1,-1).map((O,w)=>{const q=O.replace("/","_"),G=O.split("/")[0].split("_")[0],Z=cl.stops.find(Q=>Q.raw?.ALIAS===O||Q.raw?.P_ALIAS===O||Q.raw?.ALIAS===q||Q.raw?.P_ALIAS===q||Q.raw?.ALIAS===G||Q.raw?.P_ALIAS?.startsWith(G+"_"))?.name||O;return s.jsxs("div",{className:"relative flex items-start gap-3 py-0.5",children:[s.jsx("div",{className:"w-3 flex justify-center flex-shrink-0",children:s.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-300 z-10"})}),s.jsxs("div",{className:"flex-1 text-sm text-gray-500",children:[s.jsxs("span",{className:"text-gray-400 mr-1",children:[w+2,"."]}),Z]})]},O)}),s.jsxs("div",{className:"relative flex items-start gap-3",children:[s.jsx("div",{className:"w-3 flex justify-center flex-shrink-0",children:s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500 z-10"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-xs text-gray-400",children:y("route_result.alight_at","Alight at")}),s.jsx("div",{className:"font-medium text-gray-800",children:f.toStopName})]})]})]}),s.jsxs("button",{onClick:()=>g(!p),className:"mt-2 w-full flex items-center justify-center gap-1 text-xs text-gray-500 hover:text-teal-600 transition-colors py-1",children:[s.jsx("span",{children:p?y("route_result.hide_stops","Hide stops"):y("route_result.show_stops","Show stops")}),s.jsx(Fg,{className:`w-3 h-3 transition-transform ${p?"rotate-180":""}`})]})]})]})]})]})},mv=()=>{const{t:f}=Qt();return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-1 bg-gray-300"}),s.jsxs("div",{className:"flex gap-3 py-3",children:[s.jsx("div",{className:"relative z-10 flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 border-2 border-orange-400 flex items-center justify-center",children:s.jsx(qc,{className:"w-4 h-4 text-orange-600"})})}),s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-sm font-medium text-orange-600 bg-orange-50 px-3 py-1 rounded-full border border-orange-200",children:f("route_result.transfer","Transfer")})})]})]})},pv=({result:f,className:m="",startWalk:h,endWalk:o,onHeaderClick:d,onViewMap:y,onRouteClick:p})=>{const{t:g}=Qt();if(!f||f.legs.length===0)return s.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center ${m}`,children:s.jsx("div",{className:"text-gray-400",children:g("route_result.no_route","No route found")})});const{legs:A,totalStops:N,transferCount:O}=f;return s.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden ${m}`,children:[s.jsx("div",{className:`px-4 py-3 bg-gradient-to-r from-teal-500 to-emerald-500 text-white ${d?"cursor-pointer hover:from-teal-600 hover:to-emerald-600 transition-colors":""}`,onClick:d,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Hc,{className:"w-5 h-5"}),s.jsx("span",{className:"font-semibold",children:A.map(w=>w.routeName).join(" → ")})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm opacity-90",children:[s.jsxs("span",{children:[N," ",g("route_result.stops","stops")]}),O>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsxs("span",{children:[O," ",g("route_result.transfers","transfer(s)")]})]}),s.jsx("span",{children:"•"}),s.jsxs("span",{className:"font-bold text-teal-100 flex items-center gap-1",children:[s.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Math.round(f.totalDuration||0)," ",g("min","min")]})]})]})}),s.jsxs("div",{className:"p-4",children:[h&&h.durationMinutes>0&&s.jsxs("div",{className:"flex gap-3 mb-3",children:[s.jsxs("div",{className:"relative z-10 flex-shrink-0",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center shadow-md",children:s.jsx(qc,{className:"w-4 h-4 text-white"})}),s.jsx("div",{className:"absolute left-1/2 top-8 bottom-0 w-0.5 -ml-px h-4 bg-blue-200"})]}),s.jsxs("div",{className:"flex-1 pb-2",children:[s.jsx("div",{className:"text-sm font-medium text-blue-700",children:g("route_planner.walk_to_stop","Walk to bus stop")}),s.jsxs("div",{className:"text-xs text-blue-600",children:[h.durationMinutes," ",g("min","min")," • ",h.distanceMeters,"m"]})]})]}),A.map((w,q)=>s.jsxs(hi.Fragment,{children:[q>0&&s.jsx(mv,{fromLeg:A[q-1],toLeg:w}),s.jsx(hv,{leg:w,isFirst:q===0,isLast:q===A.length-1,legIndex:q,onBadgeClick:()=>p?.(w.routeName,w.fromStop)})]},`${w.routeId}-${q}`)),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"relative z-10 flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-red-500 flex items-center justify-center shadow-md",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})})}),s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:g("route_result.destination","Destination")}),s.jsx("div",{className:"font-semibold text-gray-800",children:A[A.length-1].toStopName})]})})]}),o&&o.durationMinutes>0&&s.jsxs("div",{className:"flex gap-3 mt-3",children:[s.jsxs("div",{className:"relative z-10 flex-shrink-0",children:[s.jsx("div",{className:"absolute left-1/2 bottom-8 top-0 w-0.5 -ml-px h-4 bg-green-200"}),s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500 flex items-center justify-center shadow-md mt-4",children:s.jsx(qc,{className:"w-4 h-4 text-white"})})]}),s.jsxs("div",{className:"flex-1 pt-2",children:[s.jsx("div",{className:"text-sm font-medium text-green-700",children:g("route_planner.walk_to_destination","Walk to destination")}),s.jsxs("div",{className:"text-xs text-green-600",children:[o.durationMinutes," ",g("min","min")," • ",o.distanceMeters,"m"]})]})]}),y&&s.jsxs("button",{onClick:w=>{w.stopPropagation(),y()},className:"mt-4 w-full py-2 px-4 bg-gradient-to-r from-teal-500 to-emerald-500 text-white rounded-lg font-medium text-sm hover:from-teal-600 hover:to-emerald-600 transition-colors flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),g("route_result.view_map","View Map")]})]})]})},gv=({results:f,tripResults:m,loading:h,showMap:o,onToggleMap:d,onSelectRoute:y,onViewMap:p,onRouteClick:g})=>{const{t:A}=Qt();return h?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 animate-pulse",children:[s.jsx("div",{className:"h-10 bg-gray-200 rounded-lg mb-4"}),s.jsx("div",{className:"h-24 bg-gray-100 rounded-lg mb-3"}),s.jsx("div",{className:"h-24 bg-gray-100 rounded-lg"})]})}):!f||f.length===0?null:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-700",children:[A("route_planner.results","Route Found"),s.jsx("span",{className:"ml-2 text-sm font-normal text-gray-500",children:f.length>1?`(${f.length} ${A("route_planner.options","options")})`:""})]}),s.jsxs("button",{onClick:d,className:`px-3 py-1.5 text-sm rounded-lg transition-colors flex items-center gap-1 ${o?"bg-teal-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["🗺️ ",o?A("route_planner.hide_map","Hide Map"):A("route_planner.show_map","Show Map")]})]}),f.map((N,O)=>{const w=m?.[O];return s.jsx("div",{className:"relative",children:s.jsx(pv,{result:N,startWalk:w?.startWalk,endWalk:w?.endWalk,onHeaderClick:()=>y(O),onViewMap:()=>p(O),onRouteClick:g})},O)})]})},vv=({className:f="w-5 h-5"})=>s.jsx("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),xv=({className:f="w-5 h-5"})=>s.jsx("svg",{className:f,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),yv=({className:f="w-5 h-5"})=>s.jsxs("svg",{className:`${f} animate-spin`,fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),bv=({onViewRouteStatus:f,isActive:m=!1})=>{const{t:h}=Qt(),[o,d]=K.useState(null),[y,p]=K.useState(!0),[g,A]=K.useState(""),[N,O]=K.useState(""),[w,q]=K.useState(null),[G,B]=K.useState(null),[Z,Q]=K.useState(null),[tt,F]=K.useState(null),[J,k]=K.useState(!1),[ut,V]=K.useState(null),[it,lt]=K.useState(!1),[$,rt]=K.useState(null),[at,r]=K.useState(null),[S,b]=K.useState(null),[v,j]=K.useState(null),[M,U]=K.useState([]),[Y,X]=K.useState(null),[ot,st]=K.useState(!1);K.useEffect(()=>{(async()=>{try{const ht=new kg;await ht.load(),d(ht)}catch(ht){console.error("Failed to load RouteFinder:",ht),V(h("route_planner.load_error","Failed to load bus data"))}finally{p(!1)}})()},[h]);const ct=K.useCallback(()=>{if(!navigator.geolocation){V(h("route_planner.geo_not_supported","Geolocation is not supported"));return}lt(!0),V(null),navigator.geolocation.getCurrentPosition(I=>{const{latitude:ht,longitude:Lt}=I.coords;rt({lat:ht,lng:Lt}),A(h("route_planner.my_location","My Location")),q(null),lt(!1)},I=>{console.error("Geolocation error:",I),V(h("route_planner.geo_error","Failed to get location")),lt(!1)},{enableHighAccuracy:!0,timeout:1e4})},[h]),_t=()=>{const I=N,ht=g,Lt=G,Be=w,Ce=at,Ht=$;A(I),O(ht),q(Lt),B(Be),rt(Ce),r(Ht),Pt({start:I,end:ht,sSel:Lt,eSel:Be,sCoords:Ce,eCoords:Ht})},Pt=K.useCallback(async(I={})=>{const ht=I.start!==void 0?I.start:g,Lt=I.end!==void 0?I.end:N,Be=I.sSel!==void 0?I.sSel:w,Ce=I.eSel!==void 0?I.eSel:G,Ht=I.sCoords!==void 0?I.sCoords:$,Ja=I.eCoords!==void 0?I.eCoords:at;if(!o||!ht||!Lt){V(h("route_planner.missing_points","Please enter both start and end points"));return}k(!0),V(null),Q(null),F(null);try{await new Promise(Rt=>setTimeout(Rt,300));let fl=!!(Ht&&Ja),ua=Ht,rl=Ja;const Fn=Rt=>/^[MTC]\d+/i.test(Rt.trim());if(!Ht&&!Be&&!Fn(ht)){const Rt=await Lc(ht);Rt.length>0&&(ua={lat:Rt[0].lat,lng:Rt[0].lng},fl=!0)}if(!Ja&&!Ce&&!Fn(Lt)){const Rt=await Lc(Lt);Rt.length>0&&(rl={lat:Rt[0].lat,lng:Rt[0].lng},fl=!0)}if(fl&&ua&&rl){const Rt=o.findTrip(ua,rl);Rt&&Rt.length>0?(F(Rt),Q(Rt.map(ka=>ka.busRoute))):V(h("route_planner.no_route","No route found between these locations"))}else{const Rt=Be?.id||ht,ka=Ce?.id||Lt,Fa=o.findRoute(Rt,ka);Fa.length>0?(Q(Fa),o.enrichWithTraffic(Fa).then(Qe=>{Q(te=>te?[...Qe]:null)}).catch(Qe=>console.error("Traffic enrichment failed:",Qe))):V(h("route_planner.no_route","No route found between these stops"))}}catch(fl){console.error("Route finding error:",fl),V(h("route_planner.search_error","An error occurred while searching"))}finally{k(!1)}},[o,g,N,w,G,$,at,h]),le=()=>Pt(),[ol,Jt]=K.useState([]),[ae,be]=K.useState(null),Re=K.useRef(null),Xe=K.useCallback(I=>{if(!o||!I||I.length<2){Jt([]),U([]);return}const ht=o.searchStops(I);Jt(ht),Re.current&&clearTimeout(Re.current),I.length>=2?Re.current=setTimeout(async()=>{try{const Lt=await Lc(I);U(Lt)}catch(Lt){console.error("Place search error:",Lt)}},500):U([])},[o]),na=(I,ht)=>{ht==="start"?(A(I.name),q(I),rt(I.lat&&I.lng?{lat:I.lat,lng:I.lng}:null)):(O(I.name),B(I),r(I.lat&&I.lng?{lat:I.lat,lng:I.lng}:null)),b(ht),Jt([]),U([]),be(null)},Ge=(I,ht)=>{ht==="start"?(A(I.name),q(null),rt({lat:I.lat,lng:I.lng})):(O(I.name),B(null),r({lat:I.lat,lng:I.lng})),b(ht),Jt([]),U([]),be(null)},Va=K.useCallback((I,ht,Lt)=>{const Be={lat:I,lng:ht},Ce=h("route_planner.dropped_pin","Dropped Pin");Lt==="start"?(A(Ce),q(null),rt(Be)):(O(Ce),B(null),r(Be)),b(Lt),j(null)},[h]),Ka=I=>{if(A(I),q(null),be("start"),Xe(I),o){const ht=o.getStop(I.toUpperCase());ht&&q(ht)}},yi=I=>{if(O(I),B(null),be("end"),Xe(I),o){const ht=o.getStop(I.toUpperCase());ht&&B(ht)}},kn=()=>{setTimeout(()=>be(null),200)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-emerald-600 text-white px-4 py-6 shadow-lg sticky top-0 z-30",children:s.jsx("div",{className:"max-w-md mx-auto relative",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(vv,{className:"w-7 h-7"}),h("route_planner.title","Trip Planner")]}),s.jsx("p",{className:"text-teal-100 text-sm mt-1",children:h("route_planner.subtitle","Find the best bus route")})]}),s.jsx("div",{className:"mt-1",children:s.jsx(r0,{})})]})})}),s.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[y&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[s.jsx(yv,{className:"w-8 h-8 text-teal-500 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-500",children:h("route_planner.loading_data","Loading bus data...")})]}),!y&&s.jsx(fv,{startInput:g,endInput:N,onStartChange:Ka,onEndChange:yi,onSwap:_t,onFindRoute:le,loading:J,suggestions:ol,placeResults:M,activeField:ae,onFocusField:be,onBlurField:kn,onSelectStop:na,onSelectPlace:Ge,onUseMyLocation:ct,locatingStart:it,selectedStart:w,selectedEnd:G}),(!Z||ot||ae)&&s.jsx(iv,{startCoords:$,endCoords:at,lastSelectedField:S,pinDropMode:v,onSetPinDropMode:j,onMapClick:Va,isActive:m}),ut&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:ut}),s.jsx(gv,{results:Z||[],tripResults:tt,loading:J,showMap:ot,onToggleMap:()=>st(!ot),onSelectRoute:I=>{const ht=Z?.[I];ht&&ht.legs.length===1&&f?f(ht.legs[0].routeName,ht.legs[0].fromStop):X(I)},onViewMap:X,onRouteClick:f}),!J&&!Z&&!ut&&g&&N&&s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 text-center",children:[s.jsx(xv,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400",children:h("route_planner.tap_search",'Tap "Find Route" to search')})]})]}),Y!==null&&Z&&Z[Y]&&s.jsx(ev,{isOpen:!0,onClose:()=>X(null),legs:Z[Y].legs,startWalk:tt?.[Y]?.startWalk,endWalk:tt?.[Y]?.endWalk,startCoords:$||void 0,endCoords:at||void 0})]})};function Sv(){const[f,m]=K.useState(""),[h,o]=K.useState(""),[d,y]=K.useState("0"),[p,g]=K.useState("dashboard"),[A,N]=K.useState(null),[O,w]=K.useState("route"),[q,G]=K.useState(null),[B,Z]=K.useState("live"),{busData:Q,mapBuses:tt,trafficData:F,loading:J,hasOppositeDirection:k,lastUpdated:ut,executeSearch:V,fetchRealtimeBus:it,fetchBusLocation:lt,setBusData:$,setMapBuses:rt,setTrafficData:at,setHasOppositeDirection:r,activeRouteRef:S}=Xg(),b=K.useRef([]);K.useEffect(()=>{S.current=h},[h,S]),K.useEffect(()=>{A&&Q&&Q.stops&&setTimeout(()=>{const Y=A.replace(/[/_]/g,"-"),X=A.split(/[/_-]/)[0];let ot=document.getElementById(`stop-${A}`);if(ot||(ot=document.getElementById(`stop-${Y}`)),!ot){const st=document.querySelectorAll('[id^="stop-"]');for(let ct=0;ct<st.length;ct++){const _t=st[ct];if(_t.id.replace("stop-","").split(/[/_-]/)[0]===X){ot=_t;break}}}ot&&(ot.scrollIntoView({behavior:"smooth",block:"center"}),ot.classList.add("ring-2","ring-teal-400"),setTimeout(()=>ot.classList.remove("ring-2","ring-teal-400"),2e3)),N(null)},500)},[A,Q]);const v=()=>{$(null),o(""),rt([]),at([]),g("dashboard"),r(!0)},j=()=>{o(f),V(f,d)},M=(Y,X,ot)=>{const st=ot||"0";m(Y),y(st),o(Y),g("list"),V(Y,st),X&&N(X)},U=async()=>{const Y=d==="0"?"1":"0";y(Y),h&&V(h,Y)};return K.useEffect(()=>{Q&&Q.stops&&(b.current=Q.stops)},[Q]),K.useEffect(()=>{let Y;if(h){if(Q&&Q.direction!==d){console.log("Skipping interval during direction switch...");return}p==="map"?lt(h,d):b.current.length>0&&(it(h,d,b.current),aa(h.replace(/^0+/,""),d).then(X=>{S.current===h&&at(X)}).catch(console.error)),Y=setInterval(()=>{p==="map"?lt(h,d):(it(h,d,b.current),aa(h.replace(/^0+/,""),d).then(X=>{S.current===h&&at(X)}).catch(X=>console.error("Traffic interval error:",X)))},3e3)}return()=>clearInterval(Y)},[h,d,p]),K.useEffect(()=>{if(p==="map"&&tt.length>0){const Y=tt.map(X=>X.latitude&&X.longitude?`${X.busPlate}: ${X.latitude}, ${X.longitude} (Speed: ${X.speed})`:`${X.busPlate}: Station ${X.staCode} (Fallback)`);console.log("Bus Locations Update:",Y)}},[tt,p]),s.jsx("div",{className:"fixed inset-0 bg-gray-100 font-sans overflow-hidden",children:s.jsxs("div",{className:"max-w-md mx-auto bg-white h-full shadow-lg flex flex-col relative",children:[B==="live"&&s.jsxs(s.Fragment,{children:[s.jsx(Hg,{activeRoute:h,busData:Q,routeNo:f,hasOppositeDirection:k,onBack:v,onSearch:j,onSetRouteNo:m,onToggleDirection:U,onResetToHome:()=>{$(null),at([]),o(""),m(""),g("dashboard")}}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative pb-16",children:[!Q&&s.jsx(Cg,{onSelectRoute:M,initialSearchMode:O,onSearchModeChange:w,expandedStop:q,onExpandedStopChange:G}),Q&&s.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[s.jsx(qg,{viewMode:p,onViewModeChange:g,direction:d,hasOppositeDirection:k,onToggleDirection:U,lastUpdated:ut,onRefresh:()=>{p==="map"?lt(h,d):it(h,d,b.current)},loading:J}),s.jsxs("div",{className:"flex-1 overflow-y-auto relative bg-white",children:[s.jsx(Yg,{activeBusCount:Q.buses.length,hasGPSWeakness:tt.some(Y=>Y.staCode)}),p==="list"?s.jsx(hg,{stops:Q.stops,trafficData:F}):s.jsx("div",{className:"h-[500px] w-full relative",children:s.jsx(cg,{stations:Q.stops,buses:tt,traffic:F})})]})]})]})]}),s.jsx("div",{className:`flex-1 overflow-y-auto pb-16 relative ${B==="planner"?"block":"hidden"}`,children:s.jsx(bv,{onViewRouteStatus:(Y,X)=>{Z("live"),M(Y,X)},isActive:B==="planner"})}),s.jsx(Zg,{activeTab:B,onTabChange:Z})]})})}const a0=document.getElementById("root");a0&&ng.createRoot(a0).render(s.jsx(K.StrictMode,{children:s.jsx(Sv,{})}));
